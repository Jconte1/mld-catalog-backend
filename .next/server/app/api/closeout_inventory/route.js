"use strict";(()=>{var e={};e.id=52,e.ids=[52],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9980:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>y,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>m});var o={};r.r(o),r.d(o,{GET:()=>c,OPTIONS:()=>l});var n=r(9303),a=r(8716),s=r(670),i=r(6318);function u(){return{"Access-Control-Allow-Origin":"https://www.mld.com","Access-Control-Allow-Credentials":"true","Access-Control-Allow-Methods":"GET,POST,PUT,PATCH,DELETE,OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization",Vary:"Origin"}}function l(){return new Response(null,{status:204,headers:u()})}async function c(e){try{let t=new URL(e.url),r=parseInt(t.searchParams.get("page")||"1",10),o=parseInt(t.searchParams.get("limit")||"15",10),n=t.searchParams.get("type"),a=n?n.toUpperCase():null,s=(r-1)*o,l=a?{product:{type:{equals:a}}}:{},c=await i.Z.closeout_inventory.findMany({skip:s,take:o,where:l,include:{product:{select:{id:!0,brand:!0,model:!0,data:!0,type:!0,major:!0,minor:!0}}}}),p=await i.Z.closeout_inventory.count({where:l});return Response.json({page:r,limit:o,total:p,totalPages:Math.ceil(p/o),data:c},{headers:u()})}catch(e){return console.error(e),Response.json({error:"Database query failed"},{status:500,headers:u()})}}let p=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/closeout_inventory/route",pathname:"/api/closeout_inventory",filename:"route",bundlePath:"app/api/closeout_inventory/route"},resolvedPagePath:"C:\\Users\\james\\Documents\\MLDwebsite\\catalogue-backend\\app\\api\\closeout_inventory\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:h}=p,y="/api/closeout_inventory/route";function v(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:m})}},6318:(e,t,r)=>{r.d(t,{Z:()=>o});let o=new(require("@prisma/client")).PrismaClient}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[176],()=>r(9980));module.exports=o})();