"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/fetch-specs/route";
exports.ids = ["app/api/fetch-specs/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffetch-specs%2Froute&page=%2Fapi%2Ffetch-specs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch-specs%2Froute.js&appDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffetch-specs%2Froute&page=%2Fapi%2Ffetch-specs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch-specs%2Froute.js&appDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_james_Documents_MLDwebsite_mld_catalog_backend_app_api_fetch_specs_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/fetch-specs/route.js */ \"(rsc)/./app/api/fetch-specs/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/fetch-specs/route\",\n        pathname: \"/api/fetch-specs\",\n        filename: \"route\",\n        bundlePath: \"app/api/fetch-specs/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\james\\\\Documents\\\\MLDwebsite\\\\mld-catalog-backend\\\\app\\\\api\\\\fetch-specs\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_james_Documents_MLDwebsite_mld_catalog_backend_app_api_fetch_specs_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/fetch-specs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZmZXRjaC1zcGVjcyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZmV0Y2gtc3BlY3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZmZXRjaC1zcGVjcyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNqYW1lcyU1Q0RvY3VtZW50cyU1Q01MRHdlYnNpdGUlNUNtbGQtY2F0YWxvZy1iYWNrZW5kJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNqYW1lcyU1Q0RvY3VtZW50cyU1Q01MRHdlYnNpdGUlNUNtbGQtY2F0YWxvZy1iYWNrZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QztBQUMxSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovLy8/YTkwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxqYW1lc1xcXFxEb2N1bWVudHNcXFxcTUxEd2Vic2l0ZVxcXFxtbGQtY2F0YWxvZy1iYWNrZW5kXFxcXGFwcFxcXFxhcGlcXFxcZmV0Y2gtc3BlY3NcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZldGNoLXNwZWNzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZmV0Y2gtc3BlY3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2ZldGNoLXNwZWNzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcamFtZXNcXFxcRG9jdW1lbnRzXFxcXE1MRHdlYnNpdGVcXFxcbWxkLWNhdGFsb2ctYmFja2VuZFxcXFxhcHBcXFxcYXBpXFxcXGZldGNoLXNwZWNzXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9mZXRjaC1zcGVjcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffetch-specs%2Froute&page=%2Fapi%2Ffetch-specs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch-specs%2Froute.js&appDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/fetch-specs/route.js":
/*!**************************************!*\
  !*** ./app/api/fetch-specs/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jszip */ \"(rsc)/./node_modules/jszip/lib/index.js\");\n/* harmony import */ var jszip__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jszip__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_catalogue_ingestProductsFromXml__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/catalogue/ingestProductsFromXml */ \"(rsc)/./lib/catalogue/ingestProductsFromXml.js\");\n// src/app/api/fetch-specs/route.js\n\n\nconst BASE_FEED_URL = \"https://demo37861.appliances.dev.rwsgateway.com/_CGI/specs.zip?PW=-26160157\";\n// ‚úÖ All allowed brand codes\nconst ALLOWED_MAN_CODES = new Set([\n    \"TMF\",\n    \"VHOOD\",\n    \"BEST\",\n    \"LNX\",\n    \"FULGORM\",\n    \"PERLI\",\n    \"WOLF\",\n    \"AMN\",\n    \"AVA\",\n    \"BEKO\",\n    \"BER\",\n    \"BLU\",\n    \"BOSCH\",\n    \"DAC\",\n    \"CA_ELECTROLUX\",\n    \"FPK\",\n    \"FRIG\",\n    \"GAG\",\n    \"GE\",\n    \"HAR\",\n    \"JEN\",\n    \"KTA\",\n    \"LG\",\n    \"LBR\",\n    \"MAR\",\n    \"MAY\",\n    \"MIE\",\n    \"MONOGRAM\",\n    \"PERLI\",\n    \"SAMSUNG\",\n    \"SKS\",\n    \"SMEG\",\n    \"SUBZ\",\n    \"SUM\",\n    \"THE\",\n    \"ULN\",\n    \"VIK\",\n    \"WHIRL\",\n    \"ALFCO\",\n    \"AGA\",\n    \"ASK\",\n    \"AZUR\",\n    \"BGRL\",\n    \"BLOMB\",\n    \"BROILKING\",\n    \"HZK\",\n    \"ILVE\",\n    \"CAFEA\",\n    \"CAVAVIN\",\n    \"COYOTE\",\n    \"DAN\",\n    \"DLTHT\",\n    \"DCS\",\n    \"ELICA\",\n    \"FMGC\",\n    \"GLADIATOR\",\n    \"HES\",\n    \"SCO\",\n    \"KMZ\",\n    \"ULN\",\n    \"LYNX\",\n    \"ZEP\",\n    \"TWINEGL\",\n    \"VER\",\n    \"SHP\",\n    \"CA_FPK\",\n    \"CA_TH\",\n    \"CA_CAFEA\",\n    \"CA_BER\",\n    \"CA_LG\"\n]);\nconst dynamic = \"force-dynamic\"; // always fetch fresh feed\nconst revalidate = 0; // don't cache this route at all\nasync function fetchAndIngestForMan(man) {\n    const feedUrl = `${BASE_FEED_URL}&MAN=${encodeURIComponent(man)}`;\n    console.log(`üåê Fetching specs.zip for MAN=${man} ‚Üí ${feedUrl}`);\n    // 1) Download specs.zip for this brand\n    const res = await fetch(feedUrl, {\n        cache: \"no-store\"\n    });\n    if (!res.ok) {\n        throw new Error(`Failed to download specs.zip for MAN=${man}: ${res.status} ${res.statusText}`);\n    }\n    const zipData = await res.arrayBuffer();\n    console.log(`üì¶ Downloaded specs.zip for MAN=${man}, size=${zipData.byteLength} bytes`);\n    // 2) Unzip and grab the XML file\n    const zip = await jszip__WEBPACK_IMPORTED_MODULE_0___default().loadAsync(zipData);\n    const xmlFileName = Object.keys(zip.files).find((name)=>name.toLowerCase().endsWith(\".xml\"));\n    if (!xmlFileName) {\n        throw new Error(`No XML file found in specs.zip for MAN=${man}`);\n    }\n    console.log(`üìÑ Found XML inside zip for MAN=${man}: ${xmlFileName}`);\n    const xmlString = await zip.files[xmlFileName].async(\"string\");\n    console.log(`üìë XML string length for MAN=${man}:`, xmlString.length);\n    // 3) Hand off to ingestion pipeline (parse + upsert into Prisma)\n    await (0,_lib_catalogue_ingestProductsFromXml__WEBPACK_IMPORTED_MODULE_1__.ingestProductsFromXml)(xmlString);\n    console.log(`‚úÖ Finished ingest for MAN=${man}`);\n}\nasync function GET(req) {\n    // Only run when called by Vercel Cron (or your manual tools that set this header)\n    if (req.headers.get(\"x-vercel-cron\") !== \"1\") {\n        return new Response(\"ignored\");\n    }\n    const { searchParams } = new URL(req.url);\n    const manRaw = searchParams.get(\"man\"); // e.g. \"AMN\", \"ALL\", etc.\n    const man = manRaw ? manRaw.toUpperCase() : null;\n    try {\n        // ‚îÄ‚îÄ Mode 1: Single brand (?man=AMN) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n        if (man && man !== \"ALL\") {\n            if (!ALLOWED_MAN_CODES.has(man)) {\n                console.error(`‚ùå Invalid MAN code \"${man}\" ‚Äì not in allowed list`);\n                return new Response(`invalid \"man\" code: ${man}`, {\n                    status: 400\n                });\n            }\n            await fetchAndIngestForMan(man);\n            return new Response(`ok: ${man}`);\n        }\n        // ‚îÄ‚îÄ Mode 2: ALL brands (either ?man=ALL or no ?man) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n        const allCodes = Array.from(ALLOWED_MAN_CODES);\n        const summary = {\n            attempted: allCodes.length,\n            successes: [],\n            failures: []\n        };\n        for (const code of allCodes){\n            try {\n                await fetchAndIngestForMan(code);\n                summary.successes.push(code);\n            } catch (err) {\n                console.error(`‚ùå Error ingesting MAN=${code}:`, err);\n                summary.failures.push({\n                    man: code,\n                    error: String(err.message || err)\n                });\n            }\n        }\n        const status = summary.failures.length ? 207 : 200; // 207 = multi-status-ish\n        return new Response(JSON.stringify(summary, null, 2), {\n            status,\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    } catch (err) {\n        console.error(\"‚ùå Error in /api/fetch-specs:\", err);\n        return new Response(\"internal error\", {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNwRGpDO1lBQ0FvQixTQUFTO2dCQUFFLGdCQUFnQjtZQUFtQjtRQUNoRDtJQUNGLEVBQUUsT0FBT21CLEtBQUs7UUFDWjlDLFFBQVFvQyxLQUFLLENBQUMsZ0NBQWdDVTtRQUM5QyxPQUFPLElBQUlqQixTQUFTLGtCQUFrQjtZQUFFdEIsUUFBUTtRQUFJO0lBQ3REO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvYXBpL2ZldGNoLXNwZWNzL3JvdXRlLmpzP2Y4ODMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvZmV0Y2gtc3BlY3Mvcm91dGUuanNcclxuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xyXG5pbXBvcnQgeyBpbmdlc3RQcm9kdWN0c0Zyb21YbWwgfSBmcm9tIFwiLi4vLi4vLi4vbGliL2NhdGFsb2d1ZS9pbmdlc3RQcm9kdWN0c0Zyb21YbWxcIjtcclxuXHJcbmNvbnN0IEJBU0VfRkVFRF9VUkwgPVxyXG4gIFwiaHR0cHM6Ly9kZW1vMzc4NjEuYXBwbGlhbmNlcy5kZXYucndzZ2F0ZXdheS5jb20vX0NHSS9zcGVjcy56aXA/UFc9LTI2MTYwMTU3XCI7XHJcblxyXG4vLyDinIUgQWxsIGFsbG93ZWQgYnJhbmQgY29kZXNcclxuY29uc3QgQUxMT1dFRF9NQU5fQ09ERVMgPSBuZXcgU2V0KFtcclxuICBcIlRNRlwiLFxyXG4gIFwiVkhPT0RcIixcclxuICBcIkJFU1RcIixcclxuICBcIkxOWFwiLFxyXG4gIFwiRlVMR09STVwiLFxyXG4gIFwiUEVSTElcIixcclxuICBcIldPTEZcIixcclxuICBcIkFNTlwiLFxyXG4gIFwiQVZBXCIsXHJcbiAgXCJCRUtPXCIsXHJcbiAgXCJCRVJcIixcclxuICBcIkJMVVwiLFxyXG4gIFwiQk9TQ0hcIixcclxuICBcIkRBQ1wiLFxyXG4gIFwiQ0FfRUxFQ1RST0xVWFwiLFxyXG4gIFwiRlBLXCIsXHJcbiAgXCJGUklHXCIsXHJcbiAgXCJHQUdcIixcclxuICBcIkdFXCIsXHJcbiAgXCJIQVJcIixcclxuICBcIkpFTlwiLFxyXG4gIFwiS1RBXCIsXHJcbiAgXCJMR1wiLFxyXG4gIFwiTEJSXCIsXHJcbiAgXCJNQVJcIixcclxuICBcIk1BWVwiLFxyXG4gIFwiTUlFXCIsXHJcbiAgXCJNT05PR1JBTVwiLFxyXG4gIFwiUEVSTElcIixcclxuICBcIlNBTVNVTkdcIixcclxuICBcIlNLU1wiLFxyXG4gIFwiU01FR1wiLFxyXG4gIFwiU1VCWlwiLFxyXG4gIFwiU1VNXCIsXHJcbiAgXCJUSEVcIixcclxuICBcIlVMTlwiLFxyXG4gIFwiVklLXCIsXHJcbiAgXCJXSElSTFwiLFxyXG4gIFwiQUxGQ09cIixcclxuICBcIkFHQVwiLFxyXG4gIFwiQVNLXCIsXHJcbiAgXCJBWlVSXCIsXHJcbiAgXCJCR1JMXCIsXHJcbiAgXCJCTE9NQlwiLFxyXG4gIFwiQlJPSUxLSU5HXCIsXHJcbiAgXCJIWktcIixcclxuICBcIklMVkVcIixcclxuICBcIkNBRkVBXCIsXHJcbiAgXCJDQVZBVklOXCIsXHJcbiAgXCJDT1lPVEVcIixcclxuICBcIkRBTlwiLFxyXG4gIFwiRExUSFRcIixcclxuICBcIkRDU1wiLFxyXG4gIFwiRUxJQ0FcIixcclxuICBcIkZNR0NcIixcclxuICBcIkdMQURJQVRPUlwiLFxyXG4gIFwiSEVTXCIsXHJcbiAgXCJTQ09cIixcclxuICBcIktNWlwiLFxyXG4gIFwiVUxOXCIsXHJcbiAgXCJMWU5YXCIsXHJcbiAgXCJaRVBcIixcclxuICBcIlRXSU5FR0xcIixcclxuICBcIlZFUlwiLFxyXG4gIFwiU0hQXCIsXHJcbiAgXCJDQV9GUEtcIixcclxuICBcIkNBX1RIXCIsXHJcbiAgXCJDQV9DQUZFQVwiLFxyXG4gIFwiQ0FfQkVSXCIsXHJcbiAgXCJDQV9MR1wiXHJcblxyXG5dKTtcclxuXHJcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gXCJmb3JjZS1keW5hbWljXCI7IC8vIGFsd2F5cyBmZXRjaCBmcmVzaCBmZWVkXHJcbmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDsgICAgICAgICAgICAvLyBkb24ndCBjYWNoZSB0aGlzIHJvdXRlIGF0IGFsbFxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hBbmRJbmdlc3RGb3JNYW4obWFuKSB7XHJcbiAgY29uc3QgZmVlZFVybCA9IGAke0JBU0VfRkVFRF9VUkx9Jk1BTj0ke2VuY29kZVVSSUNvbXBvbmVudChtYW4pfWA7XHJcbiAgY29uc29sZS5sb2coYPCfjJAgRmV0Y2hpbmcgc3BlY3MuemlwIGZvciBNQU49JHttYW59IOKGkiAke2ZlZWRVcmx9YCk7XHJcblxyXG4gIC8vIDEpIERvd25sb2FkIHNwZWNzLnppcCBmb3IgdGhpcyBicmFuZFxyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGZlZWRVcmwsIHtcclxuICAgIGNhY2hlOiBcIm5vLXN0b3JlXCIsIC8vIHByZXZlbnQgTmV4dC5qcyBkYXRhIGNhY2hlICgyTUIgbGltaXQpXHJcbiAgfSk7XHJcblxyXG4gIGlmICghcmVzLm9rKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgIGBGYWlsZWQgdG8gZG93bmxvYWQgc3BlY3MuemlwIGZvciBNQU49JHttYW59OiAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHppcERhdGEgPSBhd2FpdCByZXMuYXJyYXlCdWZmZXIoKTtcclxuICBjb25zb2xlLmxvZyhcclxuICAgIGDwn5OmIERvd25sb2FkZWQgc3BlY3MuemlwIGZvciBNQU49JHttYW59LCBzaXplPSR7emlwRGF0YS5ieXRlTGVuZ3RofSBieXRlc2BcclxuICApO1xyXG5cclxuICAvLyAyKSBVbnppcCBhbmQgZ3JhYiB0aGUgWE1MIGZpbGVcclxuICBjb25zdCB6aXAgPSBhd2FpdCBKU1ppcC5sb2FkQXN5bmMoemlwRGF0YSk7XHJcblxyXG4gIGNvbnN0IHhtbEZpbGVOYW1lID0gT2JqZWN0LmtleXMoemlwLmZpbGVzKS5maW5kKChuYW1lKSA9PlxyXG4gICAgbmFtZS50b0xvd2VyQ2FzZSgpLmVuZHNXaXRoKFwiLnhtbFwiKVxyXG4gICk7XHJcblxyXG4gIGlmICgheG1sRmlsZU5hbWUpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gWE1MIGZpbGUgZm91bmQgaW4gc3BlY3MuemlwIGZvciBNQU49JHttYW59YCk7XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhg8J+ThCBGb3VuZCBYTUwgaW5zaWRlIHppcCBmb3IgTUFOPSR7bWFufTogJHt4bWxGaWxlTmFtZX1gKTtcclxuXHJcbiAgY29uc3QgeG1sU3RyaW5nID0gYXdhaXQgemlwLmZpbGVzW3htbEZpbGVOYW1lXS5hc3luYyhcInN0cmluZ1wiKTtcclxuICBjb25zb2xlLmxvZyhg8J+TkSBYTUwgc3RyaW5nIGxlbmd0aCBmb3IgTUFOPSR7bWFufTpgLCB4bWxTdHJpbmcubGVuZ3RoKTtcclxuXHJcbiAgLy8gMykgSGFuZCBvZmYgdG8gaW5nZXN0aW9uIHBpcGVsaW5lIChwYXJzZSArIHVwc2VydCBpbnRvIFByaXNtYSlcclxuICBhd2FpdCBpbmdlc3RQcm9kdWN0c0Zyb21YbWwoeG1sU3RyaW5nKTtcclxuXHJcbiAgY29uc29sZS5sb2coYOKchSBGaW5pc2hlZCBpbmdlc3QgZm9yIE1BTj0ke21hbn1gKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXEpIHtcclxuICAvLyBPbmx5IHJ1biB3aGVuIGNhbGxlZCBieSBWZXJjZWwgQ3JvbiAob3IgeW91ciBtYW51YWwgdG9vbHMgdGhhdCBzZXQgdGhpcyBoZWFkZXIpXHJcbiAgaWYgKHJlcS5oZWFkZXJzLmdldChcIngtdmVyY2VsLWNyb25cIikgIT09IFwiMVwiKSB7XHJcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiaWdub3JlZFwiKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpO1xyXG4gIGNvbnN0IG1hblJhdyA9IHNlYXJjaFBhcmFtcy5nZXQoXCJtYW5cIik7IC8vIGUuZy4gXCJBTU5cIiwgXCJBTExcIiwgZXRjLlxyXG4gIGNvbnN0IG1hbiA9IG1hblJhdyA/IG1hblJhdy50b1VwcGVyQ2FzZSgpIDogbnVsbDtcclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIOKUgOKUgCBNb2RlIDE6IFNpbmdsZSBicmFuZCAoP21hbj1BTU4pIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4gICAgaWYgKG1hbiAmJiBtYW4gIT09IFwiQUxMXCIpIHtcclxuICAgICAgaWYgKCFBTExPV0VEX01BTl9DT0RFUy5oYXMobWFuKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBJbnZhbGlkIE1BTiBjb2RlIFwiJHttYW59XCIg4oCTIG5vdCBpbiBhbGxvd2VkIGxpc3RgKTtcclxuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKGBpbnZhbGlkIFwibWFuXCIgY29kZTogJHttYW59YCwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgZmV0Y2hBbmRJbmdlc3RGb3JNYW4obWFuKTtcclxuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShgb2s6ICR7bWFufWApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOKUgOKUgCBNb2RlIDI6IEFMTCBicmFuZHMgKGVpdGhlciA/bWFuPUFMTCBvciBubyA/bWFuKSDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuICAgIGNvbnN0IGFsbENvZGVzID0gQXJyYXkuZnJvbShBTExPV0VEX01BTl9DT0RFUyk7XHJcbiAgICBjb25zdCBzdW1tYXJ5ID0ge1xyXG4gICAgICBhdHRlbXB0ZWQ6IGFsbENvZGVzLmxlbmd0aCxcclxuICAgICAgc3VjY2Vzc2VzOiBbXSxcclxuICAgICAgZmFpbHVyZXM6IFtdLFxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGNvZGUgb2YgYWxsQ29kZXMpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBmZXRjaEFuZEluZ2VzdEZvck1hbihjb2RlKTtcclxuICAgICAgICBzdW1tYXJ5LnN1Y2Nlc3Nlcy5wdXNoKGNvZGUpO1xyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRXJyb3IgaW5nZXN0aW5nIE1BTj0ke2NvZGV9OmAsIGVycik7XHJcbiAgICAgICAgc3VtbWFyeS5mYWlsdXJlcy5wdXNoKHsgbWFuOiBjb2RlLCBlcnJvcjogU3RyaW5nKGVyci5tZXNzYWdlIHx8IGVycikgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdGF0dXMgPSBzdW1tYXJ5LmZhaWx1cmVzLmxlbmd0aCA/IDIwNyA6IDIwMDsgLy8gMjA3ID0gbXVsdGktc3RhdHVzLWlzaFxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShKU09OLnN0cmluZ2lmeShzdW1tYXJ5LCBudWxsLCAyKSwge1xyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuKdjCBFcnJvciBpbiAvYXBpL2ZldGNoLXNwZWNzOlwiLCBlcnIpO1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcImludGVybmFsIGVycm9yXCIsIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJKU1ppcCIsImluZ2VzdFByb2R1Y3RzRnJvbVhtbCIsIkJBU0VfRkVFRF9VUkwiLCJBTExPV0VEX01BTl9DT0RFUyIsIlNldCIsImR5bmFtaWMiLCJyZXZhbGlkYXRlIiwiZmV0Y2hBbmRJbmdlc3RGb3JNYW4iLCJtYW4iLCJmZWVkVXJsIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY29uc29sZSIsImxvZyIsInJlcyIsImZldGNoIiwiY2FjaGUiLCJvayIsIkVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInppcERhdGEiLCJhcnJheUJ1ZmZlciIsImJ5dGVMZW5ndGgiLCJ6aXAiLCJsb2FkQXN5bmMiLCJ4bWxGaWxlTmFtZSIsIk9iamVjdCIsImtleXMiLCJmaWxlcyIsImZpbmQiLCJuYW1lIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInhtbFN0cmluZyIsImFzeW5jIiwibGVuZ3RoIiwiR0VUIiwicmVxIiwiaGVhZGVycyIsImdldCIsIlJlc3BvbnNlIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwibWFuUmF3IiwidG9VcHBlckNhc2UiLCJoYXMiLCJlcnJvciIsImFsbENvZGVzIiwiQXJyYXkiLCJmcm9tIiwic3VtbWFyeSIsImF0dGVtcHRlZCIsInN1Y2Nlc3NlcyIsImZhaWx1cmVzIiwiY29kZSIsInB1c2giLCJlcnIiLCJTdHJpbmciLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/fetch-specs/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/catalogue/ingestProductsFromXml.js":
/*!************************************************!*\
  !*** ./lib/catalogue/ingestProductsFromXml.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ingestProductsFromXml: () => (/* binding */ ingestProductsFromXml)\n/* harmony export */ });\n/* harmony import */ var fast_xml_parser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fast-xml-parser */ \"(rsc)/./node_modules/fast-xml-parser/src/xmlparser/XMLParser.js\");\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../prisma */ \"(rsc)/./lib/prisma.js\");\n/* harmony import */ var _src_utils_productTypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../src/utils/productTypes */ \"(rsc)/./src/utils/productTypes.js\");\n/* harmony import */ var _src_utils_filterMapper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../src/utils/filterMapper */ \"(rsc)/./src/utils/filterMapper.js\");\n// src/lib/catalogue/ingestProductsFromXml.js\n\n\n\n\n// Map catalogue type ‚Üí width extractor name in filterValueExtractors\nconst widthExtractorByType = {\n    MICROWAVE: \"MicrowaveWidth\",\n    RANGES: \"RangeWidth\",\n    \"COOKTOPS AND RANGETOPS\": \"CooktopWidth\",\n    REFRIGERATORS: \"RefrigWidth\",\n    FREEZERS: \"FreezerWidth\",\n    DISHWASHERS: \"DishwasherWidth\",\n    LAUNDRY: \"LaundryWidth\",\n    \"ICE MAKERS\": \"IceMakerWidth\",\n    \"WARMING DRAWERS\": \"WarmingDrawerWidth\",\n    \"BUILT IN OVENS\": \"OvenWidth\",\n    \"OUTDOOR GRILLS\": \"BbqWidth\",\n    \"COFFEE SYSTEMS\": \"CoffeeWidth\",\n    VENTILATION: \"HoodWidth\"\n};\n// Small helpers\nconst ensureArray = (value)=>Array.isArray(value) ? value : value == null ? [] : [\n        value\n    ];\nfunction normalizeSpecTable(marketing_copy = {}) {\n    // If it's already in the final [{ section_title, key_value_pairs }] shape, keep it.\n    if (Array.isArray(marketing_copy.spec_table_as_key_value_pairs) && marketing_copy.spec_table_as_key_value_pairs.length && marketing_copy.spec_table_as_key_value_pairs[0]?.key_value_pairs) {\n        return marketing_copy.spec_table_as_key_value_pairs;\n    }\n    const container = marketing_copy.spec_table_as_key_value_pairs;\n    if (!container) return [];\n    const pairs = ensureArray(container.spec_table_pair);\n    if (!pairs.length) return [];\n    const key_value_pairs = pairs.map((pair)=>({\n            key: pair?.key != null ? String(pair.key).trim() : \"\",\n            value: pair?.value != null ? String(pair.value).trim() : \"\"\n        })).filter((kv)=>kv.key);\n    if (!key_value_pairs.length) return [];\n    return [\n        {\n            section_title: null,\n            key_value_pairs\n        }\n    ];\n}\nfunction normalizeParagraphDescription(raw) {\n    if (!raw || typeof raw !== \"string\") return raw;\n    let s = raw;\n    // Convert the pseudo-markup used in the feed into real HTML tags\n    const replacements = [\n        [\n            /\\(BR\\)/gi,\n            \"<br />\"\n        ],\n        [\n            /\\(B\\)/gi,\n            \"<b>\"\n        ],\n        [\n            /\\(\\/B\\)/gi,\n            \"</b>\"\n        ],\n        [\n            /\\(P\\)/gi,\n            \"<p>\"\n        ],\n        [\n            /\\(\\/P\\)/gi,\n            \"</p>\"\n        ],\n        [\n            /\\(UL\\)/gi,\n            \"<ul>\"\n        ],\n        [\n            /\\(\\/UL\\)/gi,\n            \"</ul>\"\n        ],\n        [\n            /\\(LI\\)/gi,\n            \"<li>\"\n        ],\n        [\n            /\\(\\/LI\\)/gi,\n            \"</li>\"\n        ]\n    ];\n    for (const [pattern, replacement] of replacements){\n        s = s.replace(pattern, replacement);\n    }\n    return s;\n}\nfunction normalizeMedia(media = {}) {\n    const pdfsArray = ensureArray(media?.pdfs?.pdf);\n    const imagesArray = ensureArray(media?.images?.image);\n    return {\n        images: {\n            image: imagesArray.map((img)=>({\n                    file_name: img?.file_name ?? \"\",\n                    full_size_url: img?.full_size_url ?? \"\",\n                    thumbnail_url: img?.thumbnail_url ?? \"\"\n                }))\n        },\n        pdfs: {\n            pdf: pdfsArray.map((pdf)=>({\n                    url: pdf?.url ?? \"\",\n                    file_name: pdf?.file_name ?? \"\",\n                    description: pdf?.description ?? \"\"\n                }))\n        }\n    };\n}\nfunction normalizeClassification(classification = {}) {\n    // Force related_items.related_item_key into an array\n    const relatedRaw = classification?.related_items?.related_item_key;\n    const relatedArr = ensureArray(relatedRaw);\n    const related_items = relatedArr.length > 0 ? {\n        related_item_key: relatedArr\n    } : undefined;\n    return {\n        ...classification,\n        ...related_items ? {\n            related_items\n        } : {}\n    };\n}\n// üîπ MODEL + SLUG HELPERS üîπ\nfunction normalizeModelIdentifier(classification = {}) {\n    const { manufacturer_pn, pn } = classification;\n    // Take manufacturer_pn first if it exists, otherwise pn\n    let raw = manufacturer_pn != null && String(manufacturer_pn).trim() !== \"\" ? String(manufacturer_pn).trim() : pn != null && String(pn).trim() !== \"\" ? String(pn).trim() : null;\n    if (!raw) return null;\n    // Strip dashes and slashes ONLY, keep other chars; then uppercase\n    const cleaned = raw.replace(/[-/]/g, \"\");\n    return cleaned.toUpperCase();\n}\nfunction toSlugPart(value) {\n    if (!value) return \"\";\n    return value.toString().trim().toLowerCase().replace(/&/g, \"and\").replace(/[^a-z0-9]+/g, \"-\").replace(/^-+|-+$/g, \"\");\n}\nfunction buildProductSlug(brand, major, minor, modelNormalized) {\n    const parts = [\n        toSlugPart(brand),\n        toSlugPart(major),\n        toSlugPart(minor),\n        toSlugPart(modelNormalized)\n    ].filter(Boolean);\n    const joined = parts.join(\"-\");\n    // Collapse any accidental multiple dashes\n    return joined.replace(/-+/g, \"-\");\n}\n// This builds the JSON blob that goes into products.data\nfunction transformSpecToStoredData(rawSpec) {\n    const classification = normalizeClassification(rawSpec.classification || {});\n    const media = normalizeMedia(rawSpec.media || {});\n    const managed_data = rawSpec.managed_data || {};\n    const disclosures = rawSpec.disclosures || {};\n    const marketing_raw = rawSpec.marketing_copy || {};\n    const paragraph_description = normalizeParagraphDescription(marketing_raw.paragraph_description);\n    const spec_table_as_key_value_pairs = normalizeSpecTable(marketing_raw);\n    const { spec_table_html, ...restMarketing } = marketing_raw;\n    const marketing_copy = {\n        ...restMarketing,\n        paragraph_description,\n        spec_table_as_key_value_pairs\n    };\n    return {\n        classification,\n        marketing_copy,\n        media,\n        managed_data,\n        disclosures,\n        author_timestamp: rawSpec.author_timestamp || null\n    };\n}\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n// Filter mapper integration\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n// Decide if an extractor should run for a given product type\nfunction shouldRunExtractorForType(extractorName, productType) {\n    if (!productType) return true; // if we don't know type yet, let it run\n    const t = productType.toUpperCase();\n    const n = extractorName.toLowerCase();\n    // Always-run generic extractors\n    if (n === \"fueltype\") return true;\n    // Type-specific families\n    if (n.startsWith(\"refrig\")) return t === \"REFRIGERATORS\";\n    if (n.startsWith(\"freezer\")) return t === \"FREEZERS\";\n    if (n.startsWith(\"dishwasher\")) return t === \"DISHWASHERS\" || t === \"DISHWASHER\";\n    if (n.startsWith(\"hood\")) return t === \"VENTILATION\";\n    if (n.startsWith(\"laundry\")) return t === \"LAUNDRY\";\n    if (n.startsWith(\"microwave\")) return t === \"MICROWAVE\";\n    if (n.startsWith(\"range\")) return t === \"RANGES\";\n    if (n.startsWith(\"ice\")) return t === \"ICE MAKERS\";\n    if (n.startsWith(\"warming\")) return t === \"WARMING DRAWERS\";\n    if (n.startsWith(\"coffee\")) return t === \"COFFEE SYSTEMS\";\n    if (n.startsWith(\"bbq\")) return t === \"OUTDOOR GRILLS\";\n    if (n.startsWith(\"cooktop\")) return t === \"COOKTOPS AND RANGETOPS\";\n    if (n.startsWith(\"oven\")) return t === \"BUILT IN OVENS\";\n    // Default: allow it to run for all types\n    return true;\n}\n// Use your 2k-line filter mapper to derive DB filter columns.\nfunction deriveFilterColumnsFromData(productData, productType) {\n    const extracted = {};\n    let widthLabel = null;\n    // 1) Run all non-width extractors (features, productType, configuration, fuelType, etc.)\n    for (const [name, extractor] of Object.entries(_src_utils_filterMapper__WEBPACK_IMPORTED_MODULE_2__.filterValueExtractors || {})){\n        if (typeof extractor !== \"function\") continue;\n        // Width extractors are handled separately below\n        if (/width$/i.test(name)) continue;\n        // üîí Gate by type so fridges don't hit dishwasher extractors, etc.\n        if (!shouldRunExtractorForType(name, productType)) continue;\n        try {\n            const rawResult = extractor(productData);\n            if (rawResult == null) continue;\n            // Mirror your backfill behavior:\n            // - if array ‚Üí keep as is\n            // - if single value ‚Üí wrap in array\n            let values = Array.isArray(rawResult) ? rawResult : [\n                rawResult\n            ];\n            // ‚úÖ Normalize: drop null/empty and force lowercase for consistency\n            values = values.filter((v)=>v != null && String(v).trim() !== \"\").map((v)=>String(v).trim().toLowerCase());\n            if (values.length > 0) {\n                extracted[name] = values;\n            }\n        } catch (err) {\n            console.error(`‚ùå Filter extractor '${name}' crashed:`, err);\n        }\n    }\n    // 2) Width: use the type ‚Üí extractor map, keep original casing for labels\n    if (productType) {\n        const widthExtractorName = widthExtractorByType[productType];\n        const widthExtractor = widthExtractorName && _src_utils_filterMapper__WEBPACK_IMPORTED_MODULE_2__.filterValueExtractors[widthExtractorName];\n        if (typeof widthExtractor === \"function\") {\n            try {\n                let widthRaw = widthExtractor(productData);\n                if (Array.isArray(widthRaw)) widthRaw = widthRaw[0];\n                if (widthRaw != null) {\n                    const s = String(widthRaw).trim();\n                    if (s) widthLabel = s; // don't force lowercase; keep your label format\n                }\n            } catch (err) {\n                console.error(`‚ùå Width extractor '${widthExtractorName}' crashed:`, err);\n            }\n        }\n    }\n    const featuresSet = new Set();\n    const fuelTypeSet = new Set();\n    const configurationSet = new Set();\n    const productTypeSet = new Set();\n    for (const [name, values] of Object.entries(extracted)){\n        if (!Array.isArray(values)) continue;\n        if (/FuelType$/i.test(name)) {\n            values.forEach((v)=>fuelTypeSet.add(v));\n        } else if (/ProductType$/i.test(name)) {\n            values.forEach((v)=>productTypeSet.add(v));\n        } else if (/Configuration$/i.test(name)) {\n            values.forEach((v)=>configurationSet.add(v));\n        } else if (/Features?$/i.test(name)) {\n            values.forEach((v)=>featuresSet.add(v));\n        } else {\n            // üîá Explicitly ignore Brand so it doesn't become a feature\n            if (!/^brand$/i.test(name)) {\n                // Anything else we treat as a generic \"feature\" for now\n                values.forEach((v)=>featuresSet.add(v));\n            }\n        }\n    }\n    return {\n        features: Array.from(featuresSet),\n        fuelType: Array.from(fuelTypeSet),\n        configuration: Array.from(configurationSet),\n        productType: Array.from(productTypeSet),\n        width: widthLabel\n    };\n}\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n// Existing type logic (unchanged, just reused)\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nfunction normalizeTypeAndCategory(major, minor, classification, marketing_copy) {\n    const majorUpper = major?.toUpperCase() || \"\";\n    const minorUpper = minor?.toUpperCase() || \"\";\n    const shortDes = marketing_copy?.short_description?.toUpperCase() || \"\";\n    const major_code = classification?.major_class_code?.toUpperCase() || \"\";\n    const minor_description = classification?.minor_class_description?.toUpperCase() || \"\";\n    console.log(\"\\uD83E\\uDDEE normalizeTypeAndCategory input:\", {\n        major,\n        minor,\n        majorUpper,\n        minorUpper,\n        major_code,\n        minor_description,\n        shortDes\n    });\n    // Default: treat everything as APPLIANCES unless explicitly changed later\n    let category = \"appliances\";\n    if (!majorUpper && !minorUpper) {\n        console.log(\"‚û°Ô∏è No major/minor, returning null type with default category\");\n        return {\n            type: null,\n            category\n        };\n    }\n    // APPLIANCE TYPE LOGIC\n    if (minorUpper.includes(\"MICROWAVE\")) {\n        console.log(\"‚û°Ô∏è Matched MICROWAVE, type=MICROWAVE, category=\", category);\n        return {\n            type: \"MICROWAVE\",\n            category\n        };\n    }\n    if (minorUpper.includes(\"WARMING DRAWER\")) {\n        console.log(\"‚û°Ô∏è Matched WARMING DRAWER, type=WARMING DRAWERS, category=\", category);\n        return {\n            type: \"WARMING DRAWERS\",\n            category\n        };\n    }\n    if (minorUpper.includes(\"COOKTOP\") || minorUpper.includes(\"RANGETOP\")) {\n        console.log(\"‚û°Ô∏è Matched COOKTOP/RANGETOP, type=COOKTOPS AND RANGETOPS, category=\", category);\n        return {\n            type: \"COOKTOPS AND RANGETOPS\",\n            category\n        };\n    }\n    if (minorUpper.includes(\"OVEN\")) {\n        console.log(\"‚û°Ô∏è Matched OVEN, type=BUILT IN OVENS, category=\", category);\n        return {\n            type: \"BUILT IN OVENS\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"SMALL APPLIANCES\")) {\n        if (minorUpper.includes(\"WARMING DRAWER\")) {\n            console.log(\"‚û°Ô∏è SMALL APPLIANCES + WARMING DRAWER, type=WARMING DRAWERS\");\n            return {\n                type: \"WARMING DRAWERS\",\n                category\n            };\n        }\n        if (minorUpper.includes(\"COFFEE\")) {\n            console.log(\"‚û°Ô∏è SMALL APPLIANCES + COFFEE, type=COFFEE SYSTEMS, category=\", category);\n            return {\n                type: \"COFFEE SYSTEMS\",\n                category\n            };\n        }\n        console.log(\"‚û°Ô∏è SMALL APPLIANCES fallback, type=MISC, category=\", category);\n        return {\n            type: \"MISC\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"RANGES\") || minorUpper.includes(\"RANGE\")) {\n        console.log(\"‚û°Ô∏è Matched RANGES, type=RANGES, category=\", category);\n        return {\n            type: \"RANGES\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"REFRIGERATORS\")) {\n        if (minorUpper.includes(\"REFRIGERATED DRAWER\") && shortDes.includes(\"FREEZER\")) {\n            console.log(\"‚û°Ô∏è Matched REFRIGERATED DRAWER + FREEZER, type=FREEZERS, category=\", category);\n            return {\n                type: \"FREEZERS\",\n                category\n            };\n        }\n        console.log(\"‚û°Ô∏è Matched REFRIGERATORS, type=REFRIGERATORS, category=\", category);\n        return {\n            type: \"REFRIGERATORS\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"FREEZERS\")) {\n        if (minorUpper.includes(\"ICE MAKERS\")) {\n            console.log(\"‚û°Ô∏è Matched FREEZERS + ICE MAKERS, type=ICE MAKERS, category=\", category);\n            return {\n                type: \"ICE MAKERS\",\n                category\n            };\n        }\n        console.log(\"‚û°Ô∏è Matched FREEZERS, type=FREEZERS, category=\", category);\n        return {\n            type: \"FREEZERS\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"DISHWASHERS\")) {\n        console.log(\"‚û°Ô∏è Matched DISHWASHERS, type=DISHWASHERS, category=\", category);\n        return {\n            type: \"DISHWASHERS\",\n            category\n        };\n    }\n    if (major_code.includes(\"BBQ\") || minorUpper.includes(\"BARBEQUES\")) {\n        console.log(\"‚û°Ô∏è Matched BBQ/BARBEQUES, type=OUTDOOR GRILLS, category=\", category);\n        return {\n            type: \"OUTDOOR GRILLS\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"HOODS\")) {\n        console.log(\"‚û°Ô∏è Matched HOODS, type=VENTILATION, category=\", category);\n        return {\n            type: \"VENTILATION\",\n            category\n        };\n    }\n    if (majorUpper.includes(\"LAUNDRY\")) {\n        console.log(\"‚û°Ô∏è Matched LAUNDRY, type=LAUNDRY, category=\", category);\n        return {\n            type: \"LAUNDRY\",\n            category\n        };\n    }\n    // PLUMBING detection for disposers / dispensers\n    if (minor_description.includes(\"DISPOSER\") || minor_description.includes(\"DISPENSER\")) {\n        category = \"plumbing\";\n        console.log(\"‚û°Ô∏è Matched DISPOSER/DISPENSER, type=DISPOSER / DISPENSER ACCESSORIES, category=\", category);\n        return {\n            type: \"DISPOSER / DISPENSER ACCESSORIES\",\n            category\n        };\n    }\n    if (minorUpper.includes(\"ACCESSORIES\")) {\n        console.log(\"‚û°Ô∏è Matched ACCESSORIES, type=MISC, category=\", category);\n        return {\n            type: \"MISC\",\n            category\n        };\n    }\n    // fallback: use your predefinedTypes list\n    for (const type of _src_utils_productTypes__WEBPACK_IMPORTED_MODULE_1__.predefinedTypes){\n        if ((majorUpper.includes(type) || minorUpper.includes(type)) && !minorUpper.includes(\"ACCESSORIES\")) {\n            console.log(\"‚û°Ô∏è Matched predefined type=\", type, \"category still=\", category);\n            return {\n                type,\n                category\n            };\n        }\n    }\n    console.log(\"‚û°Ô∏è Fallback MISC, category=\", category);\n    return {\n        type: \"MISC\",\n        category\n    };\n}\nfunction normalizeType(major, minor, classification, marketing_copy) {\n    return normalizeTypeAndCategory(major, minor, classification, marketing_copy).type;\n}\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n// MAIN INGEST\n// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n/**\r\n * Ingests a full RWS XML string:\r\n * - parses XML\r\n * - iterates product_specs\r\n * - derives core columns\r\n * - builds normalized JSON blob for products.data\r\n * - runs filter mappers to populate features/fuelType/configuration/productType/width\r\n */ async function ingestProductsFromXml(xmlString) {\n    console.log(\"\\uD83D\\uDCE5 ingestProductsFromXml: received XML string length=\", xmlString?.length);\n    const parser = new fast_xml_parser__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n        ignoreAttributes: false,\n        attributeNamePrefix: \"\"\n    });\n    let parsed;\n    try {\n        parsed = parser.parse(xmlString);\n        console.log(\"‚úÖ XML parsed. Top-level keys:\", Object.keys(parsed || {}));\n    } catch (err) {\n        console.error(\"‚ùå XML parse error:\", err);\n        return;\n    }\n    const root = parsed.product_data || parsed;\n    console.log(\"\\uD83D\\uDCE6 Root object keys:\", root ? Object.keys(root) : \"root is null/undefined\");\n    let specs = root?.product_specs;\n    console.log(\"\\uD83D\\uDCD1 raw product_specs type:\", specs ? Array.isArray(specs) ? \"array\" : typeof specs : \"undefined/null\");\n    // Handle possible double-wrapped shapes\n    if (specs && !Array.isArray(specs) && specs.product_specs) {\n        console.log(\"\\uD83D\\uDD01 Detected double-wrapped product_specs, unwrapping\");\n        specs = specs.product_specs;\n    }\n    if (!specs) {\n        console.warn(\"‚ö†Ô∏è No product_specs found in XML\");\n        return;\n    }\n    const specsArray = Array.isArray(specs) ? specs : [\n        specs\n    ];\n    console.log(\"\\uD83D\\uDCCA Total product_specs to ingest:\", specsArray.length);\n    for (const [index, spec] of specsArray.entries()){\n        console.log(\"\\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\");\n        console.log(\"\\uD83E\\uDDFE Processing spec index:\", index);\n        try {\n            // Some feeds nest everything under <data>, some put classification at root\n            const raw = spec.data || spec;\n            console.log(\"\\uD83D\\uDD0D raw spec keys:\", Object.keys(raw || {}));\n            const classification = raw.classification || {};\n            const marketing_copy = raw.marketing_copy || {};\n            console.log(\"\\uD83D\\uDCCC classification snapshot:\", {\n                pn: classification.pn,\n                manufacturer_pn: classification.manufacturer_pn,\n                brand_name: classification.brand_name,\n                major_class_description: classification.major_class_description,\n                minor_class_description: classification.minor_class_description,\n                major_class_code: classification.major_class_code\n            });\n            const major = classification.major_class_description || \"\";\n            const minor = classification.minor_class_description || \"\";\n            const { type, category } = normalizeTypeAndCategory(major, minor, classification, marketing_copy);\n            console.log(\"‚úÖ Derived type/category:\", {\n                type,\n                category\n            });\n            // üîπ Normalized model: strip dashes/slashes, uppercase\n            const model = normalizeModelIdentifier(classification);\n            const brand = classification.brand_name || null;\n            // üîπ Build slug from brand + major + minor + model\n            const slug = buildProductSlug(brand, major, minor, model);\n            console.log(\"\\uD83C\\uDD94 Identifiers:\", {\n                slug,\n                model\n            });\n            if (!slug || !model) {\n                console.warn(\"‚ö†Ô∏è Skipping product with no usable slug/model:\", {\n                    major,\n                    minor,\n                    brand\n                });\n                continue;\n            }\n            // Build normalized JSON blob for `data`\n            const data = transformSpecToStoredData(raw);\n            // Build the object shape expected by filterMapper extractors\n            const productForExtractors = {\n                ...data,\n                major,\n                minor,\n                brand,\n                type\n            };\n            // Run filter extractors on the normalized data to fill filter columns\n            const { features = [], fuelType = [], configuration = [], productType = [], width = null } = deriveFilterColumnsFromData(productForExtractors, type);\n            console.log(\"\\uD83D\\uDCE6 Final upsert payload (summary):\", {\n                slug,\n                model,\n                brand,\n                major,\n                minor,\n                type,\n                category: category || \"APPLIANCES\",\n                width,\n                featuresCount: features.length,\n                fuelTypeCount: fuelType.length,\n                configurationCount: configuration.length,\n                productTypeCount: productType.length\n            });\n            await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].products.upsert({\n                where: {\n                    model\n                },\n                update: {\n                    slug,\n                    brand,\n                    major,\n                    minor,\n                    type,\n                    category: category || \"APPLIANCES\",\n                    width,\n                    features,\n                    fuelType,\n                    configuration,\n                    productType,\n                    data\n                },\n                create: {\n                    slug,\n                    model,\n                    brand,\n                    major,\n                    minor,\n                    type,\n                    category: category || \"APPLIANCES\",\n                    width,\n                    features,\n                    fuelType,\n                    configuration,\n                    productType,\n                    data\n                }\n            });\n            console.log(\"\\uD83D\\uDCBE Upsert SUCCESS for model:\", model, \"slug:\", slug);\n        } catch (err) {\n            console.error(\"‚ùå Failed to upsert product from spec index\", index, err);\n            if (err?.meta) {\n                console.error(\"   Prisma meta:\", err.meta);\n            }\n        }\n    }\n    console.log(\"\\uD83C\\uDFC1 Finished ingestProductsFromXml run\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2F0YWxvZ3VlL2luZ2VzdFByb2R1Y3RzRnJvbVhtbC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDZDQUE2QztBQUNEO0FBQ2I7QUFDZ0M7QUFDTTtBQUVyRSxxRUFBcUU7QUFDckUsTUFBTUksdUJBQXVCO0lBQzNCQyxXQUFXO0lBQ1hDLFFBQVE7SUFDUiwwQkFBMEI7SUFDMUJDLGVBQWU7SUFDZkMsVUFBVTtJQUNWQyxhQUFhO0lBQ2JDLFNBQVM7SUFDVCxjQUFjO0lBQ2QsbUJBQW1CO0lBQ25CLGtCQUFrQjtJQUNsQixrQkFBa0I7SUFDbEIsa0JBQWtCO0lBQ2xCQyxhQUFhO0FBQ2Y7QUFFQSxnQkFBZ0I7QUFDaEIsTUFBTUMsY0FBYyxDQUFDQyxRQUNuQkMsTUFBTUMsT0FBTyxDQUFDRixTQUFTQSxRQUFRQSxTQUFTLE9BQU8sRUFBRSxHQUFHO1FBQUNBO0tBQU07QUFFN0QsU0FBU0csbUJBQW1CQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQzdDLG9GQUFvRjtJQUNwRixJQUNFSCxNQUFNQyxPQUFPLENBQUNFLGVBQWVDLDZCQUE2QixLQUMxREQsZUFBZUMsNkJBQTZCLENBQUNDLE1BQU0sSUFDbkRGLGVBQWVDLDZCQUE2QixDQUFDLEVBQUUsRUFBRUUsaUJBQ2pEO1FBQ0EsT0FBT0gsZUFBZUMsNkJBQTZCO0lBQ3JEO0lBRUEsTUFBTUcsWUFBWUosZUFBZUMsNkJBQTZCO0lBQzlELElBQUksQ0FBQ0csV0FBVyxPQUFPLEVBQUU7SUFFekIsTUFBTUMsUUFBUVYsWUFBWVMsVUFBVUUsZUFBZTtJQUNuRCxJQUFJLENBQUNELE1BQU1ILE1BQU0sRUFBRSxPQUFPLEVBQUU7SUFFNUIsTUFBTUMsa0JBQWtCRSxNQUNyQkUsR0FBRyxDQUFDLENBQUNDLE9BQVU7WUFDZEMsS0FBS0QsTUFBTUMsT0FBTyxPQUFPQyxPQUFPRixLQUFLQyxHQUFHLEVBQUVFLElBQUksS0FBSztZQUNuRGYsT0FBT1ksTUFBTVosU0FBUyxPQUFPYyxPQUFPRixLQUFL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WUFBWXJFLE1BQU07WUFDdEM7WUFFQSxNQUFNbEIsK0NBQU1BLENBQUNpSyxRQUFRLENBQUNDLE1BQU0sQ0FBQztnQkFDM0JDLE9BQU87b0JBQUVUO2dCQUFNO2dCQUNmVSxRQUFRO29CQUNOVDtvQkFDQXZGO29CQUNBQztvQkFDQUM7b0JBQ0E4RDtvQkFDQUQsVUFBVUEsWUFBWTtvQkFDdEJYO29CQUNBSjtvQkFDQUU7b0JBQ0FDO29CQUNBaEM7b0JBQ0FnRTtnQkFDRjtnQkFDQWMsUUFBUTtvQkFDTlY7b0JBQ0FEO29CQUNBdEY7b0JBQ0FDO29CQUNBQztvQkFDQThEO29CQUNBRCxVQUFVQSxZQUFZO29CQUN0Qlg7b0JBQ0FKO29CQUNBRTtvQkFDQUM7b0JBQ0FoQztvQkFDQWdFO2dCQUNGO1lBQ0Y7WUFFQS9DLFFBQVEwQixHQUFHLENBQUMsMENBQWdDd0IsT0FBTyxTQUFTQztRQUM5RCxFQUFFLE9BQU9wRCxLQUFLO1lBQ1pDLFFBQVFDLEtBQUssQ0FBQyw4Q0FBOEM0QyxPQUFPOUM7WUFDbkUsSUFBSUEsS0FBSytELE1BQU07Z0JBQ2I5RCxRQUFRQyxLQUFLLENBQUMsbUJBQW1CRixJQUFJK0QsSUFBSTtZQUMzQztRQUNGO0lBQ0Y7SUFFQTlELFFBQVEwQixHQUFHLENBQUM7QUFDZCIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9jYXRhbG9ndWUvaW5nZXN0UHJvZHVjdHNGcm9tWG1sLmpzP2U1MWMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9jYXRhbG9ndWUvaW5nZXN0UHJvZHVjdHNGcm9tWG1sLmpzXHJcbmltcG9ydCB7IFhNTFBhcnNlciB9IGZyb20gXCJmYXN0LXhtbC1wYXJzZXJcIjtcclxuaW1wb3J0IHByaXNtYSBmcm9tIFwiLi4vcHJpc21hXCI7XHJcbmltcG9ydCB7IHByZWRlZmluZWRUeXBlcyB9IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvcHJvZHVjdFR5cGVzXCI7XHJcbmltcG9ydCB7IGZpbHRlclZhbHVlRXh0cmFjdG9ycyB9IGZyb20gXCIuLi8uLi9zcmMvdXRpbHMvZmlsdGVyTWFwcGVyXCI7XHJcblxyXG4vLyBNYXAgY2F0YWxvZ3VlIHR5cGUg4oaSIHdpZHRoIGV4dHJhY3RvciBuYW1lIGluIGZpbHRlclZhbHVlRXh0cmFjdG9yc1xyXG5jb25zdCB3aWR0aEV4dHJhY3RvckJ5VHlwZSA9IHtcclxuICBNSUNST1dBVkU6IFwiTWljcm93YXZlV2lkdGhcIixcclxuICBSQU5HRVM6IFwiUmFuZ2VXaWR0aFwiLFxyXG4gIFwiQ09PS1RPUFMgQU5EIFJBTkdFVE9QU1wiOiBcIkNvb2t0b3BXaWR0aFwiLFxyXG4gIFJFRlJJR0VSQVRPUlM6IFwiUmVmcmlnV2lkdGhcIixcclxuICBGUkVFWkVSUzogXCJGcmVlemVyV2lkdGhcIiwgLy8g8J+RiCBhZGRlZCBmb3IgbmV3IEZyZWV6ZXJXaWR0aCBleHRyYWN0b3JcclxuICBESVNIV0FTSEVSUzogXCJEaXNod2FzaGVyV2lkdGhcIixcclxuICBMQVVORFJZOiBcIkxhdW5kcnlXaWR0aFwiLFxyXG4gIFwiSUNFIE1BS0VSU1wiOiBcIkljZU1ha2VyV2lkdGhcIixcclxuICBcIldBUk1JTkcgRFJBV0VSU1wiOiBcIldhcm1pbmdEcmF3ZXJXaWR0aFwiLFxyXG4gIFwiQlVJTFQgSU4gT1ZFTlNcIjogXCJPdmVuV2lkdGhcIixcclxuICBcIk9VVERPT1IgR1JJTExTXCI6IFwiQmJxV2lkdGhcIixcclxuICBcIkNPRkZFRSBTWVNURU1TXCI6IFwiQ29mZmVlV2lkdGhcIixcclxuICBWRU5USUxBVElPTjogXCJIb29kV2lkdGhcIixcclxufTtcclxuXHJcbi8vIFNtYWxsIGhlbHBlcnNcclxuY29uc3QgZW5zdXJlQXJyYXkgPSAodmFsdWUpID0+XHJcbiAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IHZhbHVlID09IG51bGwgPyBbXSA6IFt2YWx1ZV07XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVTcGVjVGFibGUobWFya2V0aW5nX2NvcHkgPSB7fSkge1xyXG4gIC8vIElmIGl0J3MgYWxyZWFkeSBpbiB0aGUgZmluYWwgW3sgc2VjdGlvbl90aXRsZSwga2V5X3ZhbHVlX3BhaXJzIH1dIHNoYXBlLCBrZWVwIGl0LlxyXG4gIGlmIChcclxuICAgIEFycmF5LmlzQXJyYXkobWFya2V0aW5nX2NvcHkuc3BlY190YWJsZV9hc19rZXlfdmFsdWVfcGFpcnMpICYmXHJcbiAgICBtYXJrZXRpbmdfY29weS5zcGVjX3RhYmxlX2FzX2tleV92YWx1ZV9wYWlycy5sZW5ndGggJiZcclxuICAgIG1hcmtldGluZ19jb3B5LnNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzWzBdPy5rZXlfdmFsdWVfcGFpcnNcclxuICApIHtcclxuICAgIHJldHVybiBtYXJrZXRpbmdfY29weS5zcGVjX3RhYmxlX2FzX2tleV92YWx1ZV9wYWlycztcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbnRhaW5lciA9IG1hcmtldGluZ19jb3B5LnNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzO1xyXG4gIGlmICghY29udGFpbmVyKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IHBhaXJzID0gZW5zdXJlQXJyYXkoY29udGFpbmVyLnNwZWNfdGFibGVfcGFpcik7XHJcbiAgaWYgKCFwYWlycy5sZW5ndGgpIHJldHVybiBbXTtcclxuXHJcbiAgY29uc3Qga2V5X3ZhbHVlX3BhaXJzID0gcGFpcnNcclxuICAgIC5tYXAoKHBhaXIpID0+ICh7XHJcbiAgICAgIGtleTogcGFpcj8ua2V5ICE9IG51bGwgPyBTdHJpbmcocGFpci5rZXkpLnRyaW0oKSA6IFwiXCIsXHJcbiAgICAgIHZhbHVlOiBwYWlyPy52YWx1ZSAhPSBudWxsID8gU3RyaW5nKHBhaXIudmFsdWUpLnRyaW0oKSA6IFwiXCIsXHJcbiAgICB9KSlcclxuICAgIC5maWx0ZXIoKGt2KSA9PiBrdi5rZXkpO1xyXG5cclxuICBpZiAoIWtleV92YWx1ZV9wYWlycy5sZW5ndGgpIHJldHVybiBbXTtcclxuXHJcbiAgcmV0dXJuIFtcclxuICAgIHtcclxuICAgICAgc2VjdGlvbl90aXRsZTogbnVsbCxcclxuICAgICAga2V5X3ZhbHVlX3BhaXJzLFxyXG4gICAgfSxcclxuICBdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVQYXJhZ3JhcGhEZXNjcmlwdGlvbihyYXcpIHtcclxuICBpZiAoIXJhdyB8fCB0eXBlb2YgcmF3ICE9PSBcInN0cmluZ1wiKSByZXR1cm4gcmF3O1xyXG5cclxuICBsZXQgcyA9IHJhdztcclxuXHJcbiAgLy8gQ29udmVydCB0aGUgcHNldWRvLW1hcmt1cCB1c2VkIGluIHRoZSBmZWVkIGludG8gcmVhbCBIVE1MIHRhZ3NcclxuICBjb25zdCByZXBsYWNlbWVudHMgPSBbXHJcbiAgICBbL1xcKEJSXFwpL2dpLCBcIjxiciAvPlwiXSxcclxuICAgIFsvXFwoQlxcKS9naSwgXCI8Yj5cIl0sXHJcbiAgICBbL1xcKFxcL0JcXCkvZ2ksIFwiPC9iPlwiXSxcclxuICAgIFsvXFwoUFxcKS9naSwgXCI8cD5cIl0sXHJcbiAgICBbL1xcKFxcL1BcXCkvZ2ksIFwiPC9wPlwiXSxcclxuICAgIFsvXFwoVUxcXCkvZ2ksIFwiPHVsPlwiXSxcclxuICAgIFsvXFwoXFwvVUxcXCkvZ2ksIFwiPC91bD5cIl0sXHJcbiAgICBbL1xcKExJXFwpL2dpLCBcIjxsaT5cIl0sXHJcbiAgICBbL1xcKFxcL0xJXFwpL2dpLCBcIjwvbGk+XCJdLFxyXG4gIF07XHJcblxyXG4gIGZvciAoY29uc3QgW3BhdHRlcm4sIHJlcGxhY2VtZW50XSBvZiByZXBsYWNlbWVudHMpIHtcclxuICAgIHMgPSBzLnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZU1lZGlhKG1lZGlhID0ge30pIHtcclxuICBjb25zdCBwZGZzQXJyYXkgPSBlbnN1cmVBcnJheShtZWRpYT8ucGRmcz8ucGRmKTtcclxuICBjb25zdCBpbWFnZXNBcnJheSA9IGVuc3VyZUFycmF5KG1lZGlhPy5pbWFnZXM/LmltYWdlKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGltYWdlczoge1xyXG4gICAgICBpbWFnZTogaW1hZ2VzQXJyYXkubWFwKChpbWcpID0+ICh7XHJcbiAgICAgICAgZmlsZV9uYW1lOiBpbWc/LmZpbGVfbmFtZSA/PyBcIlwiLFxyXG4gICAgICAgIGZ1bGxfc2l6ZV91cmw6IGltZz8uZnVsbF9zaXplX3VybCA/PyBcIlwiLFxyXG4gICAgICAgIHRodW1ibmFpbF91cmw6IGltZz8udGh1bWJuYWlsX3VybCA/PyBcIlwiLFxyXG4gICAgICB9KSksXHJcbiAgICB9LFxyXG4gICAgcGRmczoge1xyXG4gICAgICBwZGY6IHBkZnNBcnJheS5tYXAoKHBkZikgPT4gKHtcclxuICAgICAgICB1cmw6IHBkZj8udXJsID8/IFwiXCIsXHJcbiAgICAgICAgZmlsZV9uYW1lOiBwZGY/LmZpbGVfbmFtZSA/PyBcIlwiLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBwZGY/LmRlc2NyaXB0aW9uID8/IFwiXCIsXHJcbiAgICAgIH0pKSxcclxuICAgIH0sXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3NpZmljYXRpb24oY2xhc3NpZmljYXRpb24gPSB7fSkge1xyXG4gIC8vIEZvcmNlIHJlbGF0ZWRfaXRlbXMucmVsYXRlZF9pdGVtX2tleSBpbnRvIGFuIGFycmF5XHJcbiAgY29uc3QgcmVsYXRlZFJhdyA9IGNsYXNzaWZpY2F0aW9uPy5yZWxhdGVkX2l0ZW1zPy5yZWxhdGVkX2l0ZW1fa2V5O1xyXG4gIGNvbnN0IHJlbGF0ZWRBcnIgPSBlbnN1cmVBcnJheShyZWxhdGVkUmF3KTtcclxuXHJcbiAgY29uc3QgcmVsYXRlZF9pdGVtcyA9XHJcbiAgICByZWxhdGVkQXJyLmxlbmd0aCA+IDBcclxuICAgICAgPyB7XHJcbiAgICAgICAgICByZWxhdGVkX2l0ZW1fa2V5OiByZWxhdGVkQXJyLFxyXG4gICAgICAgIH1cclxuICAgICAgOiB1bmRlZmluZWQ7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICAuLi5jbGFzc2lmaWNhdGlvbixcclxuICAgIC4uLihyZWxhdGVkX2l0ZW1zID8geyByZWxhdGVkX2l0ZW1zIH0gOiB7fSksXHJcbiAgfTtcclxufVxyXG5cclxuLy8g8J+UuSBNT0RFTCArIFNMVUcgSEVMUEVSUyDwn5S5XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVNb2RlbElkZW50aWZpZXIoY2xhc3NpZmljYXRpb24gPSB7fSkge1xyXG4gIGNvbnN0IHsgbWFudWZhY3R1cmVyX3BuLCBwbiB9ID0gY2xhc3NpZmljYXRpb247XHJcblxyXG4gIC8vIFRha2UgbWFudWZhY3R1cmVyX3BuIGZpcnN0IGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHBuXHJcbiAgbGV0IHJhdyA9XHJcbiAgICBtYW51ZmFjdHVyZXJfcG4gIT0gbnVsbCAmJiBTdHJpbmcobWFudWZhY3R1cmVyX3BuKS50cmltKCkgIT09IFwiXCJcclxuICAgICAgPyBTdHJpbmcobWFudWZhY3R1cmVyX3BuKS50cmltKClcclxuICAgICAgOiBwbiAhPSBudWxsICYmIFN0cmluZyhwbikudHJpbSgpICE9PSBcIlwiXHJcbiAgICAgID8gU3RyaW5nKHBuKS50cmltKClcclxuICAgICAgOiBudWxsO1xyXG5cclxuICBpZiAoIXJhdykgcmV0dXJuIG51bGw7XHJcblxyXG4gIC8vIFN0cmlwIGRhc2hlcyBhbmQgc2xhc2hlcyBPTkxZLCBrZWVwIG90aGVyIGNoYXJzOyB0aGVuIHVwcGVyY2FzZVxyXG4gIGNvbnN0IGNsZWFuZWQgPSByYXcucmVwbGFjZSgvWy0vXS9nLCBcIlwiKTtcclxuICByZXR1cm4gY2xlYW5lZC50b1VwcGVyQ2FzZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b1NsdWdQYXJ0KHZhbHVlKSB7XHJcbiAgaWYgKCF2YWx1ZSkgcmV0dXJuIFwiXCI7XHJcbiAgcmV0dXJuIHZhbHVlXHJcbiAgICAudG9TdHJpbmcoKVxyXG4gICAgLnRyaW0oKVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5yZXBsYWNlKC8mL2csIFwiYW5kXCIpXHJcbiAgICAucmVwbGFjZSgvW15hLXowLTldKy9nLCBcIi1cIilcclxuICAgIC5yZXBsYWNlKC9eLSt8LSskL2csIFwiXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZFByb2R1Y3RTbHVnKGJyYW5kLCBtYWpvciwgbWlub3IsIG1vZGVsTm9ybWFsaXplZCkge1xyXG4gIGNvbnN0IHBhcnRzID0gW1xyXG4gICAgdG9TbHVnUGFydChicmFuZCksXHJcbiAgICB0b1NsdWdQYXJ0KG1ham9yKSxcclxuICAgIHRvU2x1Z1BhcnQobWlub3IpLFxyXG4gICAgdG9TbHVnUGFydChtb2RlbE5vcm1hbGl6ZWQpLFxyXG4gIF0uZmlsdGVyKEJvb2xlYW4pO1xyXG5cclxuICBjb25zdCBqb2luZWQgPSBwYXJ0cy5qb2luKFwiLVwiKTtcclxuICAvLyBDb2xsYXBzZSBhbnkgYWNjaWRlbnRhbCBtdWx0aXBsZSBkYXNoZXNcclxuICByZXR1cm4gam9pbmVkLnJlcGxhY2UoLy0rL2csIFwiLVwiKTtcclxufVxyXG5cclxuLy8gVGhpcyBidWlsZHMgdGhlIEpTT04gYmxvYiB0aGF0IGdvZXMgaW50byBwcm9kdWN0cy5kYXRhXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVNwZWNUb1N0b3JlZERhdGEocmF3U3BlYykge1xyXG4gIGNvbnN0IGNsYXNzaWZpY2F0aW9uID0gbm9ybWFsaXplQ2xhc3NpZmljYXRpb24ocmF3U3BlYy5jbGFzc2lmaWNhdGlvbiB8fCB7fSk7XHJcbiAgY29uc3QgbWVkaWEgPSBub3JtYWxpemVNZWRpYShyYXdTcGVjLm1lZGlhIHx8IHt9KTtcclxuICBjb25zdCBtYW5hZ2VkX2RhdGEgPSByYXdTcGVjLm1hbmFnZWRfZGF0YSB8fCB7fTtcclxuICBjb25zdCBkaXNjbG9zdXJlcyA9IHJhd1NwZWMuZGlzY2xvc3VyZXMgfHwge307XHJcblxyXG4gIGNvbnN0IG1hcmtldGluZ19yYXcgPSByYXdTcGVjLm1hcmtldGluZ19jb3B5IHx8IHt9O1xyXG4gIGNvbnN0IHBhcmFncmFwaF9kZXNjcmlwdGlvbiA9IG5vcm1hbGl6ZVBhcmFncmFwaERlc2NyaXB0aW9uKFxyXG4gICAgbWFya2V0aW5nX3Jhdy5wYXJhZ3JhcGhfZGVzY3JpcHRpb25cclxuICApO1xyXG4gIGNvbnN0IHNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzID0gbm9ybWFsaXplU3BlY1RhYmxlKG1hcmtldGluZ19yYXcpO1xyXG5cclxuICBjb25zdCB7XHJcbiAgICBzcGVjX3RhYmxlX2h0bWwsIC8vIHdlIGludGVudGlvbmFsbHkgZHJvcCB0aGUgcmF3IEhUTUwgdGFibGVcclxuICAgIC4uLnJlc3RNYXJrZXRpbmdcclxuICB9ID0gbWFya2V0aW5nX3JhdztcclxuXHJcbiAgY29uc3QgbWFya2V0aW5nX2NvcHkgPSB7XHJcbiAgICAuLi5yZXN0TWFya2V0aW5nLFxyXG4gICAgcGFyYWdyYXBoX2Rlc2NyaXB0aW9uLFxyXG4gICAgc3BlY190YWJsZV9hc19rZXlfdmFsdWVfcGFpcnMsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNsYXNzaWZpY2F0aW9uLFxyXG4gICAgbWFya2V0aW5nX2NvcHksXHJcbiAgICBtZWRpYSxcclxuICAgIG1hbmFnZWRfZGF0YSxcclxuICAgIGRpc2Nsb3N1cmVzLFxyXG4gICAgYXV0aG9yX3RpbWVzdGFtcDogcmF3U3BlYy5hdXRob3JfdGltZXN0YW1wIHx8IG51bGwsXHJcbiAgfTtcclxufVxyXG5cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcbi8vIEZpbHRlciBtYXBwZXIgaW50ZWdyYXRpb25cclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vLyBEZWNpZGUgaWYgYW4gZXh0cmFjdG9yIHNob3VsZCBydW4gZm9yIGEgZ2l2ZW4gcHJvZHVjdCB0eXBlXHJcbmZ1bmN0aW9uIHNob3VsZFJ1bkV4dHJhY3RvckZvclR5cGUoZXh0cmFjdG9yTmFtZSwgcHJvZHVjdFR5cGUpIHtcclxuICBpZiAoIXByb2R1Y3RUeXBlKSByZXR1cm4gdHJ1ZTsgLy8gaWYgd2UgZG9uJ3Qga25vdyB0eXBlIHlldCwgbGV0IGl0IHJ1blxyXG5cclxuICBjb25zdCB0ID0gcHJvZHVjdFR5cGUudG9VcHBlckNhc2UoKTtcclxuICBjb25zdCBuID0gZXh0cmFjdG9yTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAvLyBBbHdheXMtcnVuIGdlbmVyaWMgZXh0cmFjdG9yc1xyXG4gIGlmIChuID09PSBcImZ1ZWx0eXBlXCIpIHJldHVybiB0cnVlO1xyXG5cclxuICAvLyBUeXBlLXNwZWNpZmljIGZhbWlsaWVzXHJcbiAgaWYgKG4uc3RhcnRzV2l0aChcInJlZnJpZ1wiKSkgcmV0dXJuIHQgPT09IFwiUkVGUklHRVJBVE9SU1wiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJmcmVlemVyXCIpKSByZXR1cm4gdCA9PT0gXCJGUkVFWkVSU1wiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJkaXNod2FzaGVyXCIpKSByZXR1cm4gdCA9PT0gXCJESVNIV0FTSEVSU1wiIHx8IHQgPT09IFwiRElTSFdBU0hFUlwiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJob29kXCIpKSByZXR1cm4gdCA9PT0gXCJWRU5USUxBVElPTlwiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJsYXVuZHJ5XCIpKSByZXR1cm4gdCA9PT0gXCJMQVVORFJZXCI7XHJcbiAgaWYgKG4uc3RhcnRzV2l0aChcIm1pY3Jvd2F2ZVwiKSkgcmV0dXJuIHQgPT09IFwiTUlDUk9XQVZFXCI7XHJcbiAgaWYgKG4uc3RhcnRzV2l0aChcInJhbmdlXCIpKSByZXR1cm4gdCA9PT0gXCJSQU5HRVNcIjtcclxuICBpZiAobi5zdGFydHNXaXRoKFwiaWNlXCIpKSByZXR1cm4gdCA9PT0gXCJJQ0UgTUFLRVJTXCI7XHJcbiAgaWYgKG4uc3RhcnRzV2l0aChcIndhcm1pbmdcIikpIHJldHVybiB0ID09PSBcIldBUk1JTkcgRFJBV0VSU1wiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJjb2ZmZWVcIikpIHJldHVybiB0ID09PSBcIkNPRkZFRSBTWVNURU1TXCI7XHJcbiAgaWYgKG4uc3RhcnRzV2l0aChcImJicVwiKSkgcmV0dXJuIHQgPT09IFwiT1VURE9PUiBHUklMTFNcIjtcclxuICBpZiAobi5zdGFydHNXaXRoKFwiY29va3RvcFwiKSkgcmV0dXJuIHQgPT09IFwiQ09PS1RPUFMgQU5EIFJBTkdFVE9QU1wiO1xyXG4gIGlmIChuLnN0YXJ0c1dpdGgoXCJvdmVuXCIpKSByZXR1cm4gdCA9PT0gXCJCVUlMVCBJTiBPVkVOU1wiO1xyXG5cclxuICAvLyBEZWZhdWx0OiBhbGxvdyBpdCB0byBydW4gZm9yIGFsbCB0eXBlc1xyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyBVc2UgeW91ciAyay1saW5lIGZpbHRlciBtYXBwZXIgdG8gZGVyaXZlIERCIGZpbHRlciBjb2x1bW5zLlxyXG5mdW5jdGlvbiBkZXJpdmVGaWx0ZXJDb2x1bW5zRnJvbURhdGEocHJvZHVjdERhdGEsIHByb2R1Y3RUeXBlKSB7XHJcbiAgY29uc3QgZXh0cmFjdGVkID0ge307XHJcbiAgbGV0IHdpZHRoTGFiZWwgPSBudWxsO1xyXG5cclxuICAvLyAxKSBSdW4gYWxsIG5vbi13aWR0aCBleHRyYWN0b3JzIChmZWF0dXJlcywgcHJvZHVjdFR5cGUsIGNvbmZpZ3VyYXRpb24sIGZ1ZWxUeXBlLCBldGMuKVxyXG4gIGZvciAoY29uc3QgW25hbWUsIGV4dHJhY3Rvcl0gb2YgT2JqZWN0LmVudHJpZXMoZmlsdGVyVmFsdWVFeHRyYWN0b3JzIHx8IHt9KSkge1xyXG4gICAgaWYgKHR5cGVvZiBleHRyYWN0b3IgIT09IFwiZnVuY3Rpb25cIikgY29udGludWU7XHJcblxyXG4gICAgLy8gV2lkdGggZXh0cmFjdG9ycyBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5IGJlbG93XHJcbiAgICBpZiAoL3dpZHRoJC9pLnRlc3QobmFtZSkpIGNvbnRpbnVlO1xyXG5cclxuICAgIC8vIPCflJIgR2F0ZSBieSB0eXBlIHNvIGZyaWRnZXMgZG9uJ3QgaGl0IGRpc2h3YXNoZXIgZXh0cmFjdG9ycywgZXRjLlxyXG4gICAgaWYgKCFzaG91bGRSdW5FeHRyYWN0b3JGb3JUeXBlKG5hbWUsIHByb2R1Y3RUeXBlKSkgY29udGludWU7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmF3UmVzdWx0ID0gZXh0cmFjdG9yKHByb2R1Y3REYXRhKTtcclxuICAgICAgaWYgKHJhd1Jlc3VsdCA9PSBudWxsKSBjb250aW51ZTtcclxuXHJcbiAgICAgIC8vIE1pcnJvciB5b3VyIGJhY2tmaWxsIGJlaGF2aW9yOlxyXG4gICAgICAvLyAtIGlmIGFycmF5IOKGkiBrZWVwIGFzIGlzXHJcbiAgICAgIC8vIC0gaWYgc2luZ2xlIHZhbHVlIOKGkiB3cmFwIGluIGFycmF5XHJcbiAgICAgIGxldCB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KHJhd1Jlc3VsdCkgPyByYXdSZXN1bHQgOiBbcmF3UmVzdWx0XTtcclxuXHJcbiAgICAgIC8vIOKchSBOb3JtYWxpemU6IGRyb3AgbnVsbC9lbXB0eSBhbmQgZm9yY2UgbG93ZXJjYXNlIGZvciBjb25zaXN0ZW5jeVxyXG4gICAgICB2YWx1ZXMgPSB2YWx1ZXNcclxuICAgICAgICAuZmlsdGVyKCh2KSA9PiB2ICE9IG51bGwgJiYgU3RyaW5nKHYpLnRyaW0oKSAhPT0gXCJcIilcclxuICAgICAgICAubWFwKCh2KSA9PiBTdHJpbmcodikudHJpbSgpLnRvTG93ZXJDYXNlKCkpO1xyXG5cclxuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZXh0cmFjdGVkW25hbWVdID0gdmFsdWVzO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihg4p2MIEZpbHRlciBleHRyYWN0b3IgJyR7bmFtZX0nIGNyYXNoZWQ6YCwgZXJyKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDIpIFdpZHRoOiB1c2UgdGhlIHR5cGUg4oaSIGV4dHJhY3RvciBtYXAsIGtlZXAgb3JpZ2luYWwgY2FzaW5nIGZvciBsYWJlbHNcclxuICBpZiAocHJvZHVjdFR5cGUpIHtcclxuICAgIGNvbnN0IHdpZHRoRXh0cmFjdG9yTmFtZSA9IHdpZHRoRXh0cmFjdG9yQnlUeXBlW3Byb2R1Y3RUeXBlXTtcclxuICAgIGNvbnN0IHdpZHRoRXh0cmFjdG9yID1cclxuICAgICAgd2lkdGhFeHRyYWN0b3JOYW1lICYmIGZpbHRlclZhbHVlRXh0cmFjdG9yc1t3aWR0aEV4dHJhY3Rvck5hbWVdO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygd2lkdGhFeHRyYWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGxldCB3aWR0aFJhdyA9IHdpZHRoRXh0cmFjdG9yKHByb2R1Y3REYXRhKTtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh3aWR0aFJhdykpIHdpZHRoUmF3ID0gd2lkdGhSYXdbMF07XHJcblxyXG4gICAgICAgIGlmICh3aWR0aFJhdyAhPSBudWxsKSB7XHJcbiAgICAgICAgICBjb25zdCBzID0gU3RyaW5nKHdpZHRoUmF3KS50cmltKCk7XHJcbiAgICAgICAgICBpZiAocykgd2lkdGhMYWJlbCA9IHM7IC8vIGRvbid0IGZvcmNlIGxvd2VyY2FzZTsga2VlcCB5b3VyIGxhYmVsIGZvcm1hdFxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFdpZHRoIGV4dHJhY3RvciAnJHt3aWR0aEV4dHJhY3Rvck5hbWV9JyBjcmFzaGVkOmAsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGZlYXR1cmVzU2V0ID0gbmV3IFNldCgpO1xyXG4gIGNvbnN0IGZ1ZWxUeXBlU2V0ID0gbmV3IFNldCgpO1xyXG4gIGNvbnN0IGNvbmZpZ3VyYXRpb25TZXQgPSBuZXcgU2V0KCk7XHJcbiAgY29uc3QgcHJvZHVjdFR5cGVTZXQgPSBuZXcgU2V0KCk7XHJcblxyXG4gIGZvciAoY29uc3QgW25hbWUsIHZhbHVlc10gb2YgT2JqZWN0LmVudHJpZXMoZXh0cmFjdGVkKSkge1xyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIGNvbnRpbnVlO1xyXG5cclxuICAgIGlmICgvRnVlbFR5cGUkL2kudGVzdChuYW1lKSkge1xyXG4gICAgICB2YWx1ZXMuZm9yRWFjaCgodikgPT4gZnVlbFR5cGVTZXQuYWRkKHYpKTtcclxuICAgIH0gZWxzZSBpZiAoL1Byb2R1Y3RUeXBlJC9pLnRlc3QobmFtZSkpIHtcclxuICAgICAgdmFsdWVzLmZvckVhY2goKHYpID0+IHByb2R1Y3RUeXBlU2V0LmFkZCh2KSk7XHJcbiAgICB9IGVsc2UgaWYgKC9Db25maWd1cmF0aW9uJC9pLnRlc3QobmFtZSkpIHtcclxuICAgICAgdmFsdWVzLmZvckVhY2goKHYpID0+IGNvbmZpZ3VyYXRpb25TZXQuYWRkKHYpKTtcclxuICAgIH0gZWxzZSBpZiAoL0ZlYXR1cmVzPyQvaS50ZXN0KG5hbWUpKSB7XHJcbiAgICAgIHZhbHVlcy5mb3JFYWNoKCh2KSA9PiBmZWF0dXJlc1NldC5hZGQodikpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8g8J+UhyBFeHBsaWNpdGx5IGlnbm9yZSBCcmFuZCBzbyBpdCBkb2Vzbid0IGJlY29tZSBhIGZlYXR1cmVcclxuICAgICAgaWYgKCEvXmJyYW5kJC9pLnRlc3QobmFtZSkpIHtcclxuICAgICAgICAvLyBBbnl0aGluZyBlbHNlIHdlIHRyZWF0IGFzIGEgZ2VuZXJpYyBcImZlYXR1cmVcIiBmb3Igbm93XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goKHYpID0+IGZlYXR1cmVzU2V0LmFkZCh2KSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBmZWF0dXJlczogQXJyYXkuZnJvbShmZWF0dXJlc1NldCksXHJcbiAgICBmdWVsVHlwZTogQXJyYXkuZnJvbShmdWVsVHlwZVNldCksXHJcbiAgICBjb25maWd1cmF0aW9uOiBBcnJheS5mcm9tKGNvbmZpZ3VyYXRpb25TZXQpLFxyXG4gICAgcHJvZHVjdFR5cGU6IEFycmF5LmZyb20ocHJvZHVjdFR5cGVTZXQpLFxyXG4gICAgd2lkdGg6IHdpZHRoTGFiZWwsXHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8vIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFxyXG4vLyBFeGlzdGluZyB0eXBlIGxvZ2ljICh1bmNoYW5nZWQsIGp1c3QgcmV1c2VkKVxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVR5cGVBbmRDYXRlZ29yeShtYWpvciwgbWlub3IsIGNsYXNzaWZpY2F0aW9uLCBtYXJrZXRpbmdfY29weSkge1xyXG4gIGNvbnN0IG1ham9yVXBwZXIgPSBtYWpvcj8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gIGNvbnN0IG1pbm9yVXBwZXIgPSBtaW5vcj8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gIGNvbnN0IHNob3J0RGVzID0gbWFya2V0aW5nX2NvcHk/LnNob3J0X2Rlc2NyaXB0aW9uPy50b1VwcGVyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgY29uc3QgbWFqb3JfY29kZSA9IGNsYXNzaWZpY2F0aW9uPy5tYWpvcl9jbGFzc19jb2RlPy50b1VwcGVyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgY29uc3QgbWlub3JfZGVzY3JpcHRpb24gPVxyXG4gICAgY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2Rlc2NyaXB0aW9uPy50b1VwcGVyQ2FzZSgpIHx8IFwiXCI7XHJcblxyXG4gIGNvbnNvbGUubG9nKFwi8J+nriBub3JtYWxpemVUeXBlQW5kQ2F0ZWdvcnkgaW5wdXQ6XCIsIHtcclxuICAgIG1ham9yLFxyXG4gICAgbWlub3IsXHJcbiAgICBtYWpvclVwcGVyLFxyXG4gICAgbWlub3JVcHBlcixcclxuICAgIG1ham9yX2NvZGUsXHJcbiAgICBtaW5vcl9kZXNjcmlwdGlvbixcclxuICAgIHNob3J0RGVzLFxyXG4gIH0pO1xyXG5cclxuICAvLyBEZWZhdWx0OiB0cmVhdCBldmVyeXRoaW5nIGFzIEFQUExJQU5DRVMgdW5sZXNzIGV4cGxpY2l0bHkgY2hhbmdlZCBsYXRlclxyXG4gIGxldCBjYXRlZ29yeSA9IFwiYXBwbGlhbmNlc1wiO1xyXG5cclxuICBpZiAoIW1ham9yVXBwZXIgJiYgIW1pbm9yVXBwZXIpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIE5vIG1ham9yL21pbm9yLCByZXR1cm5pbmcgbnVsbCB0eXBlIHdpdGggZGVmYXVsdCBjYXRlZ29yeVwiKTtcclxuICAgIHJldHVybiB7IHR5cGU6IG51bGwsIGNhdGVnb3J5IH07XHJcbiAgfVxyXG5cclxuICAvLyBBUFBMSUFOQ0UgVFlQRSBMT0dJQ1xyXG5cclxuICBpZiAobWlub3JVcHBlci5pbmNsdWRlcyhcIk1JQ1JPV0FWRVwiKSkge1xyXG4gICAgY29uc29sZS5sb2coXCLinqHvuI8gTWF0Y2hlZCBNSUNST1dBVkUsIHR5cGU9TUlDUk9XQVZFLCBjYXRlZ29yeT1cIiwgY2F0ZWdvcnkpO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJNSUNST1dBVkVcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtaW5vclVwcGVyLmluY2x1ZGVzKFwiV0FSTUlORyBEUkFXRVJcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBcIuKeoe+4jyBNYXRjaGVkIFdBUk1JTkcgRFJBV0VSLCB0eXBlPVdBUk1JTkcgRFJBV0VSUywgY2F0ZWdvcnk9XCIsXHJcbiAgICAgIGNhdGVnb3J5XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJXQVJNSU5HIERSQVdFUlNcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtaW5vclVwcGVyLmluY2x1ZGVzKFwiQ09PS1RPUFwiKSB8fCBtaW5vclVwcGVyLmluY2x1ZGVzKFwiUkFOR0VUT1BcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBcIuKeoe+4jyBNYXRjaGVkIENPT0tUT1AvUkFOR0VUT1AsIHR5cGU9Q09PS1RPUFMgQU5EIFJBTkdFVE9QUywgY2F0ZWdvcnk9XCIsXHJcbiAgICAgIGNhdGVnb3J5XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJDT09LVE9QUyBBTkQgUkFOR0VUT1BTXCIsIGNhdGVnb3J5IH07XHJcbiAgfVxyXG5cclxuICBpZiAobWlub3JVcHBlci5pbmNsdWRlcyhcIk9WRU5cIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIE1hdGNoZWQgT1ZFTiwgdHlwZT1CVUlMVCBJTiBPVkVOUywgY2F0ZWdvcnk9XCIsIGNhdGVnb3J5KTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiQlVJTFQgSU4gT1ZFTlNcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtYWpvclVwcGVyLmluY2x1ZGVzKFwiU01BTEwgQVBQTElBTkNFU1wiKSkge1xyXG4gICAgaWYgKG1pbm9yVXBwZXIuaW5jbHVkZXMoXCJXQVJNSU5HIERSQVdFUlwiKSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBcIuKeoe+4jyBTTUFMTCBBUFBMSUFOQ0VTICsgV0FSTUlORyBEUkFXRVIsIHR5cGU9V0FSTUlORyBEUkFXRVJTXCJcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJXQVJNSU5HIERSQVdFUlNcIiwgY2F0ZWdvcnkgfTtcclxuICAgIH1cclxuICAgIGlmIChtaW5vclVwcGVyLmluY2x1ZGVzKFwiQ09GRkVFXCIpKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIFwi4p6h77iPIFNNQUxMIEFQUExJQU5DRVMgKyBDT0ZGRUUsIHR5cGU9Q09GRkVFIFNZU1RFTVMsIGNhdGVnb3J5PVwiLFxyXG4gICAgICAgIGNhdGVnb3J5XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiQ09GRkVFIFNZU1RFTVNcIiwgY2F0ZWdvcnkgfTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIFNNQUxMIEFQUExJQU5DRVMgZmFsbGJhY2ssIHR5cGU9TUlTQywgY2F0ZWdvcnk9XCIsIGNhdGVnb3J5KTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiTUlTQ1wiLCBjYXRlZ29yeSB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKG1ham9yVXBwZXIuaW5jbHVkZXMoXCJSQU5HRVNcIikgfHwgbWlub3JVcHBlci5pbmNsdWRlcyhcIlJBTkdFXCIpKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIuKeoe+4jyBNYXRjaGVkIFJBTkdFUywgdHlwZT1SQU5HRVMsIGNhdGVnb3J5PVwiLCBjYXRlZ29yeSk7XHJcbiAgICByZXR1cm4geyB0eXBlOiBcIlJBTkdFU1wiLCBjYXRlZ29yeSB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKG1ham9yVXBwZXIuaW5jbHVkZXMoXCJSRUZSSUdFUkFUT1JTXCIpKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIG1pbm9yVXBwZXIuaW5jbHVkZXMoXCJSRUZSSUdFUkFURUQgRFJBV0VSXCIpICYmXHJcbiAgICAgIHNob3J0RGVzLmluY2x1ZGVzKFwiRlJFRVpFUlwiKVxyXG4gICAgKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIFwi4p6h77iPIE1hdGNoZWQgUkVGUklHRVJBVEVEIERSQVdFUiArIEZSRUVaRVIsIHR5cGU9RlJFRVpFUlMsIGNhdGVnb3J5PVwiLFxyXG4gICAgICAgIGNhdGVnb3J5XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IHR5cGU6IFwiRlJFRVpFUlNcIiwgY2F0ZWdvcnkgfTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBcIuKeoe+4jyBNYXRjaGVkIFJFRlJJR0VSQVRPUlMsIHR5cGU9UkVGUklHRVJBVE9SUywgY2F0ZWdvcnk9XCIsXHJcbiAgICAgIGNhdGVnb3J5XHJcbiAgICApO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJSRUZSSUdFUkFUT1JTXCIsIGNhdGVnb3J5IH07XHJcbiAgfVxyXG5cclxuICBpZiAobWFqb3JVcHBlci5pbmNsdWRlcyhcIkZSRUVaRVJTXCIpKSB7XHJcbiAgICBpZiAobWlub3JVcHBlci5pbmNsdWRlcyhcIklDRSBNQUtFUlNcIikpIHtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgXCLinqHvuI8gTWF0Y2hlZCBGUkVFWkVSUyArIElDRSBNQUtFUlMsIHR5cGU9SUNFIE1BS0VSUywgY2F0ZWdvcnk9XCIsXHJcbiAgICAgICAgY2F0ZWdvcnlcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIHsgdHlwZTogXCJJQ0UgTUFLRVJTXCIsIGNhdGVnb3J5IH07XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIuKeoe+4jyBNYXRjaGVkIEZSRUVaRVJTLCB0eXBlPUZSRUVaRVJTLCBjYXRlZ29yeT1cIiwgY2F0ZWdvcnkpO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJGUkVFWkVSU1wiLCBjYXRlZ29yeSB9O1xyXG4gIH1cclxuXHJcbiAgaWYgKG1ham9yVXBwZXIuaW5jbHVkZXMoXCJESVNIV0FTSEVSU1wiKSkge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIFwi4p6h77iPIE1hdGNoZWQgRElTSFdBU0hFUlMsIHR5cGU9RElTSFdBU0hFUlMsIGNhdGVnb3J5PVwiLFxyXG4gICAgICBjYXRlZ29yeVxyXG4gICAgKTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiRElTSFdBU0hFUlNcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtYWpvcl9jb2RlLmluY2x1ZGVzKFwiQkJRXCIpIHx8IG1pbm9yVXBwZXIuaW5jbHVkZXMoXCJCQVJCRVFVRVNcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICBcIuKeoe+4jyBNYXRjaGVkIEJCUS9CQVJCRVFVRVMsIHR5cGU9T1VURE9PUiBHUklMTFMsIGNhdGVnb3J5PVwiLFxyXG4gICAgICBjYXRlZ29yeVxyXG4gICAgKTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiT1VURE9PUiBHUklMTFNcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtYWpvclVwcGVyLmluY2x1ZGVzKFwiSE9PRFNcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIE1hdGNoZWQgSE9PRFMsIHR5cGU9VkVOVElMQVRJT04sIGNhdGVnb3J5PVwiLCBjYXRlZ29yeSk7XHJcbiAgICByZXR1cm4geyB0eXBlOiBcIlZFTlRJTEFUSU9OXCIsIGNhdGVnb3J5IH07XHJcbiAgfVxyXG5cclxuICBpZiAobWFqb3JVcHBlci5pbmNsdWRlcyhcIkxBVU5EUllcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIE1hdGNoZWQgTEFVTkRSWSwgdHlwZT1MQVVORFJZLCBjYXRlZ29yeT1cIiwgY2F0ZWdvcnkpO1xyXG4gICAgcmV0dXJuIHsgdHlwZTogXCJMQVVORFJZXCIsIGNhdGVnb3J5IH07XHJcbiAgfVxyXG5cclxuICAvLyBQTFVNQklORyBkZXRlY3Rpb24gZm9yIGRpc3Bvc2VycyAvIGRpc3BlbnNlcnNcclxuICBpZiAoXHJcbiAgICBtaW5vcl9kZXNjcmlwdGlvbi5pbmNsdWRlcyhcIkRJU1BPU0VSXCIpIHx8XHJcbiAgICBtaW5vcl9kZXNjcmlwdGlvbi5pbmNsdWRlcyhcIkRJU1BFTlNFUlwiKVxyXG4gICkge1xyXG4gICAgY2F0ZWdvcnkgPSBcInBsdW1iaW5nXCI7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgXCLinqHvuI8gTWF0Y2hlZCBESVNQT1NFUi9ESVNQRU5TRVIsIHR5cGU9RElTUE9TRVIgLyBESVNQRU5TRVIgQUNDRVNTT1JJRVMsIGNhdGVnb3J5PVwiLFxyXG4gICAgICBjYXRlZ29yeVxyXG4gICAgKTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiRElTUE9TRVIgLyBESVNQRU5TRVIgQUNDRVNTT1JJRVNcIiwgY2F0ZWdvcnkgfTtcclxuICB9XHJcblxyXG4gIGlmIChtaW5vclVwcGVyLmluY2x1ZGVzKFwiQUNDRVNTT1JJRVNcIikpIHtcclxuICAgIGNvbnNvbGUubG9nKFwi4p6h77iPIE1hdGNoZWQgQUNDRVNTT1JJRVMsIHR5cGU9TUlTQywgY2F0ZWdvcnk9XCIsIGNhdGVnb3J5KTtcclxuICAgIHJldHVybiB7IHR5cGU6IFwiTUlTQ1wiLCBjYXRlZ29yeSB9O1xyXG4gIH1cclxuXHJcbiAgLy8gZmFsbGJhY2s6IHVzZSB5b3VyIHByZWRlZmluZWRUeXBlcyBsaXN0XHJcbiAgZm9yIChjb25zdCB0eXBlIG9mIHByZWRlZmluZWRUeXBlcykge1xyXG4gICAgaWYgKFxyXG4gICAgICAobWFqb3JVcHBlci5pbmNsdWRlcyh0eXBlKSB8fCBtaW5vclVwcGVyLmluY2x1ZGVzKHR5cGUpKSAmJlxyXG4gICAgICAhbWlub3JVcHBlci5pbmNsdWRlcyhcIkFDQ0VTU09SSUVTXCIpXHJcbiAgICApIHtcclxuICAgICAgY29uc29sZS5sb2coXHJcbiAgICAgICAgXCLinqHvuI8gTWF0Y2hlZCBwcmVkZWZpbmVkIHR5cGU9XCIsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBcImNhdGVnb3J5IHN0aWxsPVwiLFxyXG4gICAgICAgIGNhdGVnb3J5XHJcbiAgICAgICk7XHJcbiAgICAgIHJldHVybiB7IHR5cGUsIGNhdGVnb3J5IH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIuKeoe+4jyBGYWxsYmFjayBNSVNDLCBjYXRlZ29yeT1cIiwgY2F0ZWdvcnkpO1xyXG4gIHJldHVybiB7IHR5cGU6IFwiTUlTQ1wiLCBjYXRlZ29yeSB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBub3JtYWxpemVUeXBlKG1ham9yLCBtaW5vciwgY2xhc3NpZmljYXRpb24sIG1hcmtldGluZ19jb3B5KSB7XHJcbiAgcmV0dXJuIG5vcm1hbGl6ZVR5cGVBbmRDYXRlZ29yeShcclxuICAgIG1ham9yLFxyXG4gICAgbWlub3IsXHJcbiAgICBjbGFzc2lmaWNhdGlvbixcclxuICAgIG1hcmtldGluZ19jb3B5XHJcbiAgKS50eXBlO1xyXG59XHJcblxyXG4vLyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIBcclxuLy8gTUFJTiBJTkdFU1RcclxuLy8g4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAXHJcblxyXG4vKipcclxuICogSW5nZXN0cyBhIGZ1bGwgUldTIFhNTCBzdHJpbmc6XHJcbiAqIC0gcGFyc2VzIFhNTFxyXG4gKiAtIGl0ZXJhdGVzIHByb2R1Y3Rfc3BlY3NcclxuICogLSBkZXJpdmVzIGNvcmUgY29sdW1uc1xyXG4gKiAtIGJ1aWxkcyBub3JtYWxpemVkIEpTT04gYmxvYiBmb3IgcHJvZHVjdHMuZGF0YVxyXG4gKiAtIHJ1bnMgZmlsdGVyIG1hcHBlcnMgdG8gcG9wdWxhdGUgZmVhdHVyZXMvZnVlbFR5cGUvY29uZmlndXJhdGlvbi9wcm9kdWN0VHlwZS93aWR0aFxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluZ2VzdFByb2R1Y3RzRnJvbVhtbCh4bWxTdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhcclxuICAgIFwi8J+TpSBpbmdlc3RQcm9kdWN0c0Zyb21YbWw6IHJlY2VpdmVkIFhNTCBzdHJpbmcgbGVuZ3RoPVwiLFxyXG4gICAgeG1sU3RyaW5nPy5sZW5ndGhcclxuICApO1xyXG5cclxuICBjb25zdCBwYXJzZXIgPSBuZXcgWE1MUGFyc2VyKHtcclxuICAgIGlnbm9yZUF0dHJpYnV0ZXM6IGZhbHNlLFxyXG4gICAgYXR0cmlidXRlTmFtZVByZWZpeDogXCJcIixcclxuICB9KTtcclxuXHJcbiAgbGV0IHBhcnNlZDtcclxuICB0cnkge1xyXG4gICAgcGFyc2VkID0gcGFyc2VyLnBhcnNlKHhtbFN0cmluZyk7XHJcbiAgICBjb25zb2xlLmxvZyhcIuKchSBYTUwgcGFyc2VkLiBUb3AtbGV2ZWwga2V5czpcIiwgT2JqZWN0LmtleXMocGFyc2VkIHx8IHt9KSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIFhNTCBwYXJzZSBlcnJvcjpcIiwgZXJyKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IHJvb3QgPSBwYXJzZWQucHJvZHVjdF9kYXRhIHx8IHBhcnNlZDtcclxuICBjb25zb2xlLmxvZyhcclxuICAgIFwi8J+TpiBSb290IG9iamVjdCBrZXlzOlwiLFxyXG4gICAgcm9vdCA/IE9iamVjdC5rZXlzKHJvb3QpIDogXCJyb290IGlzIG51bGwvdW5kZWZpbmVkXCJcclxuICApO1xyXG5cclxuICBsZXQgc3BlY3MgPSByb290Py5wcm9kdWN0X3NwZWNzO1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgXCLwn5ORIHJhdyBwcm9kdWN0X3NwZWNzIHR5cGU6XCIsXHJcbiAgICBzcGVjcyA/IChBcnJheS5pc0FycmF5KHNwZWNzKSA/IFwiYXJyYXlcIiA6IHR5cGVvZiBzcGVjcykgOiBcInVuZGVmaW5lZC9udWxsXCJcclxuICApO1xyXG5cclxuICAvLyBIYW5kbGUgcG9zc2libGUgZG91YmxlLXdyYXBwZWQgc2hhcGVzXHJcbiAgaWYgKHNwZWNzICYmICFBcnJheS5pc0FycmF5KHNwZWNzKSAmJiBzcGVjcy5wcm9kdWN0X3NwZWNzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIvCflIEgRGV0ZWN0ZWQgZG91YmxlLXdyYXBwZWQgcHJvZHVjdF9zcGVjcywgdW53cmFwcGluZ1wiKTtcclxuICAgIHNwZWNzID0gc3BlY3MucHJvZHVjdF9zcGVjcztcclxuICB9XHJcblxyXG4gIGlmICghc3BlY3MpIHtcclxuICAgIGNvbnNvbGUud2FybihcIuKaoO+4jyBObyBwcm9kdWN0X3NwZWNzIGZvdW5kIGluIFhNTFwiKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IHNwZWNzQXJyYXkgPSBBcnJheS5pc0FycmF5KHNwZWNzKSA/IHNwZWNzIDogW3NwZWNzXTtcclxuICBjb25zb2xlLmxvZyhcIvCfk4ogVG90YWwgcHJvZHVjdF9zcGVjcyB0byBpbmdlc3Q6XCIsIHNwZWNzQXJyYXkubGVuZ3RoKTtcclxuXHJcbiAgZm9yIChjb25zdCBbaW5kZXgsIHNwZWNdIG9mIHNwZWNzQXJyYXkuZW50cmllcygpKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlxcbuKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgFwiKTtcclxuICAgIGNvbnNvbGUubG9nKFwi8J+nviBQcm9jZXNzaW5nIHNwZWMgaW5kZXg6XCIsIGluZGV4KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTb21lIGZlZWRzIG5lc3QgZXZlcnl0aGluZyB1bmRlciA8ZGF0YT4sIHNvbWUgcHV0IGNsYXNzaWZpY2F0aW9uIGF0IHJvb3RcclxuICAgICAgY29uc3QgcmF3ID0gc3BlYy5kYXRhIHx8IHNwZWM7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+UjSByYXcgc3BlYyBrZXlzOlwiLCBPYmplY3Qua2V5cyhyYXcgfHwge30pKTtcclxuXHJcbiAgICAgIGNvbnN0IGNsYXNzaWZpY2F0aW9uID0gcmF3LmNsYXNzaWZpY2F0aW9uIHx8IHt9O1xyXG4gICAgICBjb25zdCBtYXJrZXRpbmdfY29weSA9IHJhdy5tYXJrZXRpbmdfY29weSB8fCB7fTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+TjCBjbGFzc2lmaWNhdGlvbiBzbmFwc2hvdDpcIiwge1xyXG4gICAgICAgIHBuOiBjbGFzc2lmaWNhdGlvbi5wbixcclxuICAgICAgICBtYW51ZmFjdHVyZXJfcG46IGNsYXNzaWZpY2F0aW9uLm1hbnVmYWN0dXJlcl9wbixcclxuICAgICAgICBicmFuZF9uYW1lOiBjbGFzc2lmaWNhdGlvbi5icmFuZF9uYW1lLFxyXG4gICAgICAgIG1ham9yX2NsYXNzX2Rlc2NyaXB0aW9uOiBjbGFzc2lmaWNhdGlvbi5tYWpvcl9jbGFzc19kZXNjcmlwdGlvbixcclxuICAgICAgICBtaW5vcl9jbGFzc19kZXNjcmlwdGlvbjogY2xhc3NpZmljYXRpb24ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24sXHJcbiAgICAgICAgbWFqb3JfY2xhc3NfY29kZTogY2xhc3NpZmljYXRpb24ubWFqb3JfY2xhc3NfY29kZSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjb25zdCBtYWpvciA9IGNsYXNzaWZpY2F0aW9uLm1ham9yX2NsYXNzX2Rlc2NyaXB0aW9uIHx8IFwiXCI7XHJcbiAgICAgIGNvbnN0IG1pbm9yID0gY2xhc3NpZmljYXRpb24ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24gfHwgXCJcIjtcclxuXHJcbiAgICAgIGNvbnN0IHsgdHlwZSwgY2F0ZWdvcnkgfSA9IG5vcm1hbGl6ZVR5cGVBbmRDYXRlZ29yeShcclxuICAgICAgICBtYWpvcixcclxuICAgICAgICBtaW5vcixcclxuICAgICAgICBjbGFzc2lmaWNhdGlvbixcclxuICAgICAgICBtYXJrZXRpbmdfY29weVxyXG4gICAgICApO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIuKchSBEZXJpdmVkIHR5cGUvY2F0ZWdvcnk6XCIsIHsgdHlwZSwgY2F0ZWdvcnkgfSk7XHJcblxyXG4gICAgICAvLyDwn5S5IE5vcm1hbGl6ZWQgbW9kZWw6IHN0cmlwIGRhc2hlcy9zbGFzaGVzLCB1cHBlcmNhc2VcclxuICAgICAgY29uc3QgbW9kZWwgPSBub3JtYWxpemVNb2RlbElkZW50aWZpZXIoY2xhc3NpZmljYXRpb24pO1xyXG5cclxuICAgICAgY29uc3QgYnJhbmQgPSBjbGFzc2lmaWNhdGlvbi5icmFuZF9uYW1lIHx8IG51bGw7XHJcblxyXG4gICAgICAvLyDwn5S5IEJ1aWxkIHNsdWcgZnJvbSBicmFuZCArIG1ham9yICsgbWlub3IgKyBtb2RlbFxyXG4gICAgICBjb25zdCBzbHVnID0gYnVpbGRQcm9kdWN0U2x1ZyhicmFuZCwgbWFqb3IsIG1pbm9yLCBtb2RlbCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIvCfhpQgSWRlbnRpZmllcnM6XCIsIHsgc2x1ZywgbW9kZWwgfSk7XHJcblxyXG4gICAgICBpZiAoIXNsdWcgfHwgIW1vZGVsKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPIFNraXBwaW5nIHByb2R1Y3Qgd2l0aCBubyB1c2FibGUgc2x1Zy9tb2RlbDpcIiwge1xyXG4gICAgICAgICAgbWFqb3IsXHJcbiAgICAgICAgICBtaW5vcixcclxuICAgICAgICAgIGJyYW5kLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCdWlsZCBub3JtYWxpemVkIEpTT04gYmxvYiBmb3IgYGRhdGFgXHJcbiAgICAgIGNvbnN0IGRhdGEgPSB0cmFuc2Zvcm1TcGVjVG9TdG9yZWREYXRhKHJhdyk7XHJcblxyXG4gICAgICAvLyBCdWlsZCB0aGUgb2JqZWN0IHNoYXBlIGV4cGVjdGVkIGJ5IGZpbHRlck1hcHBlciBleHRyYWN0b3JzXHJcbiAgICAgIGNvbnN0IHByb2R1Y3RGb3JFeHRyYWN0b3JzID0ge1xyXG4gICAgICAgIC4uLmRhdGEsXHJcbiAgICAgICAgbWFqb3IsXHJcbiAgICAgICAgbWlub3IsXHJcbiAgICAgICAgYnJhbmQsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFJ1biBmaWx0ZXIgZXh0cmFjdG9ycyBvbiB0aGUgbm9ybWFsaXplZCBkYXRhIHRvIGZpbGwgZmlsdGVyIGNvbHVtbnNcclxuICAgICAgY29uc3Qge1xyXG4gICAgICAgIGZlYXR1cmVzID0gW10sXHJcbiAgICAgICAgZnVlbFR5cGUgPSBbXSxcclxuICAgICAgICBjb25maWd1cmF0aW9uID0gW10sXHJcbiAgICAgICAgcHJvZHVjdFR5cGUgPSBbXSxcclxuICAgICAgICB3aWR0aCA9IG51bGwsXHJcbiAgICAgIH0gPSBkZXJpdmVGaWx0ZXJDb2x1bW5zRnJvbURhdGEocHJvZHVjdEZvckV4dHJhY3RvcnMsIHR5cGUpO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coXCLwn5OmIEZpbmFsIHVwc2VydCBwYXlsb2FkIChzdW1tYXJ5KTpcIiwge1xyXG4gICAgICAgIHNsdWcsXHJcbiAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgYnJhbmQsXHJcbiAgICAgICAgbWFqb3IsXHJcbiAgICAgICAgbWlub3IsXHJcbiAgICAgICAgdHlwZSxcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgXCJBUFBMSUFOQ0VTXCIsXHJcbiAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgZmVhdHVyZXNDb3VudDogZmVhdHVyZXMubGVuZ3RoLFxyXG4gICAgICAgIGZ1ZWxUeXBlQ291bnQ6IGZ1ZWxUeXBlLmxlbmd0aCxcclxuICAgICAgICBjb25maWd1cmF0aW9uQ291bnQ6IGNvbmZpZ3VyYXRpb24ubGVuZ3RoLFxyXG4gICAgICAgIHByb2R1Y3RUeXBlQ291bnQ6IHByb2R1Y3RUeXBlLmxlbmd0aCxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhd2FpdCBwcmlzbWEucHJvZHVjdHMudXBzZXJ0KHtcclxuICAgICAgICB3aGVyZTogeyBtb2RlbCB9LCAvLyB1bmlxdWUgY29uc3RyYWludCBvbiBtb2RlbFxyXG4gICAgICAgIHVwZGF0ZToge1xyXG4gICAgICAgICAgc2x1ZyxcclxuICAgICAgICAgIGJyYW5kLFxyXG4gICAgICAgICAgbWFqb3IsXHJcbiAgICAgICAgICBtaW5vcixcclxuICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnkgfHwgXCJBUFBMSUFOQ0VTXCIsXHJcbiAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgIGZlYXR1cmVzLFxyXG4gICAgICAgICAgZnVlbFR5cGUsXHJcbiAgICAgICAgICBjb25maWd1cmF0aW9uLFxyXG4gICAgICAgICAgcHJvZHVjdFR5cGUsXHJcbiAgICAgICAgICBkYXRhLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlOiB7XHJcbiAgICAgICAgICBzbHVnLFxyXG4gICAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgICBicmFuZCxcclxuICAgICAgICAgIG1ham9yLFxyXG4gICAgICAgICAgbWlub3IsXHJcbiAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5IHx8IFwiQVBQTElBTkNFU1wiLFxyXG4gICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICBmZWF0dXJlcyxcclxuICAgICAgICAgIGZ1ZWxUeXBlLFxyXG4gICAgICAgICAgY29uZmlndXJhdGlvbixcclxuICAgICAgICAgIHByb2R1Y3RUeXBlLFxyXG4gICAgICAgICAgZGF0YSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwi8J+SviBVcHNlcnQgU1VDQ0VTUyBmb3IgbW9kZWw6XCIsIG1vZGVsLCBcInNsdWc6XCIsIHNsdWcpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCLinYwgRmFpbGVkIHRvIHVwc2VydCBwcm9kdWN0IGZyb20gc3BlYyBpbmRleFwiLCBpbmRleCwgZXJyKTtcclxuICAgICAgaWYgKGVycj8ubWV0YSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCIgICBQcmlzbWEgbWV0YTpcIiwgZXJyLm1ldGEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zb2xlLmxvZyhcIvCfj4EgRmluaXNoZWQgaW5nZXN0UHJvZHVjdHNGcm9tWG1sIHJ1blwiKTtcclxufVxyXG4iXSwibmFtZXMiOlsiWE1MUGFyc2VyIiwicHJpc21hIiwicHJlZGVmaW5lZFR5cGVzIiwiZmlsdGVyVmFsdWVFeHRyYWN0b3JzIiwid2lkdGhFeHRyYWN0b3JCeVR5cGUiLCJNSUNST1dBVkUiLCJSQU5HRVMiLCJSRUZSSUdFUkFUT1JTIiwiRlJFRVpFUlMiLCJESVNIV0FTSEVSUyIsIkxBVU5EUlkiLCJWRU5USUxBVElPTiIsImVuc3VyZUFycmF5IiwidmFsdWUiLCJBcnJheSIsImlzQXJyYXkiLCJub3JtYWxpemVTcGVjVGFibGUiLCJtYXJrZXRpbmdfY29weSIsInNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzIiwibGVuZ3RoIiwia2V5X3ZhbHVlX3BhaXJzIiwiY29udGFpbmVyIiwicGFpcnMiLCJzcGVjX3RhYmxlX3BhaXIiLCJtYXAiLCJwYWlyIiwia2V5IiwiU3RyaW5nIiwidHJpbSIsImZpbHRlciIsImt2Iiwic2VjdGlvbl90aXRsZSIsIm5vcm1hbGl6ZVBhcmFncmFwaERlc2NyaXB0aW9uIiwicmF3IiwicyIsInJlcGxhY2VtZW50cyIsInBhdHRlcm4iLCJyZXBsYWNlbWVudCIsInJlcGxhY2UiLCJub3JtYWxpemVNZWRpYSIsIm1lZGlhIiwicGRmc0FycmF5IiwicGRmcyIsInBkZiIsImltYWdlc0FycmF5IiwiaW1hZ2VzIiwiaW1hZ2UiLCJpbWciLCJmaWxlX25hbWUiLCJmdWxsX3NpemVfdXJsIiwidGh1bWJuYWlsX3VybCIsInVybCIsImRlc2NyaXB0aW9uIiwibm9ybWFsaXplQ2xhc3NpZmljYXRpb24iLCJjbGFzc2lmaWNhdGlvbiIsInJlbGF0ZWRSYXciLCJyZWxhdGVkX2l0ZW1zIiwicmVsYXRlZF9pdGVtX2tleSIsInJlbGF0ZWRBcnIiLCJ1bmRlZmluZWQiLCJub3JtYWxpemVNb2RlbElkZW50aWZpZXIiLCJtYW51ZmFjdHVyZXJfcG4iLCJwbiIsImNsZWFuZWQiLCJ0b1VwcGVyQ2FzZSIsInRvU2x1Z1BhcnQiLCJ0b1N0cmluZyIsInRvTG93ZXJDYXNlIiwiYnVpbGRQcm9kdWN0U2x1ZyIsImJyYW5kIiwibWFqb3IiLCJtaW5vciIsIm1vZGVsTm9ybWFsaXplZCIsInBhcnRzIiwiQm9vbGVhbiIsImpvaW5lZCIsImpvaW4iLCJ0cmFuc2Zvcm1TcGVjVG9TdG9yZWREYXRhIiwicmF3U3BlYyIsIm1hbmFnZWRfZGF0YSIsImRpc2Nsb3N1cmVzIiwibWFya2V0aW5nX3JhdyIsInBhcmFncmFwaF9kZXNjcmlwdGlvbiIsInNwZWNfdGFibGVfaHRtbCIsInJlc3RNYXJrZXRpbmciLCJhdXRob3JfdGltZXN0YW1wIiwic2hvdWxkUnVuRXh0cmFjdG9yRm9yVHlwZSIsImV4dHJhY3Rvck5hbWUiLCJwcm9kdWN0VHlwZSIsInQiLCJuIiwic3RhcnRzV2l0aCIsImRlcml2ZUZpbHRlckNvbHVtbnNGcm9tRGF0YSIsInByb2R1Y3REYXRhIiwiZXh0cmFjdGVkIiwid2lkdGhMYWJlbCIsIm5hbWUiLCJleHRyYWN0b3IiLCJPYmplY3QiLCJlbnRyaWVzIiwidGVzdCIsInJhd1Jlc3VsdCIsInZhbHVlcyIsInYiLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ3aWR0aEV4dHJhY3Rvck5hbWUiLCJ3aWR0aEV4dHJhY3RvciIsIndpZHRoUmF3IiwiZmVhdHVyZXNTZXQiLCJTZXQiLCJmdWVsVHlwZVNldCIsImNvbmZpZ3VyYXRpb25TZXQiLCJwcm9kdWN0VHlwZVNldCIsImZvckVhY2giLCJhZGQiLCJmZWF0dXJlcyIsImZyb20iLCJmdWVsVHlwZSIsImNvbmZpZ3VyYXRpb24iLCJ3aWR0aCIsIm5vcm1hbGl6ZVR5cGVBbmRDYXRlZ29yeSIsIm1ham9yVXBwZXIiLCJtaW5vclVwcGVyIiwic2hvcnREZXMiLCJzaG9ydF9kZXNjcmlwdGlvbiIsIm1ham9yX2NvZGUiLCJtYWpvcl9jbGFzc19jb2RlIiwibWlub3JfZGVzY3JpcHRpb24iLCJtaW5vcl9jbGFzc19kZXNjcmlwdGlvbiIsImxvZyIsImNhdGVnb3J5IiwidHlwZSIsImluY2x1ZGVzIiwibm9ybWFsaXplVHlwZSIsImluZ2VzdFByb2R1Y3RzRnJvbVhtbCIsInhtbFN0cmluZyIsInBhcnNlciIsImlnbm9yZUF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lUHJlZml4IiwicGFyc2VkIiwicGFyc2UiLCJrZXlzIiwicm9vdCIsInByb2R1Y3RfZGF0YSIsInNwZWNzIiwicHJvZHVjdF9zcGVjcyIsIndhcm4iLCJzcGVjc0FycmF5IiwiaW5kZXgiLCJzcGVjIiwiZGF0YSIsImJyYW5kX25hbWUiLCJtYWpvcl9jbGFzc19kZXNjcmlwdGlvbiIsIm1vZGVsIiwic2x1ZyIsInByb2R1Y3RGb3JFeHRyYWN0b3JzIiwiZmVhdHVyZXNDb3VudCIsImZ1ZWxUeXBlQ291bnQiLCJjb25maWd1cmF0aW9uQ291bnQiLCJwcm9kdWN0VHlwZUNvdW50IiwicHJvZHVjdHMiLCJ1cHNlcnQiLCJ3aGVyZSIsInVwZGF0ZSIsImNyZWF0ZSIsIm1ldGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/catalogue/ingestProductsFromXml.js\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.js":
/*!***********************!*\
  !*** ./lib/prisma.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.js\n\nlet prisma;\nif (false) {} else {\n    // Prevent multiple instances in dev / hot-reload\n    if (!globalThis.__prisma) {\n        globalThis.__prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = globalThis.__prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM4QjtBQUU5QyxJQUFJQztBQUVKLElBQUlDLEtBQXlCLEVBQWMsRUFFMUMsTUFBTTtJQUNMLGlEQUFpRDtJQUNqRCxJQUFJLENBQUNDLFdBQVdDLFFBQVEsRUFBRTtRQUN4QkQsV0FBV0MsUUFBUSxHQUFHLElBQUlKLHdEQUFZQTtJQUN4QztJQUNBQyxTQUFTRSxXQUFXQyxRQUFRO0FBQzlCO0FBRUEsaUVBQWVILE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHJpc21hLmpzPzc1MTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL3ByaXNtYS5qc1xyXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcblxyXG5sZXQgcHJpc21hO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcbn0gZWxzZSB7XHJcbiAgLy8gUHJldmVudCBtdWx0aXBsZSBpbnN0YW5jZXMgaW4gZGV2IC8gaG90LXJlbG9hZFxyXG4gIGlmICghZ2xvYmFsVGhpcy5fX3ByaXNtYSkge1xyXG4gICAgZ2xvYmFsVGhpcy5fX3ByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcclxuICB9XHJcbiAgcHJpc21hID0gZ2xvYmFsVGhpcy5fX3ByaXNtYTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xyXG4iXSwibmFtZXMiOlsiUHJpc21hQ2xpZW50IiwicHJpc21hIiwicHJvY2VzcyIsImdsb2JhbFRoaXMiLCJfX3ByaXNtYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/filterMapper.js":
/*!***********************************!*\
  !*** ./src/utils/filterMapper.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterValueExtractors: () => (/* binding */ filterValueExtractors)\n/* harmony export */ });\n/* harmony import */ var _typeFeatureValues_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typeFeatureValues.js */ \"(rsc)/./src/utils/typeFeatureValues.js\");\n// src/catalogue/config/FilterMapper.js\n\n// üîß Shared helper: safely extract a rounded width in inches from a product\nfunction extractWidthInInches(product) {\n    let raw = null;\n    // 1) Try to extract from `minor` description, e.g. '30\" GAS RANGE'\n    if (typeof product.minor === \"string\") {\n        const matchMinor = product.minor.match(/(\\d{2})(?=\")/);\n        if (matchMinor) {\n            raw = parseInt(matchMinor[1], 10);\n        // console.log(`üü¢ Width from MINOR: ${product.minor} ‚Üí ${raw}\"`);\n        }\n    }\n    // 2) Fallback to classification fields\n    if (raw === null) {\n        let widthSource = product.classification?.nominal_width_in_inches_string ?? product.classification?.width_string ?? product.classification?.width;\n        if (widthSource != null && widthSource !== \"\") {\n            // Some feeds might give objects; stringify safely\n            const rawString = String(widthSource);\n            // Match patterns like \"35 7/8\", \"36\", or \"35.875\"\n            const match = rawString.match(/(\\d+)(?:\\s+(\\d+\\/\\d+))?/);\n            if (match) {\n                const whole = parseInt(match[1], 10);\n                // safer than eval for fractions like \"7/8\"\n                const fraction = match[2] ? (()=>{\n                    const [num, den] = match[2].split(\"/\");\n                    const n = parseFloat(num);\n                    const d = parseFloat(den);\n                    return d ? n / d : 0;\n                })() : 0;\n                let numeric = whole + fraction;\n                const upper = rawString.toUpperCase();\n                if (upper.includes(\"CM\")) numeric *= 0.393701;\n                else if (upper.includes(\"MM\") || numeric > 100) numeric *= 0.0393701;\n                raw = Math.round(numeric);\n            // console.log(`üü° Width from CLASSIFICATION: ${rawString} ‚Üí ${numeric}\"`);\n            } else {\n                // fallback if above didn't match; strip non-numerics and parse\n                const cleaned = rawString.replace(/[^\\d.]/g, \"\");\n                const numeric = parseFloat(cleaned);\n                if (!Number.isNaN(numeric)) {\n                    raw = Math.round(numeric);\n                // console.log(`üü° (fallback) Width from CLASSIFICATION: ${rawString} ‚Üí ${numeric}\"`);\n                }\n            }\n        }\n    }\n    if (raw === null || Number.isNaN(raw)) return null;\n    // console.log(`üìè Final raw width for product: ${raw}\"`);\n    return raw;\n}\n// üîπ Shared helper for fridge/freezer widths\nconst getFridgeFreezerWidthLabel = (raw)=>{\n    if (raw == null) return null;\n    // You can tweak these breakpoints as needed\n    if (raw <= 18) return '18\"';\n    if (raw > 18 && raw < 24) return 'under 24\"';\n    if (raw >= 24 && raw <= 27) return '24\"';\n    if (raw >= 28 && raw <= 32) return '30\"';\n    if (raw >= 33 && raw <= 39) return '36\"';\n    if (raw >= 40 && raw <= 44) return '42\"';\n    if (raw >= 45 && raw <= 52) return '48\"';\n    if (raw >= 53 && raw <= 60) return '60\"';\n    if (raw > 60) return 'above 60\"';\n    return null;\n};\nconst filterValueExtractors = {\n    FuelType: (product)=>{\n        const description = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const minor_code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const major = product.classification?.major_class_description?.toLowerCase() || \"\";\n        const minor = product.classification?.minor_class_description?.toLowerCase() || \"\";\n        const types = [];\n        if (minor_code.includes(\"BBQLP\")) types.push(\"LP Gas\");\n        if (minor_code.includes(\"BBQNG\")) types.push(\"Natural Gas\");\n        if (description.includes(\"dual fuel\") || major.includes(\"dual fuel\") || minor.includes(\"dual fuel\")) {\n            types.push(\"Dual Fuel\");\n        }\n        if (description.includes(\"induction\") || major.includes(\"induction\") || minor.includes(\"induction\")) {\n            types.push(\"Induction\");\n        }\n        if (description.includes(\"gas\") || major.includes(\"gas\") || minor.includes(\"gas\")) {\n            types.push(\"Gas\");\n        }\n        if (description.includes(\"electric\") || major.includes(\"electric\") || minor.includes(\"electric\")) {\n            types.push(\"Electric\");\n        }\n        return types.length > 0 ? types : null;\n    },\n    DishwasherProductType: (product)=>{\n        console.log(\"\\uD83D\\uDD0D classification:\", product.classification);\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase?.() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const color_code = (product.classification?.color_code_description || \"\").toLowerCase();\n        const allText = [\n            short,\n            medium,\n            paragraph,\n            minorDes\n        ].join(\" \");\n        const types = [];\n        // Check for built-in via class code\n        if (code === \"DWBI\") types.push(\"built in dishwasher\");\n        if (color_code.includes(\"panel ready\")) {\n            types.push(\"panel ready\");\n        }\n        // Drawer logic\n        if (allText.includes(\"double\") && allText.includes(\"drawer\")) {\n            types.push(\"double drawer\");\n        } else if (allText.includes(\"single\") && allText.includes(\"drawer\")) {\n            types.push(\"single drawer\");\n        } else if (allText.includes(\"dishdrawer\")) {\n            types.push(\"single drawer\"); // fallback if no single/double keyword\n        }\n        // Top control (match flexible wording)\n        if (/(top\\s*control|top\\s*panel)/.test(allText)) {\n            types.push(\"top control\");\n        }\n        // Front control\n        if (/(front\\s*control|front\\s*panel|controls\\s*on\\s*front)/.test(allText)) {\n            types.push(\"front control\");\n        }\n        return types.length > 0 ? types : null;\n    },\n    DishWasherFeatures: (product)=>{\n        // üîê Normalize marketing_copy.features.feature to an array of strings\n        const rawFeatureField = product.marketing_copy?.features?.feature;\n        const featureList = Array.isArray(rawFeatureField) ? rawFeatureField : rawFeatureField ? [\n            rawFeatureField\n        ] : [];\n        const market_features = featureList.map((f)=>typeof f === \"string\" ? f : String(f || \"\")).join(\" \").toLowerCase();\n        // üîê Normalize marketing_copy.image_features.image_feature to an array of objects\n        const rawImageFeatures = product.marketing_copy?.image_features?.image_feature;\n        const imageFeatureList = Array.isArray(rawImageFeatures) ? rawImageFeatures : rawImageFeatures ? [\n            rawImageFeatures\n        ] : [];\n        const image_titles = imageFeatureList.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = imageFeatureList.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchicalRaw = product.marketing_copy?.hierarchical_features_html || \"\";\n        const hierarchical = hierarchicalRaw.replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        // ‚úÖ Third Rack Regexes\n        const thirdRackRegexes = [\n            /\\bthird[-\\s]?rack\\b/,\n            /\\bthird[-\\s]?level[-\\s]?rack\\b/,\n            /\\bexclusive\\b.*\\bthird\\b.*\\brack\\b/,\n            /\\bflexload\\b.*\\bthird\\b.*\\brack\\b/,\n            /\\badded rack in the bottom\\b/,\n            /\\bthree full racks?\\b/,\n            /\\bodd[-\\s]?sized items.*third[-\\s]?rack\\b/\n        ];\n        for (const regex of thirdRackRegexes){\n            if (regex.test(allText)) {\n                features.push(\"third rack\");\n                break;\n            }\n        }\n        // ‚úÖ Self-Cleaning Regexes\n        const selfCleaningRegexes = [\n            /\\bself[-\\s]?clean(ing)?\\b/,\n            /\\bself[-\\s]?clean(ing)? filter\\b/,\n            /\\bcleans itself\\b/,\n            /\\bautomatic(ally)? cleans?\\b/,\n            /\\bauto[-\\s]?clean(ing)?\\b/,\n            /\\bself[-\\s]?clean(ing)? system\\b/\n        ];\n        for (const regex of selfCleaningRegexes){\n            if (regex.test(allText)) {\n                features.push(\"self-cleaning\");\n                break;\n            }\n        }\n        const energyStarRegexes = [\n            /\\benergy\\s*star\\b/,\n            /\\benergy\\s*star\\s*qualified\\b/,\n            /\\bmeets\\s*energy\\s*star\\s*requirements\\b/,\n            /\\bENERGY\\s*STAR\\s*compliant\\b/\n        ];\n        for (const regex of energyStarRegexes){\n            if (regex.test(allText)) {\n                features.push(\"energy star\");\n                break;\n            }\n        }\n        const dryingKeywords = [\n            /drying\\s*system/i,\n            /fan[-\\s]*assisted\\s*dry/i,\n            /energy\\s*saver\\s*dry/i,\n            /heat\\s*dry/i,\n            /no\\s*heat\\s*dry/i\n        ];\n        for (const regex of dryingKeywords){\n            if (regex.test(allText) || regex.test(featureList.map((f)=>typeof f === \"string\" ? f : String(f || \"\")).join(\" \").toLowerCase()) || regex.test(imageFeatureList.map((f)=>`${f?.title || \"\"} ${f?.feature_description || \"\"}`).join(\" \").toLowerCase()) || regex.test(hierarchical)) {\n                features.push(\"drying system\");\n                break;\n            }\n        }\n        const sanitaryRinseRegexes = [\n            /\\bsani(tary)?[-\\s]?rinse\\b/,\n            /\\bsanitize[-\\s]?rinse\\b/,\n            /\\bsanitary cycle\\b/,\n            /\\brinse\\b.*\\b160\\s*¬∞?[fF]\\b/,\n            /\\brinse\\b.*\\bhigh[-\\s]?temp(erature)?\\b/,\n            /\\bnsf[-\\s]?certified\\b.*\\brinse\\b/,\n            /\\brinse\\b.*\\bsanitize\\b/\n        ];\n        for (const regex of sanitaryRinseRegexes){\n            if (regex.test(allText)) {\n                features.push(\"sanitary rinse\");\n                break;\n            }\n        }\n        const cutleryTrayRegexes = [\n            /\\bcutlery\\s*tray\\b/,\n            /\\bcutlery\\s*(drawer|rack)\\b/,\n            /\\bseparate\\s*cutlery\\b.*\\b(tray|rack|section)\\b/,\n            /\\bthird\\b.*\\bcutlery\\b.*\\b(tray|rack)\\b/,\n            /\\bcutlery\\s*organization\\b/,\n            /\\butensil\\s*(tray|rack)\\b/\n        ];\n        for (const regex of cutleryTrayRegexes){\n            if (regex.test(allText)) {\n                features.push(\"cutlery tray\");\n                break;\n            }\n        }\n        return features.length > 0 ? features : null;\n    },\n    DishwasherWidth: (product)=>{\n        // 1. Try to extract width from minor first (probably unused with new data, but safe)\n        let raw = null;\n        if (typeof product.minor === \"string\") {\n            const match = product.minor.match(/(\\d{2})(?=\")/);\n            if (match) {\n                raw = parseInt(match[1], 10);\n            // console.log(`üü¢ Width from MINOR: ${product.minor} ‚Üí ${raw}\"`);\n            }\n        }\n        // 2. Fallback to classification fields if needed\n        if (raw === null) {\n            const widthSource = product.classification?.nominal_width_in_inches_string ?? product.classification?.width_string ?? product.classification?.width;\n            if (widthSource != null && widthSource !== \"\") {\n                // üîπ Always work with a string from here on\n                const rawString = String(widthSource);\n                // Match patterns like \"35 7/8\", \"36\", or \"35.875\"\n                const match = rawString.match(/(\\d+)(?:\\s+(\\d+\\/\\d+))?/);\n                if (match) {\n                    const whole = parseInt(match[1], 10);\n                    // Safer than eval; handles \"7/8\" style fractions\n                    const fraction = match[2] ? (()=>{\n                        const [num, den] = match[2].split(\"/\");\n                        const n = parseFloat(num);\n                        const d = parseFloat(den);\n                        return d ? n / d : 0;\n                    })() : 0;\n                    let numeric = whole + fraction;\n                    const upper = rawString.toUpperCase();\n                    if (upper.includes(\"CM\")) numeric *= 0.393701;\n                    else if (upper.includes(\"MM\") || numeric > 100) numeric *= 0.0393701;\n                    raw = Math.round(numeric);\n                // console.log(`üü° Width from CLASSIFICATION: ${rawString} ‚Üí ${numeric}\"`);\n                } else {\n                    // fallback if above didn't match\n                    const cleaned = rawString.replace(/[^\\d.]/g, \"\");\n                    let numeric = parseFloat(cleaned);\n                    if (!isNaN(numeric)) {\n                        raw = Math.round(numeric);\n                    // console.log(`üü° (fallback) Width from CLASSIFICATION: ${rawString} ‚Üí ${numeric}\"`);\n                    }\n                }\n            }\n        }\n        if (raw === null || isNaN(raw)) return null;\n        // console.log(`üìè Final raw width for product: ${raw}\"`);\n        if (raw >= 16 && raw < 19) return '18\"';\n        if (raw >= 22 && raw < 25) return '24\"';\n        return null; // fallback\n    },\n    MicrowaveFeatures: (product)=>{\n        // features.feature can be string or string[]\n        const rawMarketFeatures = product.marketing_copy?.features?.feature;\n        const market_features = Array.isArray(rawMarketFeatures) ? rawMarketFeatures.join(\" \").toLowerCase() : rawMarketFeatures?.toLowerCase?.() || \"\";\n        // image_features.image_feature can be object or array or undefined\n        const rawImageFeatures = product.marketing_copy?.image_features?.image_feature;\n        const image_features = Array.isArray(rawImageFeatures) ? rawImageFeatures : rawImageFeatures ? [\n            rawImageFeatures\n        ] : [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const keywordMap = {\n            turntable: /\\bturntables?\\b/,\n            clock: /\\bclock\\b/,\n            \"includes timer\": /\\b(includes?|with|comes with)\\b.*\\btimer\\b|\\btimer\\b.*\\bincluded\\b/,\n            \"light included\": /\\blight(s)?\\b.*\\b(included|included with|with light|lighting included)\\b/,\n            \"title 20 compliant\": /\\btitle\\s*20\\b.*\\bcompliant\\b/,\n            \"end of cycle indicator\": /\\b(end|completion)\\s+of\\s+cycle\\b|\\bcycle\\s+(complete|done|finished|indicator)\\b/,\n            \"sensor cooking\": /\\bsensor\\b.*\\bcook(ing)?\\b|\\bcook(ing)?\\b.*\\bsensor\\b/,\n            \"auto shut off\": /\\bauto(matic)?(ally)?\\b.*\\bshut\\s*off\\b|\\bshuts?\\s*off\\b.*\\bautomatically\\b/,\n            \"bulb included\": /\\bbulbs?\\b.*\\b(included|included with)\\b|\\bincludes?\\s+bulbs?\\b/,\n            convection: /\\bconvection\\b/,\n            \"warm function\": /\\bwarm(ing)?\\b.*\\bfunction\\b|\\bkeep(s)?\\s+(warm|food warm)\\b/,\n            \"convertible to ductless / recirculating\": /\\bconvertible\\b.*(ductless|recirculating)\\b|\\brecirculating\\s+option\\b/,\n            ductless: /\\bductless\\b/,\n            \"front loading\": /\\bfront[-\\s]*load(ing)?\\b/,\n            \"rebate offered\": /\\brebate(s)?\\b.*(available|offered|included)\\b|\\bqualifies?\\s+for\\s+rebate\\b/,\n            \"fingerprint resistant\": /\\bfingerprint[-\\s]*(resistant|proof)\\b/,\n            ada: /\\bADA\\b|\\baccessible\\b/,\n            \"baking element\": /\\bbaking\\b.*\\belement\\b|\\bbake\\b.*\\belement\\b/,\n            \"optional trim kit\": /\\btrim\\s*kit\\b.*(optional|available)\\b|\\b(optional)?\\s*trim\\s*kit\\b/,\n            \"smart home\": /\\bsmart\\s+(home|device|technology)\\b|\\bwi[-\\s]?fi\\b|\\bconnect(ed|ivity)\\b|\\bapp\\s*control\\b/,\n            \"broil element\": /\\bbroil(ing)?\\b.*\\belement\\b/,\n            \"air fry\": /\\bair[-\\s]?fry(ing)?\\b/,\n            \"made in america\": /\\bmade in (the )?usa\\b|\\bmade in america\\b/i,\n            \"sabbath mode\": /\\bsabbath\\s*mode\\b/,\n            \"contains pfas chemicals\": /\\bcontains\\b.*\\bpfas\\b|\\bpfas\\s*(chemicals?)?\\b/,\n            \"counter depth\": /\\bcounter[-\\s]?depth\\b/,\n            \"includes thermostat\": /\\b(includes?|with|comes with)\\b.*\\bthermostat\\b|\\bthermostat\\b.*(included|available)\\b/,\n            \"steam cooking\": /\\bsteam\\b.*\\bcook(ing)?\\b/,\n            \"energy star\": /\\benergy[-\\s]?star\\b.*(compliant|rated|qualified)?\\b/,\n            \"panel ready\": /\\bpanel\\s*ready\\b/,\n            \"includes freezer\": /\\bincludes?\\b.*\\bfreezer\\b|\\bfreezer\\b.*(included|with)\\b/,\n            \"automatic defrost\": /\\bauto(matic)?\\s*defrost\\b/,\n            \"interior light\": /\\binterior\\b.*\\blight(s)?\\b/,\n            \"adjustable shelves\": /\\badjustable\\b.*\\bshelves\\b|\\bshelves\\b.*\\badjustable\\b/,\n            \"approved for commercial use\": /\\bcommercial\\s+use\\b|\\bnsf[-\\s]?certified\\b/,\n            \"leveling legs\": /\\blevel(ing)?\\s+legs\\b/,\n            \"night light\": /\\bnight[-\\s]*light\\b/\n        };\n        for (const [label, regex] of Object.entries(keywordMap)){\n            if (regex.test(allText)) {\n                features.push(label);\n            }\n        }\n        return features.length > 0 ? features : null;\n    },\n    MicroProductType: (product)=>{\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph\n        ].join(\"\");\n        if (code === \"HALOGN\") return \"halogen light\";\n        if (code === \"MICBI\") return \"built in microwave\";\n        if (code === \"MICOR\") return \"over the range micorwave\";\n        if (code === \"MICCO\") return \"countertop\";\n        return null;\n    },\n    MicrowaveWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for MICROWAVE product: ${raw}\"`);\n        if (raw < 19) return '20\" or Less';\n        if (raw >= 20 && raw <= 22) return '21\"';\n        if (raw >= 23 && raw <= 25) return '24\"';\n        if (raw >= 26 && raw <= 28) return '27\"';\n        if (raw >= 29 && raw <= 31) return '30\"';\n        return null; // fallback\n    },\n    OvenFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const keywordMap = {\n            \"convection\": /\\bconvection\\b/,\n            \"broil element\": /\\bbroil(ing)?\\b.*\\belement\\b|\\belement\\b.*\\bbroil(ing)?\\b/,\n            \"clock\": /\\bclock\\b/,\n            \"baking element\": /\\bbak(e|ing)\\b.*\\belement\\b|\\bbake\\b.*\\belement\\b/,\n            \"self cleaning\": /\\bself[-\\s]?clean(ing)?\\b|\\bauto[-\\s]?clean\\b|\\bautomatic(ally)?\\s*clean\\b|\\bcleans itself\\b/,\n            \"sabbath mode\": /\\bsabbath\\s+mode\\b/i,\n            \"includes timer\": /\\b(includes?|with|has)\\b.*\\btimer\\b|\\btimer\\b.*\\b(included|provided|available)\\b/,\n            \"interior light\": /\\binterior\\b.*\\blight(s)?\\b|\\blight(s)?\\b.*\\binterior\\b/,\n            \"light included\": /\\blight(s)?\\b.*\\b(included|provided|built-in|included with)\\b/,\n            \"smart home\": /\\bsmart\\b.*\\b(home|device|connected|tech|technology)\\b|\\bwi[-\\s]?fi\\b|\\bapp\\s*enabled\\b/,\n            \"air fry\": /\\bair\\s*fry(ing)?\\b/i,\n            \"warm function\": /\\bwarm\\b.*\\bfunction\\b|\\bkeep warm\\b|\\bwarming\\b/,\n            \"meat thermometer\": /\\bmeat\\b.*\\bthermometer\\b|\\binternal\\s+probe\\b/,\n            \"rebate offered\": /\\brebate\\b.*(offered|available|eligible|qualif(y|ies|ication))\\b/,\n            \"auto shut off\": /\\bauto(matic)?(ally)?\\b.*\\bshut\\s*off\\b|\\bshuts off automatically\\b/,\n            \"sensor cooking\": /\\bsensor\\b.*\\bcook(ing)?\\b|\\bcook(ing)?\\b.*\\bsensor\\b/,\n            \"ada\": /\\bADA\\b/,\n            \"made in america\": /\\bmade\\s+in\\s+(usa|america|united states)\\b/i,\n            \"combination oven\": /\\b(combination|combo|multi[-\\s]?function)\\b.*\\boven\\b/,\n            \"title 20 compliant\": /\\btitle\\s*20\\b.*(compliant|certified|approved)?\\b/,\n            \"steam cooking\": /\\bsteam\\b.*\\bcook(ing)?\\b/,\n            \"fingerprint resistant\": /\\bfingerprint\\b.*\\bresistant\\b/,\n            \"humidity control\": /\\bhumidity\\b.*\\bcontrol\\b/,\n            \"front loading\": /\\bfront[-\\s]*loading\\b/,\n            \"approved for commercial use\": /\\bcommercial\\s*(use|approved|certified)\\b|\\bnsf[-\\s]?certified\\b/,\n            \"contains pfas chemicals\": /\\bpfas\\b|\\bcontains\\b.*\\bpfas\\b/i,\n            \"lp conversion\": /\\blp\\s*(conversion|kit)?\\b|\\bconvert(ed)?\\s*(to|for)?\\s*lp\\b/i,\n            \"turntable\": /\\bturntables?\\b/,\n            \"steam technology\": /\\bsteam\\b.*\\btechnology\\b/,\n            \"bulb included\": /\\bbulb(s)?\\b.*\\bincluded\\b/,\n            \"door viewer\": /\\bdoor\\b.*\\bviewer\\b/\n        };\n        for (const [label, regex] of Object.entries(keywordMap)){\n            if (regex.test(allText)) {\n                features.push(label);\n            }\n        }\n        return features.length > 0 ? features : null;\n    },\n    OvenWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for OVEN product: ${raw}\"`);\n        if (raw <= 22) return '23\" and Less';\n        if (raw >= 23 && raw < 27) return '24\"';\n        if (raw >= 27 && raw < 33) return '30\"';\n        if (raw >= 33 && raw < 38) return '36\"';\n        if (raw >= 39) return '37\" and above';\n        return null;\n    },\n    CooktopWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for COOKTOP product: ${raw}\"`);\n        if (raw <= 22) return '23\" and Less';\n        if (raw >= 23 && raw < 27) return '24\"';\n        if (raw >= 27 && raw < 33) return '30\"';\n        if (raw >= 33 && raw < 39) return '36\"';\n        if (raw >= 39 && raw < 45) return '42\"';\n        if (raw >= 45 && raw < 54) return '48\"';\n        if (raw >= 54 && raw < 61) return '60\"';\n        if (raw >= 61) return '61\" and above';\n        return null;\n    },\n    OvenProductType: (product)=>{\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase?.() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase?.() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph,\n            minorDes\n        ].join(\" \");\n        if (/\\bdouble\\b/.test(allText)) return \"double\";\n        if (/\\bsingle\\b/.test(allText)) return \"single\";\n        return null;\n    },\n    CooktopFuelType: (product)=>{\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase() || \"\";\n        const color_code = (product.classification?.color_code_description || \"\").toLowerCase();\n        const allText = [\n            short,\n            medium,\n            paragraph,\n            minorDes\n        ].join(\" \");\n        const types = [];\n        if (allText.includes(\"induction\")) types.push(\"induction\");\n        if (code.includes(\"ERSURF\")) types.push(\"electric\");\n        if (code.includes(\"GRSURF\")) types.push(\"gas\");\n        return types.length ? types : null;\n    },\n    CooktopProductType: (product)=>{\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase?.() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph,\n            minorDes\n        ].join(\" \");\n        if (allText.includes(\"rangetop\") || allText.includes(\"range top\") || allText.includes(\"range-top\")) return \"rangetop\";\n        if (allText.includes(\"cooktop\") || allText.includes(\"cook top\") || allText.includes(\"cook-top\")) return \"cooktop\";\n        return null;\n    },\n    CooktopFeatures: (product)=>{\n        const marketingCopy = JSON.stringify(product.marketing_copy || {}).toLowerCase();\n        const classifications = JSON.stringify(product.classification || {}).toLowerCase();\n        const allTextRaw = [\n            marketingCopy,\n            classifications\n        ].join(\" \");\n        const normalizedText = allTextRaw.toLowerCase().replace(/\\s+/g, \" \");\n        const features = [];\n        const matchFeature = (regex, label)=>{\n            if (regex.test(normalizedText)) features.push(label);\n        };\n        // üî• Burner count (text-based)\n        matchFeature(/\\(4\\)[^\\d]?/, \"4 burner\");\n        matchFeature(/\\(5\\)[^\\d]?/, \"5 burner\");\n        matchFeature(/\\(6\\)[^\\d]?/, \"6 burner\");\n        matchFeature(/\\(8\\)[^\\d]?/, \"8 burner\");\n        matchFeature(/4[\\s-]?(burners?|btu)/, \"4 burner\");\n        matchFeature(/5[\\s-]?(burners?|btu)/, \"5 burner\");\n        matchFeature(/6[\\s-]?(burners?|btu)/, \"6 burner\");\n        matchFeature(/8[\\s-]?(burners?|btu)/, \"8 burner\");\n        matchFeature(/4[\\s-]?burner/, \"4 burner\");\n        matchFeature(/5[\\s-]?burner/, \"5 burner\");\n        matchFeature(/6[\\s-]?burner/, \"6 burner\");\n        matchFeature(/8[\\s-]?burner/, \"8 burner\");\n        // üîç Burner count from spec table key-value pairs\n        const specTable = product.marketing_copy?.spec_table_as_key_value_pairs || product.marketing_copy?.spec_table_html?.spec_table_as_key_value_pairs || [];\n        specTable.forEach((section)=>{\n            (section?.key_value_pairs || []).forEach((pair)=>{\n                const key = pair.key?.toLowerCase?.() || \"\";\n                const value = pair.value?.toLowerCase?.() || \"\";\n                if (key.includes(\"burner\")) {\n                    const match = value.match(/\\((\\d+)\\)/);\n                    if (match && match[1]) {\n                        features.push(`${match[1]} burner`);\n                    }\n                }\n            });\n        });\n        // üîÅ Cooktop-specific / shared range features\n        matchFeature(/griddle/, \"griddle\");\n        matchFeature(/charbroiler/, \"charbroiler options\");\n        matchFeature(/french[\\s-]?top/, \"french top\");\n        matchFeature(/wifi|wi[\\s-]?fi|smartthings/, \"Wifi Capable\");\n        matchFeature(/self[\\s-]?clean(ing)?/, \"Self Cleaning\");\n        matchFeature(/sabbath/, \"Sabbath Mode\");\n        matchFeature(/lp conversion/, \"LP Conversion\");\n        matchFeature(/leveling legs?/, \"Leveling Legs\");\n        matchFeature(/hot surface/, \"Hot Surface Indicator Lights\");\n        matchFeature(/title 20/, \"Title 20 Compliant\");\n        matchFeature(/smart home/, \"Smart Home\");\n        matchFeature(/fingerprint resistant/, \"Fingerprint Resistant\");\n        matchFeature(/pfas/, \"Contains PFAS Chemicals\");\n        matchFeature(/energy star/, \"Energy Star\");\n        matchFeature(/commercial use/, \"Approved for Commercial Use\");\n        matchFeature(/downdraft/, \"Downdraft Ventilated\");\n        matchFeature(/adjustable legs/, \"Adjustable Legs\");\n        matchFeature(/front loading/, \"Front Loading\");\n        return features.length > 0 ? features : null;\n    },\n    BbqFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const keywordMap = {\n            \"outdoor approved\": /\\boutdoor\\b.*\\bapproved\\b|\\bapproved\\s*for\\s*outdoor\\b/i,\n            \"light included\": /\\blight(s)?\\b.*\\b(included|provided|built-in|with light)\\b/i,\n            \"rotisserie\": /\\brotisser(ie|y)\\b/i,\n            \"made in america\": /\\bmade\\s+in\\s+(usa|america|united states)\\b/i,\n            \"includes thermostat\": /\\b(includes?|with)\\b.*\\bthermostat\\b|\\bthermostat\\b.*\\b(included|provided|built-in)?\\b/i,\n            \"rust resistant\": /\\brust\\b.*\\bresist(ant|ance)\\b/i,\n            \"with casters\": /\\bcasters?\\b|\\bwith\\s+casters\\b/i,\n            \"assembly required\": /\\bassembly\\s+(required|needed|necessary)\\b/i,\n            \"lp conversion\": /\\blp\\s*(conversion|kit)?\\b|\\bconvert(ed)?\\s*(to|for)?\\s*lp\\b/i,\n            \"rebate offered\": /\\brebate\\b.*(offered|available|eligible|qualif(y|ies|ication))\\b/i,\n            \"overheat protection\": /\\boverheat\\b.*\\bprotection\\b|\\bprotection\\b.*\\boverheat\\b/i,\n            \"ada\": /\\bADA\\b/i,\n            \"approved for commercial use\": /\\bcommercial\\s*(use|approved|certified)\\b|\\bnsf[-\\s]?certified\\b/i,\n            \"energy star\": /\\benergy\\s*star\\b|\\bENERGY\\s*STAR\\s*qualified\\b/i\n        };\n        for (const [label, regex] of Object.entries(keywordMap)){\n            if (regex.test(allText)) {\n                features.push(label);\n            }\n        }\n        return features.length > 0 ? features : null;\n    },\n    BBQProductType: (product)=>{\n        const minor_code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const brandCode = product.classification?.brand_code?.toUpperCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph\n        ].join(\"\");\n        const types = [];\n        if (minor_code.includes(\"BBQPRO\")) types.push(\"pro style\");\n        if (minor_code.includes(\"BBQPL\")) types.push(\"pellet bbq\");\n        if (minor_code.includes(\"BBQCH\")) types.push(\"charcoal bbq\");\n        const sideBurnerRegex = /\\bside[-\\s]?burner(s)?\\b/i;\n        const exclusionRegex = /\\b(optional|includes?|with|featuring)\\b.{0,30}side[-\\s]?burner(s)?\\b/i;\n        if (sideBurnerRegex.test(allText) && !exclusionRegex.test(allText) && brandCode !== \"BROILKING\") {\n            types.push(\"side burners\");\n        }\n        return types.length ? types : null;\n    },\n    BbqWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for BBQ product: ${raw}\"`);\n        if (raw <= 22) return '23\" and Less';\n        if (raw >= 23 && raw < 27) return '24\"';\n        if (raw >= 27 && raw < 33) return '30\"';\n        if (raw >= 33 && raw < 39) return '36\"';\n        if (raw >= 39 && raw < 45) return '42\"';\n        if (raw >= 45 && raw < 50) return '48\"';\n        if (raw >= 51 && raw < 53) return '52\"';\n        if (raw >= 54 && raw < 58) return '56\"';\n        if (raw >= 59 && raw < 61) return '60\"';\n        if (raw >= 61) return '61\" and above';\n        return null;\n    },\n    CoffeeFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const keywordMap = {\n            \"programmable\": /\\bprogrammable\\b|\\bprogram\\s+(settings|control|options)\\b/i,\n            \"includes grinder\": /\\b(includes?|with|has)\\b.*\\bgrinder\\b|\\bgrinder\\b.*\\b(included|built[-\\s]?in|provided)\\b/i,\n            \"auto shut off\": /\\bauto(matic)?(ally)?\\b.*\\bshut\\s*off\\b|\\bshuts off automatically\\b/i,\n            \"rebate offered\": /\\brebate\\b.*(offered|available|eligible|qualif(y|ies|ication))\\b/i,\n            \"water filtration\": /\\bwater\\b.*\\bfiltration\\b|\\bfiltration\\b.*\\bwater\\b/i,\n            \"ada\": /\\bADA\\b/i,\n            \"approved for commercial use\": /\\bcommercial\\s*(use|approved|certified)\\b|\\bnsf[-\\s]?certified\\b/i,\n            \"standby timer\": /\\bstandby\\b.*\\btimer\\b|\\btimer\\b.*\\bstandby\\b/i\n        };\n        for (const [label, regex] of Object.entries(keywordMap)){\n            if (regex.test(allText)) {\n                features.push(label);\n            }\n        }\n        return features.length > 0 ? features : null;\n    },\n    CoffeeProductType: (product)=>{\n        const description = product.classification?.minor_class_description?.toLowerCase() || \"\";\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase?.() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph\n        ].join(\" \");\n        const builtInRegex = /\\bbuilt[-\\s]?in\\b|builtin\\b/;\n        const counterTopRegex = /\\bcounter[\\s-]?top\\b/;\n        if (builtInRegex.test(description) || builtInRegex.test(allText)) return \"built in\";\n        if (counterTopRegex.test(description) || counterTopRegex.test(allText)) return \"counter top\";\n        return null;\n    },\n    CoffeeWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for COFFEE product: ${raw}\"`);\n        if (raw >= 23 && raw < 25) return '24\"';\n        if (raw >= 29 && raw < 31) return '30\"';\n        return null;\n    },\n    CoffeeConfiguration: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const plumbedInRegex = /\\bplumbed(?:[-\\s]?in)?\\b/;\n        if (plumbedInRegex.test(allText)) return \"Plumbed\";\n        return null;\n    },\n    LaundryFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const featureRegexMap = {\n            \"top loading\": [\n                /\\btop[-\\s]?loading\\b/\n            ],\n            \"energy star\": [\n                /\\benergy\\s*star\\b/\n            ],\n            \"title 20 compliant\": [\n                /\\btitle\\s*20\\s*compliant\\b/\n            ],\n            \"front loading\": [\n                /\\bfront[-\\s]?loading\\b/\n            ],\n            \"stackable\": [\n                /\\bstackable\\b/\n            ],\n            \"smart home\": [\n                /\\bsmart\\s*home\\b/,\n                /\\bsmart\\s*enabled\\b/\n            ],\n            \"made in america\": [\n                /\\bmade\\s*in\\s*america\\b/,\n                /\\bamerican[-\\s]?made\\b/\n            ],\n            \"sanitary rinse\": [\n                /\\bsani(tary)?[-\\s]?rinse\\b/,\n                /\\bsanitize[-\\s]?rinse\\b/,\n                /\\bsanitary\\s*cycle\\b/,\n                /\\brinse\\b.*\\bsanitize\\b/\n            ],\n            \"agitator\": [\n                /\\bagitator\\b/\n            ],\n            \"steam technology\": [\n                /\\bsteam\\s*technology\\b/,\n                /\\bsteam[-\\s]?assist\\b/,\n                /\\bsteam\\s*clean(ing)?\\b/\n            ],\n            \"impeller\": [\n                /\\bimpeller\\b/\n            ],\n            \"ada\": [\n                /\\bADA\\b/,\n                /\\bADA\\s*(compliant|certified)?\\b/\n            ],\n            \"interior light\": [\n                /\\binterior\\s*light\\b/,\n                /\\blight\\s*(included)?\\b/\n            ],\n            \"approved for commercial use\": [\n                /\\bapproved\\s*for\\s*commercial\\s*use\\b/,\n                /\\bcommercial[-\\s]*grade\\b/\n            ],\n            \"pedestal included\": [\n                /\\bpedestal\\s*included\\b/\n            ],\n            \"pet friendly\": [\n                /\\bpet\\s*friendly\\b/\n            ],\n            \"eco friendly\": [\n                /\\beco[-\\s]*friendly\\b/\n            ],\n            \"fingerprint resistant\": [\n                /\\bfingerprint\\s*resistant\\b/\n            ],\n            \"humidity sensing\": [\n                /\\bhumidity\\s*sensing\\b/,\n                /\\bmoisture\\s*(sensing|sensor)\\b/\n            ],\n            \"rebate offered\": [\n                /\\brebate\\s*(available|offered)?\\b/\n            ],\n            \"end of cycle indicator\": [\n                /\\bend\\s*of\\s*cycle\\s*indicator\\b/,\n                /\\bcycle\\s*end\\s*(alert|chime|signal)\\b/\n            ],\n            \"sensor dry\": [\n                /\\bsensor\\s*dry\\b/,\n                /\\bauto\\s*dry\\b/\n            ],\n            \"lp conversion\": [\n                /\\bLP\\s*conversion\\b/,\n                /\\bconvertible\\s*to\\s*LP\\b/\n            ],\n            \"vent free\": [\n                /\\bvent[-\\s]?free\\b/\n            ],\n            \"quick ship\": [\n                /\\bquick\\s*ship(ping)?\\b/\n            ],\n            \"light included\": [\n                /\\blight\\s*included\\b/\n            ]\n        };\n        for (const [label, regexes] of Object.entries(featureRegexMap)){\n            if (regexes.some((regex)=>regex.test(allText))) {\n                features.push(label);\n            }\n        }\n        return features.length ? features : null;\n    },\n    LaundryWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for LAUNDRY product: ${raw}\"`);\n        if (raw <= 19) return '20\" and Less';\n        if (raw >= 20 && raw < 22) return '21\"';\n        if (raw >= 23 && raw < 25) return '24\"';\n        if (raw >= 26 && raw < 28) return '27\"';\n        if (raw >= 29 && raw < 31) return '30\"';\n        if (raw >= 32) return '31\" and above';\n        return null;\n    },\n    LaundryConfiguration: (product)=>{\n        const minor_code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const types = [];\n        if ([\n            \"DRYE\",\n            \"DRYTME\",\n            \"DRYTMG\",\n            \"WASHT\",\n            \"WASHHE\",\n            \"DRYG\"\n        ].includes(minor_code)) types.push(\"Top Load\");\n        if ([\n            \"DRYEF\",\n            \"DRYGF\",\n            \"WASHF\"\n        ].includes(minor_code)) types.push(\"Front Load\");\n        if ([\n            \"COMMW\",\n            \"COMMC\",\n            \"COMMD\"\n        ].includes(minor_code)) types.push(\"Commercial\");\n        return types.length ? types : null;\n    },\n    LaundryProductType: (product)=>{\n        const minor_code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const types = [];\n        if (minor_code.includes(\"PDSTL\")) types.push(\"Laundry Accessories\");\n        if ([\n            \"DRYE\",\n            \"COMMD\",\n            \"DRYTME\",\n            \"DRYTMG\",\n            \"DRYEF\",\n            \"DRYGF\",\n            \"DRYG\",\n            \"DRYP\"\n        ].includes(minor_code)) types.push(\"Dryers\");\n        if ([\n            \"WASHF\",\n            \"WASHT\",\n            \"WASHHE\",\n            \"WASHP\",\n            \"COMMW\"\n        ].includes(minor_code)) types.push(\"Washers\");\n        if ([\n            \"WASHCE\",\n            \"WASHCG\"\n        ].includes(minor_code)) types.push(\"Washer Dryer Combos\");\n        if ([\n            \"STEAM\"\n        ].includes(minor_code)) types.push(\"Garment Steamers\");\n        if ([\n            \"COMMC\",\n            \"WASHC\"\n        ].includes(minor_code)) types.push(\"WashTowers\");\n        return types.length ? types : null;\n    },\n    HoodFeatures: (product)=>{\n        // marketing_copy.features.feature can be string or string[]\n        const rawMarketFeatures = product.marketing_copy?.features?.feature;\n        const market_features = Array.isArray(rawMarketFeatures) ? rawMarketFeatures.join(\" \").toLowerCase() : rawMarketFeatures?.toLowerCase?.() || \"\";\n        // marketing_copy.image_features.image_feature can be object or array or undefined\n        const rawImageFeatures = product.marketing_copy?.image_features?.image_feature;\n        const image_features = Array.isArray(rawImageFeatures) ? rawImageFeatures : rawImageFeatures ? [\n            rawImageFeatures\n        ] : [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const featureRegexMap = {\n            \"light included\": [\n                /\\blight\\s*included\\b/,\n                /\\bincludes\\s*light\\b/,\n                /\\bbulb\\s*included\\b/\n            ],\n            \"convertible to ductless / recirculating\": [\n                /\\bconvertible\\b/,\n                /\\bductless\\b/,\n                /\\brecirculating\\b/\n            ],\n            \"made in america\": [\n                /\\bmade\\s*in\\s*america\\b/,\n                /\\bamerican[-\\s]?made\\b/\n            ],\n            \"title 20 compliant\": [\n                /\\btitle\\s*20\\b/\n            ],\n            ada: [\n                /\\bada\\b/,\n                /\\bada\\s*(compliant|certified)?\\b/\n            ],\n            \"available without blower\": [\n                /\\bwithout\\s*blower\\b/,\n                /\\bno\\s*blower\\b/\n            ],\n            \"outdoor approved\": [\n                /\\boutdoor\\b/,\n                /\\bapproved\\s*for\\s*outdoor\\b/\n            ],\n            \"title 24\": [\n                /\\btitle\\s*24\\b/\n            ],\n            ductless: [\n                /\\bductless\\b/,\n                /\\brecirculating\\b/\n            ],\n            \"includes remote\": [\n                /\\bincludes\\s*remote\\b/,\n                /\\bremote\\s*control\\b/\n            ],\n            led: [\n                /\\bled\\b/\n            ],\n            \"smart home\": [\n                /\\bsmart\\s*home\\b/,\n                /\\bsmart\\s*enabled\\b/\n            ],\n            \"rebate offered\": [\n                /\\brebate\\b/\n            ],\n            \"fingerprint resistant\": [\n                /\\bfingerprint\\s*resistant\\b/\n            ],\n            \"energy star\": [\n                /\\benergy\\s*star\\b/\n            ],\n            \"night light\": [\n                /\\bnight\\s*light\\b/\n            ],\n            \"quick ship\": [\n                /\\bquick\\s*ship\\b/,\n                /\\bquick\\s*shipping\\b/\n            ],\n            \"panel ready\": [\n                /\\bpanel\\s*ready\\b/\n            ],\n            \"hood fan\": [\n                /\\bhood\\s*fan\\b/,\n                /\\bfan\\s*included\\b/\n            ],\n            \"includes timer\": [\n                /\\bincludes\\s*timer\\b/,\n                /\\btimer\\b/\n            ],\n            \"approved for commercial use\": [\n                /\\bapproved\\s*for\\s*commercial\\s*use\\b/,\n                /\\bcommercial[-\\s]*grade\\b/\n            ],\n            \"eco friendly\": [\n                /\\beco[-\\s]*friendly\\b/,\n                /\\benvironmentally\\s*friendly\\b/\n            ],\n            \"stainless steel interior\": [\n                /\\bstainless\\s*steel\\s*interior\\b/\n            ],\n            blower: [\n                /\\bblower\\b/\n            ],\n            \"heat sensing\": [\n                /\\bheat\\s*sensing\\b/,\n                /\\bheat\\s*sensor\\b/\n            ],\n            \"replaceable led module\": [\n                /\\breplaceable\\s*led\\b/,\n                /\\bled\\s*module\\b/\n            ],\n            \"adjustable depth\": [\n                /\\badjustable\\s*depth\\b/\n            ],\n            \"humidity sensing\": [\n                /\\bhumidity\\s*sensing\\b/,\n                /\\bmoisture\\s*sensor\\b/\n            ]\n        };\n        for (const [label, regexes] of Object.entries(featureRegexMap)){\n            if (regexes.some((regex)=>regex.test(allText))) {\n                features.push(label);\n            }\n        }\n        return features.length ? features : null;\n    },\n    HoodWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for HOOD product: ${raw}\"`);\n        if (raw < 18) return '17\" or Less';\n        if (raw >= 18 && raw <= 23) return '18\"-23\"';\n        if (raw >= 24 && raw <= 36) return '24\"-36\"';\n        if (raw >= 37 && raw <= 48) return '37\"-48\"';\n        if (raw >= 49 && raw <= 66) return '49\"-66\"';\n        if (raw > 66) return '67\" or more';\n        return null;\n    },\n    HoodProductType: (product)=>{\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph\n        ].join(\"\");\n        if (code === \"DUCTED\") return \"ducted hood\";\n        if (code === \"DCTLES\") return \"ductless hood\";\n        if (code === \"PROHD\") return \"professional hood\";\n        if (code === \"CONVHD\") return \"convertible hood\";\n        if (code === \"INSERT\") return \"hood inserts\";\n        return null;\n    },\n    IceFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const featureRegexMap = {\n            \"counter depth\": [\n                /\\bcounter[-\\s]?depth\\b/\n            ],\n            \"clear ice\": [\n                /\\bclear[-\\s]?ice\\b/\n            ],\n            \"drain required\": [\n                /\\bdrain\\s*required\\b/,\n                /\\brequires\\s*drain\\b/\n            ],\n            \"made in america\": [\n                /\\bmade\\s*in\\s*america\\b/,\n                /\\bamerican[-\\s]?made\\b/\n            ],\n            \"outdoor approved\": [\n                /\\boutdoor\\b/,\n                /\\bapproved\\s*for\\s*outdoor\\b/\n            ],\n            \"pump included\": [\n                /\\bpump\\s*included\\b/,\n                /\\bincludes\\s*pump\\b/\n            ],\n            \"light included\": [\n                /\\blight\\s*included\\b/,\n                /\\bincludes\\s*light\\b/\n            ],\n            \"panel ready\": [\n                /\\bpanel\\s*ready\\b/\n            ],\n            \"ice bin included\": [\n                /\\bice\\s*bin\\s*included\\b/,\n                /\\bincludes\\s*ice\\s*bin\\b/\n            ],\n            \"includes scoop\": [\n                /\\bincludes\\s*scoop\\b/,\n                /\\bscoop\\s*included\\b/\n            ],\n            \"leveling legs\": [\n                /\\bleveling\\s*legs\\b/,\n                /\\badjustable\\s*legs\\b/\n            ],\n            \"ada\": [\n                /\\bada\\b/,\n                /\\bada\\s*(compliant|certified)?\\b/\n            ],\n            \"energy star\": [\n                /\\benergy\\s*star\\b/\n            ],\n            \"approved for commercial use\": [\n                /\\bapproved\\s*for\\s*commercial\\s*use\\b/,\n                /\\bcommercial[-\\s]?grade\\b/\n            ],\n            \"sabbath mode\": [\n                /\\bsabbath\\s*mode\\b/\n            ],\n            \"ice maker\": [\n                /\\bice\\s*maker\\b/\n            ],\n            \"interior light\": [\n                /\\binterior\\s*light\\b/,\n                /\\blight\\s*inside\\b/\n            ],\n            \"quick ship\": [\n                /\\bquick\\s*ship\\b/,\n                /\\bquick\\s*shipping\\b/\n            ],\n            \"rebate offered\": [\n                /\\brebate\\b/\n            ],\n            \"ce listed\": [\n                /\\bce\\s*listed\\b/,\n                /\\bce\\s*certified\\b/\n            ],\n            \"forced air system\": [\n                /\\bforced\\s*air\\s*system\\b/,\n                /\\bforced\\s*air\\b/\n            ],\n            \"self-contained\": [\n                /\\bself[-\\s]?contained\\b/\n            ],\n            \"antimicrobial\": [\n                /\\bantimicrobial\\b/\n            ],\n            \"automatic defrost\": [\n                /\\bautomatic\\s*defrost\\b/,\n                /\\bauto\\s*defrost\\b/\n            ],\n            \"tower included\": [\n                /\\btower\\s*included\\b/,\n                /\\bincludes\\s*tower\\b/\n            ]\n        };\n        for (const [label, regexes] of Object.entries(featureRegexMap)){\n            if (regexes.some((regex)=>regex.test(allText))) {\n                features.push(label);\n            }\n        }\n        return features.length ? features : null;\n    },\n    IceMakerWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for ICE MAKER product: ${raw}\"`);\n        if (raw <= 13) return '14\" and Less';\n        if (raw >= 14 && raw < 16) return '15\"';\n        if (raw >= 17 && raw < 19) return '18\"';\n        if (raw >= 20 && raw < 22) return '21\"';\n        if (raw >= 23 && raw < 25) return '24\"';\n        if (raw >= 26) return '25\" and above';\n        return null;\n    },\n    WarmingDrawerFeatures: (product)=>{\n        const market_features = product.marketing_copy?.features?.feature?.join(\" \").toLowerCase() || \"\";\n        const image_features = product.marketing_copy?.image_features?.image_feature || [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const featureRegexMap = {\n            \"even heat\": [\n                /\\bdistributes\\s*heat\\s*evenly\\b/,\n                /\\beven\\s*heat\\b/,\n                /\\buniform\\s*heat\\b/\n            ],\n            \"corrosion resistant\": [\n                /\\bcorrosion\\s*resistant\\b/,\n                /\\bresists\\s*corrosion\\b/,\n                /\\bstainless[-\\s]?steel.*(panel|construction)?\\b/\n            ],\n            \"food presets\": [\n                /\\bfood\\s*presets\\b/,\n                /\\bpreset.*food\\b/,\n                /\\bbread\\b/,\n                /\\bpizza\\b/,\n                /\\bcereal\\b/\n            ],\n            \"towel warming\": [\n                /\\bwarming\\s*towels\\b/,\n                /\\btowel\\s*warming\\b/,\n                /\\bwarm.*towel\\b/\n            ],\n            \"large capacity\": [\n                /\\blarge\\s*capacity\\b/,\n                /\\bgenerous.*drawer\\b/,\n                /\\b30[-\\s]?inch\\b/\n            ],\n            \"hidden controls\": [\n                /\\bhidden\\s*controls\\b/,\n                /\\bconcealed\\s*controls\\b/,\n                /\\belectronic\\s*controls\\b/\n            ],\n            \"auto shut-off\": [\n                /\\bautomatic\\s*shut[-\\s]?off\\b/,\n                /\\bauto\\s*shut[-\\s]?off\\b/,\n                /\\bshut[-\\s]?off\\s*feature\\b/\n            ]\n        };\n        for (const [label, regexes] of Object.entries(featureRegexMap)){\n            if (regexes.some((regex)=>regex.test(allText))) {\n                features.push(label);\n            }\n        }\n        return features.length ? features : null;\n    },\n    WarmingDrawerWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for WARMING DRAWER product: ${raw}\"`);\n        if (raw <= 19) return '20\" and Less';\n        if (raw >= 19.5 && raw < 22) return '21\"';\n        if (raw >= 23 && raw < 25) return '24\"';\n        if (raw >= 26 && raw < 28) return '27\"';\n        if (raw >= 29 && raw < 31) return '30\"';\n        if (raw >= 32) return '31\" and above';\n        return null;\n    },\n    RefrigProductType: (product)=>{\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        if ([\n            \"FFRENCH\",\n            \"BFRENCH\"\n        ].includes(code)) return \"French Door\";\n        if ([\n            \"FSXS\",\n            \"BSXS\"\n        ].includes(code)) return \"Side by Side\";\n        if ([\n            \"FTOPF\",\n            \"BTOPF\"\n        ].includes(code)) return \"Top Freezer\";\n        if ([\n            \"FBOTF\",\n            \"BBOTF\"\n        ].includes(code)) return \"Bottom Freezer\";\n        if (code === \"COMPACT\") return \"Compact\";\n        if (code === \"RWC\") return \"Wine Storage\";\n        if (code === \"RSPCL\" && height < 36) return \"Undercounter\";\n        if (code === \"RSPCL\") return \"Specialty / MISC\";\n        if ([\n            \"BREFALL\",\n            \"FREFALL\"\n        ].includes(code)) return \"All Fridge\";\n        if (code === \"DRAWER\") return \"Drawer\";\n        if ([\n            \"FGLASS\",\n            \"BGLASS\"\n        ].includes(code)) return \"Glass Door\";\n        return null;\n    },\n    RefrigConfiguration: (product)=>{\n        const description = product.classification?.minor_class_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        // features.feature can be string OR array OR undefined\n        const rawFeatures = product.marketing_copy?.features?.feature;\n        const features = Array.isArray(rawFeatures) ? rawFeatures.join(\" \").toLowerCase() : rawFeatures?.toLowerCase?.() || \"\";\n        const minor_code = product.classification?.minor_class_code?.toLowerCase() || \"\";\n        if (description.includes(\"freestanding\")) return \"Freestanding\";\n        if (description.includes(\"built in\") || description.includes(\"built-in\") || description.includes(\"builtin\")) {\n            return \"Built In\";\n        }\n        if (description.includes(\"outdoor\") || paragraph.includes(\"outdoor\") || features.includes(\"outdoor\")) {\n            return \"Outdoor\";\n        }\n        return null;\n    },\n    RefrigFeatures: (product)=>{\n        // features.feature can be string or string[]\n        const rawMarketFeatures = product.marketing_copy?.features?.feature;\n        const market_features = Array.isArray(rawMarketFeatures) ? rawMarketFeatures.join(\" \").toLowerCase() : rawMarketFeatures?.toLowerCase?.() || \"\";\n        // image_features.image_feature can be object or array or undefined\n        const rawImageFeatures = product.marketing_copy?.image_features?.image_feature;\n        const image_features = Array.isArray(rawImageFeatures) ? rawImageFeatures : rawImageFeatures ? [\n            rawImageFeatures\n        ] : [];\n        const image_titles = image_features.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = image_features.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchical = (product.marketing_copy?.hierarchical_features_html || \"\").replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        if (allText.includes(\"external dispenser\") || /external.*dispenser/.test(allText)) {\n            features.push(\"External Water/Ice Dispenser\");\n        }\n        if (allText.includes(\"internal dispenser\") || /internal.*dispenser/.test(allText)) {\n            features.push(\"Internal Water Dispenser\");\n        }\n        if (allText.includes(\"internal ice and water dispenser\") || /internal.*ice.*dispenser/.test(allText)) {\n            features.push(\"Internal Water/Ice Dispenser\");\n        }\n        if (allText.includes(\"internal ice maker\") || /internal.*ice.*maker/.test(allText)) {\n            features.push(\"Internal Ice Maker\");\n        }\n        if (allText.includes(\"wifi\") || allText.includes(\"wi-fi\") || allText.includes(\"smartthings\") || /wi[-]?fi/.test(allText)) {\n            features.push(\"Wifi Capable\");\n        }\n        // ‚úÖ Fuzzy matching for additional features\n        if (/crisper[s]?/.test(allText) || /crisper.*bin[s]?/.test(allText)) {\n            features.push(\"Crisper Bin\");\n        }\n        if (/adjustable.*shelf|shelves/.test(allText)) {\n            features.push(\"Adjustable Shelves\");\n        }\n        if (/gallon.*door.*storage/.test(allText)) {\n            features.push(\"Gallon Door Storage\");\n        }\n        if (/ice.*bin/.test(allText)) {\n            features.push(\"Ice Bin\");\n        }\n        if (/wine.*rack[s]?/.test(allText)) {\n            features.push(\"Wine Rack\");\n        }\n        if (/snack.*drawer/.test(allText) || /deli.*drawer/.test(allText) || /snack\\/deli/.test(allText)) {\n            features.push(\"Snack/Deli Drawer\");\n        }\n        if (/door[- ]?in[- ]?door/.test(allText)) {\n            features.push(\"Door in Door\");\n        }\n        if (/flex[- ]?zone/.test(allText)) {\n            features.push(\"Flex Zone\");\n        }\n        if (/ice.*scoop/.test(allText)) {\n            features.push(\"Ice Scoop\");\n        }\n        if (/removable.*shelf|shelves/.test(allText)) {\n            features.push(\"Removable Shelves\");\n        }\n        return features.length > 0 ? features : null;\n    },\n    FreezerProductType: (product)=>{\n        const code = product.classification?.minor_class_code?.toUpperCase() || \"\";\n        const height = parseFloat(product.classification?.height);\n        const short = product.marketing_copy?.short_description?.toLowerCase?.() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const minorDes = product.classification?.minor_class_description?.toLowerCase?.() || \"\";\n        const allText = [\n            short,\n            medium,\n            paragraph\n        ].join(\"\");\n        if (code === \"DRAWER\") return \"freezer drawers\";\n        if (code === \"CHFRZE\" || allText.includes(\"chest\")) return \"chest freezer\";\n        if (code === \"UPFRZE\" && height < 36) return \"undercounter\";\n        if (code === \"UPFRZE\") return \"upright freezer\";\n        return null;\n    },\n    // üîπ Fridge width\n    RefrigWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        return getFridgeFreezerWidthLabel(raw);\n    },\n    // üîπ Freezer width\n    FreezerWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        return getFridgeFreezerWidthLabel(raw);\n    },\n    // üîπ Freezer features\n    FreezerFeatures: (product)=>{\n        // üîê Normalize marketing_copy.features.feature ‚Üí array of strings\n        const rawFeatureField = product.marketing_copy?.features?.feature;\n        const featureList = Array.isArray(rawFeatureField) ? rawFeatureField : rawFeatureField ? [\n            rawFeatureField\n        ] : [];\n        const market_features = featureList.map((f)=>typeof f === \"string\" ? f : String(f || \"\")).join(\" \").toLowerCase();\n        // üîê Normalize marketing_copy.image_features.image_feature ‚Üí array of objects\n        const rawImageFeatures = product.marketing_copy?.image_features?.image_feature;\n        const imageFeatureList = Array.isArray(rawImageFeatures) ? rawImageFeatures : rawImageFeatures ? [\n            rawImageFeatures\n        ] : [];\n        const image_titles = imageFeatureList.map((f)=>f?.title?.toLowerCase() || \"\").join(\" \");\n        const image_description = imageFeatureList.map((f)=>f?.feature_description?.toLowerCase() || \"\").join(\" \");\n        const short = product.marketing_copy?.short_description?.toLowerCase() || \"\";\n        const medium = product.marketing_copy?.medium_description?.toLowerCase() || \"\";\n        const paragraph = product.marketing_copy?.paragraph_description?.toLowerCase() || \"\";\n        const hierarchicalRaw = product.marketing_copy?.hierarchical_features_html || \"\";\n        const hierarchical = hierarchicalRaw.replace(/<[^>]*>/g, \"\").toLowerCase();\n        const allText = [\n            market_features,\n            image_titles,\n            image_description,\n            short,\n            medium,\n            paragraph,\n            hierarchical\n        ].join(\" \");\n        const features = [];\n        const featureRegexMap = {\n            \"Light Included\": [\n                /\\blight included\\b/,\n                /\\binterior light\\b/,\n                /\\binterior lighting\\b/\n            ],\n            \"Ice Maker\": [\n                /\\bice maker\\b/,\n                /\\bice-maker\\b/,\n                /\\bautomatic ice\\b/\n            ],\n            \"Counter Depth\": [\n                /\\bcounter[-\\s]?depth\\b/\n            ],\n            \"Panel Ready\": [\n                /\\bpanel[-\\s]?ready\\b/\n            ],\n            \"Sabbath Mode\": [\n                /\\bsabbath\\b/\n            ],\n            \"Leveling Legs\": [\n                /\\bleveling legs?\\b/,\n                /\\bleveling feet\\b/\n            ],\n            \"Interior Light\": [\n                /\\binterior light\\b/,\n                /\\binterior lighting\\b/\n            ],\n            \"Energy Star\": [\n                /\\benergy\\s*star\\b/\n            ],\n            \"Internal Ice Maker\": [\n                /\\binternal ice maker\\b/,\n                /\\binternal ice\\b/,\n                /\\bice maker inside\\b/\n            ],\n            \"Includes Thermostat\": [\n                /\\bthermostat included\\b/,\n                /\\bincludes thermostat\\b/,\n                /\\bthermostat control\\b/\n            ],\n            \"Title 20 Compliant\": [\n                /\\btitle\\s*20\\b/\n            ],\n            ADA: [\n                /\\bada\\b/,\n                /\\bada compliant\\b/\n            ],\n            \"Ice Bin Included\": [\n                /\\bice bin included\\b/,\n                /\\bremovable ice bin\\b/\n            ],\n            \"Made in America\": [\n                /\\bmade in (usa|america)\\b/,\n                /\\bamerican[-\\s]?made\\b/\n            ],\n            \"Rebate Offered\": [\n                /\\brebate\\b/,\n                /\\brebates available\\b/\n            ],\n            \"Humidity Control\": [\n                /\\bhumidity control\\b/,\n                /\\bmoisture control\\b/\n            ],\n            \"Smart Home\": [\n                /\\bsmart home\\b/,\n                /\\bsmart\\s*(connect|control)\\b/,\n                /\\bwi[-\\s]?fi\\b/\n            ],\n            \"Approved for Commercial Use\": [\n                /\\bcommercial use\\b/,\n                /\\bapproved for commercial\\b/\n            ],\n            \"Outdoor Approved\": [\n                /\\boutdoor\\b.*(rated|approved|use)/,\n                /\\bapproved for outdoor use\\b/\n            ],\n            \"Automatic Door Closer\": [\n                /\\bautomatic door closer\\b/,\n                /\\bauto[-\\s]?close door\\b/\n            ],\n            \"Front Loading\": [\n                /\\bfront loading\\b/,\n                /\\bfront[-\\s]?load\\b/\n            ],\n            \"With Casters\": [\n                /\\bcasters?\\b/,\n                /\\brolling\\b/\n            ],\n            \"Adjustable Shelves\": [\n                /\\badjustable shelves?\\b/,\n                /\\badjustable shelving\\b/\n            ],\n            \"Automatic Defrost\": [\n                /\\bautomatic defrost\\b/,\n                /\\bauto[-\\s]?defrost\\b/,\n                /\\bno[-\\s]?frost\\b/\n            ],\n            \"Fingerprint Resistant\": [\n                /\\bfingerprint resistant\\b/,\n                /\\bresists fingerprints\\b/\n            ],\n            Lockable: [\n                /\\blockable\\b/,\n                /\\bdoor lock\\b/,\n                /\\block with key\\b/\n            ],\n            \"Includes Freezer\": [\n                /\\bincludes freezer\\b/,\n                /\\bfreezer compartment\\b/\n            ],\n            \"Quick Ship\": [\n                /\\bquick ship\\b/,\n                /\\bfast ship\\b/\n            ],\n            \"Tower Included\": [\n                /\\btower included\\b/,\n                /\\bfreezer tower\\b/\n            ]\n        };\n        for (const [label, regexes] of Object.entries(featureRegexMap)){\n            if (regexes.some((regex)=>regex.test(allText))) {\n                features.push(label);\n            }\n        }\n        return features.length ? features : null;\n    },\n    RangeFeatures: (product)=>{\n        const marketingCopy = JSON.stringify(product.marketing_copy || {}).toLowerCase();\n        const classifications = JSON.stringify(product.classification || {}).toLowerCase();\n        const allTextRaw = [\n            marketingCopy,\n            classifications\n        ].join(\" \");\n        const normalizedText = allTextRaw.toLowerCase().replace(/\\s+/g, \" \");\n        const features = [];\n        const matchFeature = (regex, label)=>{\n            if (regex.test(normalizedText)) features.push(label);\n        };\n        // üî• Burner count (text-based)\n        matchFeature(/\\(4\\)[^\\d]?/, \"4 burner\");\n        matchFeature(/\\(5\\)[^\\d]?/, \"5 burner\");\n        matchFeature(/\\(6\\)[^\\d]?/, \"6 burner\");\n        matchFeature(/\\(8\\)[^\\d]?/, \"8 burner\");\n        matchFeature(/4[\\s-]?(burners?|btu)/, \"4 burner\");\n        matchFeature(/5[\\s-]?(burners?|btu)/, \"5 burner\");\n        matchFeature(/6[\\s-]?(burners?|btu)/, \"6 burner\");\n        matchFeature(/8[\\s-]?(burners?|btu)/, \"8 burner\");\n        matchFeature(/4[\\s-]?burner/, \"4 burner\");\n        matchFeature(/5[\\s-]?burner/, \"5 burner\");\n        matchFeature(/6[\\s-]?burner/, \"6 burner\");\n        matchFeature(/8[\\s-]?burner/, \"8 burner\");\n        // üîç Burner count from spec table key-value pairs\n        const specTable = product.marketing_copy?.spec_table_html?.spec_table_as_key_value_pairs || [];\n        specTable.forEach((section)=>{\n            (section?.key_value_pairs || []).forEach((pair)=>{\n                const key = pair.key?.toLowerCase?.() || \"\";\n                const value = pair.value?.toLowerCase?.() || \"\";\n                if (key.includes(\"burner\")) {\n                    const match = value.match(/\\((\\d+)\\)/);\n                    if (match && match[1]) {\n                        features.push(`${match[1]} burner`);\n                    }\n                }\n            });\n        });\n        // üîÅ Range-specific features\n        matchFeature(/griddle/, \"griddle\");\n        matchFeature(/charbroiler/, \"charbroiler options\");\n        matchFeature(/french[\\s-]?top/, \"french top\");\n        matchFeature(/wifi|wi[\\s-]?fi|smartthings/, \"Wifi Capable\");\n        matchFeature(/self[\\s-]?clean(ing)?/, \"Self Cleaning\");\n        matchFeature(/sabbath/, \"Sabbath Mode\");\n        matchFeature(/lp conversion/, \"LP Conversion\");\n        matchFeature(/leveling legs?/, \"Leveling Legs\");\n        matchFeature(/interior (oven )?light/, \"Interior Light\");\n        matchFeature(/broil/, \"Broil Element\");\n        matchFeature(/oven/, \"Oven\");\n        matchFeature(/clock/, \"Clock\");\n        matchFeature(/timer/, \"Includes Timer\");\n        matchFeature(/hot surface/, \"Hot Surface Indicator Lights\");\n        matchFeature(/warm function/, \"Warm Function\");\n        matchFeature(/title 20/, \"Title 20 Compliant\");\n        matchFeature(/smart home/, \"Smart Home\");\n        matchFeature(/fingerprint resistant/, \"Fingerprint Resistant\");\n        matchFeature(/air fry/, \"Air Fry\");\n        matchFeature(/\\bada\\b/, \"ADA\");\n        matchFeature(/auto shut[\\s-]?off/, \"Auto Shut Off\");\n        matchFeature(/meat thermometer/, \"Meat Thermometer\");\n        matchFeature(/\\bgrill\\b/, \"Grill\");\n        matchFeature(/steam cook/, \"Steam Cooking\");\n        matchFeature(/pfas/, \"Contains PFAS Chemicals\");\n        matchFeature(/energy star/, \"Energy Star\");\n        matchFeature(/commercial use/, \"Approved for Commercial Use\");\n        matchFeature(/downdraft/, \"Downdraft Ventilated\");\n        matchFeature(/adjustable legs/, \"Adjustable Legs\");\n        matchFeature(/front loading/, \"Front Loading\");\n        matchFeature(/counter depth/, \"Counter Depth\");\n        return features.length > 0 ? features : null;\n    },\n    RangeWidth: (product)=>{\n        const raw = extractWidthInInches(product);\n        if (raw == null) return null;\n        // console.log(`üìè Final raw width for RANGE product: ${raw}\"`);\n        if (raw <= 22) return '23\" and Less';\n        if (raw >= 23 && raw < 27) return '24\"';\n        if (raw >= 27 && raw < 33) return '30\"';\n        if (raw >= 33 && raw < 39) return '36\"';\n        if (raw >= 39 && raw < 45) return '42\"';\n        if (raw >= 45 && raw < 54) return '48\"';\n        if (raw >= 54 && raw < 61) return '60\"';\n        if (raw >= 61) return '61\" and above';\n        return null;\n    },\n    Brand: (product)=>product.brand || null,\n    Height: (product)=>product.height ? `${Math.round(parseFloat(product.height))}\"` : null,\n    Depth: (product)=>product.depth ? `${Math.round(parseFloat(product.depth))}\"` : null\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxNQUFNQSxNQUFNLElBQUksT0FBTztRQUNsQyxJQUFJQSxPQUFPLE1BQU1BLE1BQU0sSUFBSSxPQUFPO1FBQ2xDLElBQUlBLE9BQU8sTUFBTUEsTUFBTSxJQUFJLE9BQU87UUFDbEMsSUFBSUEsT0FBTyxNQUFNQSxNQUFNLElBQUksT0FBTztRQUNsQyxJQUFJQSxPQUFPLE1BQU1BLE1BQU0sSUFBSSxPQUFPO1FBQ2xDLElBQUlBLE9BQU8sTUFBTUEsTUFBTSxJQUFJLE9BQU87UUFDbEMsSUFBSUEsT0FBTyxJQUFJLE9BQU87UUFFdEIsT0FBTztJQUNUO0lBRUF3SyxPQUFPLENBQUN6SyxVQUFZQSxRQUFRMEssS0FBSyxJQUFJO0lBQ3JDQyxRQUFRLENBQUMzSyxVQUFZQSxRQUFRa0QsTUFBTSxHQUFHLENBQUMsRUFBRXpCLEtBQUtDLEtBQUssQ0FBQ1AsV0FBV25CLFFBQVFrRCxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUc7SUFDckYwSCxPQUFPLENBQUM1SyxVQUFZQSxRQUFRNkssS0FBSyxHQUFHLENBQUMsRUFBRXBKLEtBQUtDLEtBQUssQ0FBQ1AsV0FBV25CLFFBQVE2SyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUc7QUFDcEYsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9maWx0ZXJNYXBwZXIuanM/ZmJmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY2F0YWxvZ3VlL2NvbmZpZy9GaWx0ZXJNYXBwZXIuanNcclxuaW1wb3J0IHR5cGVGZWF0dXJlVmFsdWVzIGZyb20gXCIuL3R5cGVGZWF0dXJlVmFsdWVzLmpzXCJcclxuXHJcbi8vIPCflKcgU2hhcmVkIGhlbHBlcjogc2FmZWx5IGV4dHJhY3QgYSByb3VuZGVkIHdpZHRoIGluIGluY2hlcyBmcm9tIGEgcHJvZHVjdFxyXG5mdW5jdGlvbiBleHRyYWN0V2lkdGhJbkluY2hlcyhwcm9kdWN0KSB7XHJcbiAgbGV0IHJhdyA9IG51bGw7XHJcblxyXG4gIC8vIDEpIFRyeSB0byBleHRyYWN0IGZyb20gYG1pbm9yYCBkZXNjcmlwdGlvbiwgZS5nLiAnMzBcIiBHQVMgUkFOR0UnXHJcbiAgaWYgKHR5cGVvZiBwcm9kdWN0Lm1pbm9yID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICBjb25zdCBtYXRjaE1pbm9yID0gcHJvZHVjdC5taW5vci5tYXRjaCgvKFxcZHsyfSkoPz1cIikvKTtcclxuICAgIGlmIChtYXRjaE1pbm9yKSB7XHJcbiAgICAgIHJhdyA9IHBhcnNlSW50KG1hdGNoTWlub3JbMV0sIDEwKTtcclxuICAgICAgLy8gY29uc29sZS5sb2coYPCfn6IgV2lkdGggZnJvbSBNSU5PUjogJHtwcm9kdWN0Lm1pbm9yfSDihpIgJHtyYXd9XCJgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIDIpIEZhbGxiYWNrIHRvIGNsYXNzaWZpY2F0aW9uIGZpZWxkc1xyXG4gIGlmIChyYXcgPT09IG51bGwpIHtcclxuICAgIGxldCB3aWR0aFNvdXJjZSA9XHJcbiAgICAgIHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm5vbWluYWxfd2lkdGhfaW5faW5jaGVzX3N0cmluZyA/P1xyXG4gICAgICBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy53aWR0aF9zdHJpbmcgPz9cclxuICAgICAgcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ud2lkdGg7XHJcblxyXG4gICAgaWYgKHdpZHRoU291cmNlICE9IG51bGwgJiYgd2lkdGhTb3VyY2UgIT09IFwiXCIpIHtcclxuICAgICAgLy8gU29tZSBmZWVkcyBtaWdodCBnaXZlIG9iamVjdHM7IHN0cmluZ2lmeSBzYWZlbHlcclxuICAgICAgY29uc3QgcmF3U3RyaW5nID0gU3RyaW5nKHdpZHRoU291cmNlKTtcclxuXHJcbiAgICAgIC8vIE1hdGNoIHBhdHRlcm5zIGxpa2UgXCIzNSA3LzhcIiwgXCIzNlwiLCBvciBcIjM1Ljg3NVwiXHJcbiAgICAgIGNvbnN0IG1hdGNoID0gcmF3U3RyaW5nLm1hdGNoKC8oXFxkKykoPzpcXHMrKFxcZCtcXC9cXGQrKSk/Lyk7XHJcblxyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICBjb25zdCB3aG9sZSA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XHJcbiAgICAgICAgLy8gc2FmZXIgdGhhbiBldmFsIGZvciBmcmFjdGlvbnMgbGlrZSBcIjcvOFwiXHJcbiAgICAgICAgY29uc3QgZnJhY3Rpb24gPSBtYXRjaFsyXVxyXG4gICAgICAgICAgPyAoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBbbnVtLCBkZW5dID0gbWF0Y2hbMl0uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBuID0gcGFyc2VGbG9hdChudW0pO1xyXG4gICAgICAgICAgICBjb25zdCBkID0gcGFyc2VGbG9hdChkZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gZCA/IG4gLyBkIDogMDtcclxuICAgICAgICAgIH0pKClcclxuICAgICAgICAgIDogMDtcclxuXHJcbiAgICAgICAgbGV0IG51bWVyaWMgPSB3aG9sZSArIGZyYWN0aW9uO1xyXG5cclxuICAgICAgICBjb25zdCB1cHBlciA9IHJhd1N0cmluZy50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmICh1cHBlci5pbmNsdWRlcyhcIkNNXCIpKSBudW1lcmljICo9IDAuMzkzNzAxO1xyXG4gICAgICAgIGVsc2UgaWYgKHVwcGVyLmluY2x1ZGVzKFwiTU1cIikgfHwgbnVtZXJpYyA+IDEwMCkgbnVtZXJpYyAqPSAwLjAzOTM3MDE7XHJcblxyXG4gICAgICAgIHJhdyA9IE1hdGgucm91bmQobnVtZXJpYyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYPCfn6EgV2lkdGggZnJvbSBDTEFTU0lGSUNBVElPTjogJHtyYXdTdHJpbmd9IOKGkiAke251bWVyaWN9XCJgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBmYWxsYmFjayBpZiBhYm92ZSBkaWRuJ3QgbWF0Y2g7IHN0cmlwIG5vbi1udW1lcmljcyBhbmQgcGFyc2VcclxuICAgICAgICBjb25zdCBjbGVhbmVkID0gcmF3U3RyaW5nLnJlcGxhY2UoL1teXFxkLl0vZywgXCJcIik7XHJcbiAgICAgICAgY29uc3QgbnVtZXJpYyA9IHBhcnNlRmxvYXQoY2xlYW5lZCk7XHJcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4obnVtZXJpYykpIHtcclxuICAgICAgICAgIHJhdyA9IE1hdGgucm91bmQobnVtZXJpYyk7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhg8J+foSAoZmFsbGJhY2spIFdpZHRoIGZyb20gQ0xBU1NJRklDQVRJT046ICR7cmF3U3RyaW5nfSDihpIgJHtudW1lcmljfVwiYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAocmF3ID09PSBudWxsIHx8IE51bWJlci5pc05hTihyYXcpKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgLy8gY29uc29sZS5sb2coYPCfk48gRmluYWwgcmF3IHdpZHRoIGZvciBwcm9kdWN0OiAke3Jhd31cImApO1xyXG4gIHJldHVybiByYXc7XHJcbn1cclxuXHJcbi8vIPCflLkgU2hhcmVkIGhlbHBlciBmb3IgZnJpZGdlL2ZyZWV6ZXIgd2lkdGhzXHJcbmNvbnN0IGdldEZyaWRnZUZyZWV6ZXJXaWR0aExhYmVsID0gKHJhdykgPT4ge1xyXG4gIGlmIChyYXcgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gIC8vIFlvdSBjYW4gdHdlYWsgdGhlc2UgYnJlYWtwb2ludHMgYXMgbmVlZGVkXHJcbiAgaWYgKHJhdyA8PSAxOCkgcmV0dXJuICcxOFwiJztcclxuICBpZiAocmF3ID4gMTggJiYgcmF3IDwgMjQpIHJldHVybiAndW5kZXIgMjRcIic7XHJcbiAgaWYgKHJhdyA+PSAyNCAmJiByYXcgPD0gMjcpIHJldHVybiAnMjRcIic7XHJcbiAgaWYgKHJhdyA+PSAyOCAmJiByYXcgPD0gMzIpIHJldHVybiAnMzBcIic7XHJcbiAgaWYgKHJhdyA+PSAzMyAmJiByYXcgPD0gMzkpIHJldHVybiAnMzZcIic7XHJcbiAgaWYgKHJhdyA+PSA0MCAmJiByYXcgPD0gNDQpIHJldHVybiAnNDJcIic7XHJcbiAgaWYgKHJhdyA+PSA0NSAmJiByYXcgPD0gNTIpIHJldHVybiAnNDhcIic7XHJcbiAgaWYgKHJhdyA+PSA1MyAmJiByYXcgPD0gNjApIHJldHVybiAnNjBcIic7XHJcbiAgaWYgKHJhdyA+IDYwKSByZXR1cm4gJ2Fib3ZlIDYwXCInO1xyXG5cclxuICByZXR1cm4gbnVsbDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBmaWx0ZXJWYWx1ZUV4dHJhY3RvcnMgPSB7XHJcblxyXG4gIEZ1ZWxUeXBlOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yX2NvZGUgPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5taW5vcl9jbGFzc19jb2RlPy50b1VwcGVyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgbWFqb3IgPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5tYWpvcl9jbGFzc19kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcblxyXG4gICAgY29uc3QgdHlwZXMgPSBbXTtcclxuXHJcbiAgICBpZiAobWlub3JfY29kZS5pbmNsdWRlcygnQkJRTFAnKSkgdHlwZXMucHVzaCgnTFAgR2FzJyk7XHJcbiAgICBpZiAobWlub3JfY29kZS5pbmNsdWRlcygnQkJRTkcnKSkgdHlwZXMucHVzaCgnTmF0dXJhbCBHYXMnKTtcclxuICAgIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcygnZHVhbCBmdWVsJykgfHwgbWFqb3IuaW5jbHVkZXMoJ2R1YWwgZnVlbCcpIHx8IG1pbm9yLmluY2x1ZGVzKCdkdWFsIGZ1ZWwnKSkge1xyXG4gICAgICB0eXBlcy5wdXNoKCdEdWFsIEZ1ZWwnKTtcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcygnaW5kdWN0aW9uJykgfHwgbWFqb3IuaW5jbHVkZXMoJ2luZHVjdGlvbicpIHx8IG1pbm9yLmluY2x1ZGVzKCdpbmR1Y3Rpb24nKSkge1xyXG4gICAgICB0eXBlcy5wdXNoKCdJbmR1Y3Rpb24nKTtcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcygnZ2FzJykgfHwgbWFqb3IuaW5jbHVkZXMoJ2dhcycpIHx8IG1pbm9yLmluY2x1ZGVzKCdnYXMnKSkge1xyXG4gICAgICB0eXBlcy5wdXNoKCdHYXMnKTtcclxuICAgIH1cclxuICAgIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcygnZWxlY3RyaWMnKSB8fCBtYWpvci5pbmNsdWRlcygnZWxlY3RyaWMnKSB8fCBtaW5vci5pbmNsdWRlcygnZWxlY3RyaWMnKSkge1xyXG4gICAgICB0eXBlcy5wdXNoKCdFbGVjdHJpYycpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0eXBlcy5sZW5ndGggPiAwID8gdHlwZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIERpc2h3YXNoZXJQcm9kdWN0VHlwZTogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIGNsYXNzaWZpY2F0aW9uOicsIHByb2R1Y3QuY2xhc3NpZmljYXRpb24pO1xyXG4gICAgY29uc3QgY29kZSA9IHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2NvZGU/LnRvVXBwZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQocHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8uaGVpZ2h0KTtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWlub3JEZXMgPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5taW5vcl9jbGFzc19kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG5cclxuICAgIGNvbnN0IGNvbG9yX2NvZGUgPSAocHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8uY29sb3JfY29kZV9kZXNjcmlwdGlvbiB8fCAnJykudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IGFsbFRleHQgPSBbc2hvcnQsIG1lZGl1bSwgcGFyYWdyYXBoLCBtaW5vckRlc10uam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHR5cGVzID0gW107XHJcblxyXG4gICAgLy8gQ2hlY2sgZm9yIGJ1aWx0LWluIHZpYSBjbGFzcyBjb2RlXHJcbiAgICBpZiAoY29kZSA9PT0gXCJEV0JJXCIpIHR5cGVzLnB1c2goXCJidWlsdCBpbiBkaXNod2FzaGVyXCIpO1xyXG4gICAgaWYgKGNvbG9yX2NvZGUuaW5jbHVkZXMoXCJwYW5lbCByZWFkeVwiKSkge1xyXG4gICAgICB0eXBlcy5wdXNoKFwicGFuZWwgcmVhZHlcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRHJhd2VyIGxvZ2ljXHJcbiAgICBpZiAoYWxsVGV4dC5pbmNsdWRlcyhcImRvdWJsZVwiKSAmJiBhbGxUZXh0LmluY2x1ZGVzKFwiZHJhd2VyXCIpKSB7XHJcbiAgICAgIHR5cGVzLnB1c2goXCJkb3VibGUgZHJhd2VyXCIpO1xyXG4gICAgfSBlbHNlIGlmIChhbGxUZXh0LmluY2x1ZGVzKFwic2luZ2xlXCIpICYmIGFsbFRleHQuaW5jbHVkZXMoXCJkcmF3ZXJcIikpIHtcclxuICAgICAgdHlwZXMucHVzaChcInNpbmdsZSBkcmF3ZXJcIik7XHJcbiAgICB9IGVsc2UgaWYgKGFsbFRleHQuaW5jbHVkZXMoXCJkaXNoZHJhd2VyXCIpKSB7XHJcbiAgICAgIHR5cGVzLnB1c2goXCJzaW5nbGUgZHJhd2VyXCIpOyAvLyBmYWxsYmFjayBpZiBubyBzaW5nbGUvZG91YmxlIGtleXdvcmRcclxuICAgIH1cclxuXHJcbiAgICAvLyBUb3AgY29udHJvbCAobWF0Y2ggZmxleGlibGUgd29yZGluZylcclxuICAgIGlmICgvKHRvcFxccypjb250cm9sfHRvcFxccypwYW5lbCkvLnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgdHlwZXMucHVzaChcInRvcCBjb250cm9sXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZyb250IGNvbnRyb2xcclxuICAgIGlmICgvKGZyb250XFxzKmNvbnRyb2x8ZnJvbnRcXHMqcGFuZWx8Y29udHJvbHNcXHMqb25cXHMqZnJvbnQpLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIHR5cGVzLnB1c2goXCJmcm9udCBjb250cm9sXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0eXBlcy5sZW5ndGggPiAwID8gdHlwZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIERpc2hXYXNoZXJGZWF0dXJlczogKHByb2R1Y3QpID0+IHtcclxuICAgIC8vIPCflJAgTm9ybWFsaXplIG1hcmtldGluZ19jb3B5LmZlYXR1cmVzLmZlYXR1cmUgdG8gYW4gYXJyYXkgb2Ygc3RyaW5nc1xyXG4gICAgY29uc3QgcmF3RmVhdHVyZUZpZWxkID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uZmVhdHVyZXM/LmZlYXR1cmU7XHJcbiAgICBjb25zdCBmZWF0dXJlTGlzdCA9IEFycmF5LmlzQXJyYXkocmF3RmVhdHVyZUZpZWxkKVxyXG4gICAgICA/IHJhd0ZlYXR1cmVGaWVsZFxyXG4gICAgICA6IHJhd0ZlYXR1cmVGaWVsZFxyXG4gICAgICAgID8gW3Jhd0ZlYXR1cmVGaWVsZF1cclxuICAgICAgICA6IFtdO1xyXG5cclxuICAgIGNvbnN0IG1hcmtldF9mZWF0dXJlcyA9IGZlYXR1cmVMaXN0XHJcbiAgICAgIC5tYXAoKGYpID0+ICh0eXBlb2YgZiA9PT0gXCJzdHJpbmdcIiA/IGYgOiBTdHJpbmcoZiB8fCBcIlwiKSkpXHJcbiAgICAgIC5qb2luKFwiIFwiKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAvLyDwn5SQIE5vcm1hbGl6ZSBtYXJrZXRpbmdfY29weS5pbWFnZV9mZWF0dXJlcy5pbWFnZV9mZWF0dXJlIHRvIGFuIGFycmF5IG9mIG9iamVjdHNcclxuICAgIGNvbnN0IHJhd0ltYWdlRmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5pbWFnZV9mZWF0dXJlcz8uaW1hZ2VfZmVhdHVyZTtcclxuICAgIGNvbnN0IGltYWdlRmVhdHVyZUxpc3QgPSBBcnJheS5pc0FycmF5KHJhd0ltYWdlRmVhdHVyZXMpXHJcbiAgICAgID8gcmF3SW1hZ2VGZWF0dXJlc1xyXG4gICAgICA6IHJhd0ltYWdlRmVhdHVyZXNcclxuICAgICAgICA/IFtyYXdJbWFnZUZlYXR1cmVzXVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VGZWF0dXJlTGlzdFxyXG4gICAgICAubWFwKChmKSA9PiBmPy50aXRsZT8udG9Mb3dlckNhc2UoKSB8fCBcIlwiKVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfZGVzY3JpcHRpb24gPSBpbWFnZUZlYXR1cmVMaXN0XHJcbiAgICAgIC5tYXAoKGYpID0+IGY/LmZlYXR1cmVfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIilcclxuICAgICAgLmpvaW4oXCIgXCIpO1xyXG5cclxuICAgIGNvbnN0IHNob3J0ID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IG1lZGl1bSA9XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgcGFyYWdyYXBoID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ucGFyYWdyYXBoX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcblxyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsUmF3ID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IGhpZXJhcmNoaWNhbFJhdy5yZXBsYWNlKC88W14+XSo+L2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtcclxuICAgICAgbWFya2V0X2ZlYXR1cmVzLFxyXG4gICAgICBpbWFnZV90aXRsZXMsXHJcbiAgICAgIGltYWdlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBzaG9ydCxcclxuICAgICAgbWVkaXVtLFxyXG4gICAgICBwYXJhZ3JhcGgsXHJcbiAgICAgIGhpZXJhcmNoaWNhbCxcclxuICAgIF0uam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICAvLyDinIUgVGhpcmQgUmFjayBSZWdleGVzXHJcbiAgICBjb25zdCB0aGlyZFJhY2tSZWdleGVzID0gW1xyXG4gICAgICAvXFxidGhpcmRbLVxcc10/cmFja1xcYi8sXHJcbiAgICAgIC9cXGJ0aGlyZFstXFxzXT9sZXZlbFstXFxzXT9yYWNrXFxiLyxcclxuICAgICAgL1xcYmV4Y2x1c2l2ZVxcYi4qXFxidGhpcmRcXGIuKlxcYnJhY2tcXGIvLFxyXG4gICAgICAvXFxiZmxleGxvYWRcXGIuKlxcYnRoaXJkXFxiLipcXGJyYWNrXFxiLyxcclxuICAgICAgL1xcYmFkZGVkIHJhY2sgaW4gdGhlIGJvdHRvbVxcYi8sXHJcbiAgICAgIC9cXGJ0aHJlZSBmdWxsIHJhY2tzP1xcYi8sXHJcbiAgICAgIC9cXGJvZGRbLVxcc10/c2l6ZWQgaXRlbXMuKnRoaXJkWy1cXHNdP3JhY2tcXGIvLFxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIHRoaXJkUmFja1JlZ2V4ZXMpIHtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKFwidGhpcmQgcmFja1wiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOKchSBTZWxmLUNsZWFuaW5nIFJlZ2V4ZXNcclxuICAgIGNvbnN0IHNlbGZDbGVhbmluZ1JlZ2V4ZXMgPSBbXHJcbiAgICAgIC9cXGJzZWxmWy1cXHNdP2NsZWFuKGluZyk/XFxiLyxcclxuICAgICAgL1xcYnNlbGZbLVxcc10/Y2xlYW4oaW5nKT8gZmlsdGVyXFxiLyxcclxuICAgICAgL1xcYmNsZWFucyBpdHNlbGZcXGIvLFxyXG4gICAgICAvXFxiYXV0b21hdGljKGFsbHkpPyBjbGVhbnM/XFxiLyxcclxuICAgICAgL1xcYmF1dG9bLVxcc10/Y2xlYW4oaW5nKT9cXGIvLFxyXG4gICAgICAvXFxic2VsZlstXFxzXT9jbGVhbihpbmcpPyBzeXN0ZW1cXGIvLFxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIHNlbGZDbGVhbmluZ1JlZ2V4ZXMpIHtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKFwic2VsZi1jbGVhbmluZ1wiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVuZXJneVN0YXJSZWdleGVzID0gW1xyXG4gICAgICAvXFxiZW5lcmd5XFxzKnN0YXJcXGIvLFxyXG4gICAgICAvXFxiZW5lcmd5XFxzKnN0YXJcXHMqcXVhbGlmaWVkXFxiLyxcclxuICAgICAgL1xcYm1lZXRzXFxzKmVuZXJneVxccypzdGFyXFxzKnJlcXVpcmVtZW50c1xcYi8sXHJcbiAgICAgIC9cXGJFTkVSR1lcXHMqU1RBUlxccypjb21wbGlhbnRcXGIvLFxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIGVuZXJneVN0YXJSZWdleGVzKSB7XHJcbiAgICAgIGlmIChyZWdleC50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChcImVuZXJneSBzdGFyXCIpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZHJ5aW5nS2V5d29yZHMgPSBbXHJcbiAgICAgIC9kcnlpbmdcXHMqc3lzdGVtL2ksXHJcbiAgICAgIC9mYW5bLVxcc10qYXNzaXN0ZWRcXHMqZHJ5L2ksXHJcbiAgICAgIC9lbmVyZ3lcXHMqc2F2ZXJcXHMqZHJ5L2ksXHJcbiAgICAgIC9oZWF0XFxzKmRyeS9pLFxyXG4gICAgICAvbm9cXHMqaGVhdFxccypkcnkvaSxcclxuICAgIF07XHJcblxyXG4gICAgZm9yIChjb25zdCByZWdleCBvZiBkcnlpbmdLZXl3b3Jkcykge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcmVnZXgudGVzdChhbGxUZXh0KSB8fFxyXG4gICAgICAgIHJlZ2V4LnRlc3QoXHJcbiAgICAgICAgICBmZWF0dXJlTGlzdFxyXG4gICAgICAgICAgICAubWFwKChmKSA9PiAodHlwZW9mIGYgPT09IFwic3RyaW5nXCIgPyBmIDogU3RyaW5nKGYgfHwgXCJcIikpKVxyXG4gICAgICAgICAgICAuam9pbihcIiBcIilcclxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApIHx8XHJcbiAgICAgICAgcmVnZXgudGVzdChcclxuICAgICAgICAgIGltYWdlRmVhdHVyZUxpc3RcclxuICAgICAgICAgICAgLm1hcCgoZikgPT4gYCR7Zj8udGl0bGUgfHwgXCJcIn0gJHtmPy5mZWF0dXJlX2Rlc2NyaXB0aW9uIHx8IFwiXCJ9YClcclxuICAgICAgICAgICAgLmpvaW4oXCIgXCIpXHJcbiAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgKSB8fFxyXG4gICAgICAgIHJlZ2V4LnRlc3QoaGllcmFyY2hpY2FsKVxyXG4gICAgICApIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKFwiZHJ5aW5nIHN5c3RlbVwiKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNhbml0YXJ5Umluc2VSZWdleGVzID0gW1xyXG4gICAgICAvXFxic2FuaSh0YXJ5KT9bLVxcc10/cmluc2VcXGIvLFxyXG4gICAgICAvXFxic2FuaXRpemVbLVxcc10/cmluc2VcXGIvLFxyXG4gICAgICAvXFxic2FuaXRhcnkgY3ljbGVcXGIvLFxyXG4gICAgICAvXFxicmluc2VcXGIuKlxcYjE2MFxccyrCsD9bZkZdXFxiLyxcclxuICAgICAgL1xcYnJpbnNlXFxiLipcXGJoaWdoWy1cXHNdP3RlbXAoZXJhdHVyZSk/XFxiLyxcclxuICAgICAgL1xcYm5zZlstXFxzXT9jZXJ0aWZpZWRcXGIuKlxcYnJpbnNlXFxiLyxcclxuICAgICAgL1xcYnJpbnNlXFxiLipcXGJzYW5pdGl6ZVxcYi8sXHJcbiAgICBdO1xyXG5cclxuICAgIGZvciAoY29uc3QgcmVnZXggb2Ygc2FuaXRhcnlSaW5zZVJlZ2V4ZXMpIHtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKFwic2FuaXRhcnkgcmluc2VcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjdXRsZXJ5VHJheVJlZ2V4ZXMgPSBbXHJcbiAgICAgIC9cXGJjdXRsZXJ5XFxzKnRyYXlcXGIvLFxyXG4gICAgICAvXFxiY3V0bGVyeVxccyooZHJhd2VyfHJhY2spXFxiLyxcclxuICAgICAgL1xcYnNlcGFyYXRlXFxzKmN1dGxlcnlcXGIuKlxcYih0cmF5fHJhY2t8c2VjdGlvbilcXGIvLFxyXG4gICAgICAvXFxidGhpcmRcXGIuKlxcYmN1dGxlcnlcXGIuKlxcYih0cmF5fHJhY2spXFxiLyxcclxuICAgICAgL1xcYmN1dGxlcnlcXHMqb3JnYW5pemF0aW9uXFxiLyxcclxuICAgICAgL1xcYnV0ZW5zaWxcXHMqKHRyYXl8cmFjaylcXGIvLFxyXG4gICAgXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHJlZ2V4IG9mIGN1dGxlcnlUcmF5UmVnZXhlcykge1xyXG4gICAgICBpZiAocmVnZXgudGVzdChhbGxUZXh0KSkge1xyXG4gICAgICAgIGZlYXR1cmVzLnB1c2goXCJjdXRsZXJ5IHRyYXlcIik7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID4gMCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuXHJcbiAgRGlzaHdhc2hlcldpZHRoOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgLy8gMS4gVHJ5IHRvIGV4dHJhY3Qgd2lkdGggZnJvbSBtaW5vciBmaXJzdCAocHJvYmFibHkgdW51c2VkIHdpdGggbmV3IGRhdGEsIGJ1dCBzYWZlKVxyXG4gICAgbGV0IHJhdyA9IG51bGw7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBwcm9kdWN0Lm1pbm9yID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gcHJvZHVjdC5taW5vci5tYXRjaCgvKFxcZHsyfSkoPz1cIikvKTtcclxuICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgcmF3ID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhg8J+foiBXaWR0aCBmcm9tIE1JTk9SOiAke3Byb2R1Y3QubWlub3J9IOKGkiAke3Jhd31cImApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMi4gRmFsbGJhY2sgdG8gY2xhc3NpZmljYXRpb24gZmllbGRzIGlmIG5lZWRlZFxyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkge1xyXG4gICAgICBjb25zdCB3aWR0aFNvdXJjZSA9XHJcbiAgICAgICAgcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubm9taW5hbF93aWR0aF9pbl9pbmNoZXNfc3RyaW5nID8/XHJcbiAgICAgICAgcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ud2lkdGhfc3RyaW5nID8/XHJcbiAgICAgICAgcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ud2lkdGg7XHJcblxyXG4gICAgICBpZiAod2lkdGhTb3VyY2UgIT0gbnVsbCAmJiB3aWR0aFNvdXJjZSAhPT0gXCJcIikge1xyXG4gICAgICAgIC8vIPCflLkgQWx3YXlzIHdvcmsgd2l0aCBhIHN0cmluZyBmcm9tIGhlcmUgb25cclxuICAgICAgICBjb25zdCByYXdTdHJpbmcgPSBTdHJpbmcod2lkdGhTb3VyY2UpO1xyXG5cclxuICAgICAgICAvLyBNYXRjaCBwYXR0ZXJucyBsaWtlIFwiMzUgNy84XCIsIFwiMzZcIiwgb3IgXCIzNS44NzVcIlxyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gcmF3U3RyaW5nLm1hdGNoKC8oXFxkKykoPzpcXHMrKFxcZCtcXC9cXGQrKSk/Lyk7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgY29uc3Qgd2hvbGUgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xyXG4gICAgICAgICAgLy8gU2FmZXIgdGhhbiBldmFsOyBoYW5kbGVzIFwiNy84XCIgc3R5bGUgZnJhY3Rpb25zXHJcbiAgICAgICAgICBjb25zdCBmcmFjdGlvbiA9IG1hdGNoWzJdXHJcbiAgICAgICAgICAgID8gKCgpID0+IHtcclxuICAgICAgICAgICAgICBjb25zdCBbbnVtLCBkZW5dID0gbWF0Y2hbMl0uc3BsaXQoXCIvXCIpO1xyXG4gICAgICAgICAgICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KG51bSk7XHJcbiAgICAgICAgICAgICAgY29uc3QgZCA9IHBhcnNlRmxvYXQoZGVuKTtcclxuICAgICAgICAgICAgICByZXR1cm4gZCA/IG4gLyBkIDogMDtcclxuICAgICAgICAgICAgfSkoKVxyXG4gICAgICAgICAgICA6IDA7XHJcblxyXG4gICAgICAgICAgbGV0IG51bWVyaWMgPSB3aG9sZSArIGZyYWN0aW9uO1xyXG5cclxuICAgICAgICAgIGNvbnN0IHVwcGVyID0gcmF3U3RyaW5nLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICBpZiAodXBwZXIuaW5jbHVkZXMoXCJDTVwiKSkgbnVtZXJpYyAqPSAwLjM5MzcwMTtcclxuICAgICAgICAgIGVsc2UgaWYgKHVwcGVyLmluY2x1ZGVzKFwiTU1cIikgfHwgbnVtZXJpYyA+IDEwMCkgbnVtZXJpYyAqPSAwLjAzOTM3MDE7XHJcblxyXG4gICAgICAgICAgcmF3ID0gTWF0aC5yb3VuZChudW1lcmljKTtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGDwn5+hIFdpZHRoIGZyb20gQ0xBU1NJRklDQVRJT046ICR7cmF3U3RyaW5nfSDihpIgJHtudW1lcmljfVwiYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGZhbGxiYWNrIGlmIGFib3ZlIGRpZG4ndCBtYXRjaFxyXG4gICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHJhd1N0cmluZy5yZXBsYWNlKC9bXlxcZC5dL2csIFwiXCIpO1xyXG4gICAgICAgICAgbGV0IG51bWVyaWMgPSBwYXJzZUZsb2F0KGNsZWFuZWQpO1xyXG4gICAgICAgICAgaWYgKCFpc05hTihudW1lcmljKSkge1xyXG4gICAgICAgICAgICByYXcgPSBNYXRoLnJvdW5kKG51bWVyaWMpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhg8J+foSAoZmFsbGJhY2spIFdpZHRoIGZyb20gQ0xBU1NJRklDQVRJT046ICR7cmF3U3RyaW5nfSDihpIgJHtudW1lcmljfVwiYCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCB8fCBpc05hTihyYXcpKSByZXR1cm4gbnVsbDtcclxuICAgIC8vIGNvbnNvbGUubG9nKGDwn5OPIEZpbmFsIHJhdyB3aWR0aCBmb3IgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3ID49IDE2ICYmIHJhdyA8IDE5KSByZXR1cm4gJzE4XCInO1xyXG4gICAgaWYgKHJhdyA+PSAyMiAmJiByYXcgPCAyNSkgcmV0dXJuICcyNFwiJztcclxuXHJcbiAgICByZXR1cm4gbnVsbDsgLy8gZmFsbGJhY2tcclxuICB9LFxyXG5cclxuICBNaWNyb3dhdmVGZWF0dXJlczogKHByb2R1Y3QpID0+IHtcclxuICAgIC8vIGZlYXR1cmVzLmZlYXR1cmUgY2FuIGJlIHN0cmluZyBvciBzdHJpbmdbXVxyXG4gICAgY29uc3QgcmF3TWFya2V0RmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5mZWF0dXJlcz8uZmVhdHVyZTtcclxuICAgIGNvbnN0IG1hcmtldF9mZWF0dXJlcyA9IEFycmF5LmlzQXJyYXkocmF3TWFya2V0RmVhdHVyZXMpXHJcbiAgICAgID8gcmF3TWFya2V0RmVhdHVyZXMuam9pbihcIiBcIikudG9Mb3dlckNhc2UoKVxyXG4gICAgICA6IChyYXdNYXJrZXRGZWF0dXJlcz8udG9Mb3dlckNhc2U/LigpIHx8IFwiXCIpO1xyXG5cclxuICAgIC8vIGltYWdlX2ZlYXR1cmVzLmltYWdlX2ZlYXR1cmUgY2FuIGJlIG9iamVjdCBvciBhcnJheSBvciB1bmRlZmluZWRcclxuICAgIGNvbnN0IHJhd0ltYWdlRmVhdHVyZXMgPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5pbWFnZV9mZWF0dXJlcz8uaW1hZ2VfZmVhdHVyZTtcclxuXHJcbiAgICBjb25zdCBpbWFnZV9mZWF0dXJlcyA9IEFycmF5LmlzQXJyYXkocmF3SW1hZ2VGZWF0dXJlcylcclxuICAgICAgPyByYXdJbWFnZUZlYXR1cmVzXHJcbiAgICAgIDogcmF3SW1hZ2VGZWF0dXJlc1xyXG4gICAgICAgID8gW3Jhd0ltYWdlRmVhdHVyZXNdXHJcbiAgICAgICAgOiBbXTtcclxuXHJcbiAgICBjb25zdCBpbWFnZV90aXRsZXMgPSBpbWFnZV9mZWF0dXJlc1xyXG4gICAgICAubWFwKChmKSA9PiBmPy50aXRsZT8udG9Mb3dlckNhc2UoKSB8fCBcIlwiKVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfZGVzY3JpcHRpb24gPSBpbWFnZV9mZWF0dXJlc1xyXG4gICAgICAubWFwKChmKSA9PiBmPy5mZWF0dXJlX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCIpXHJcbiAgICAgIC5qb2luKFwiIFwiKTtcclxuXHJcbiAgICBjb25zdCBzaG9ydCA9XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnNob3J0X2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgICBjb25zdCBtZWRpdW0gPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5tZWRpdW1fZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsID0gKFxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5oaWVyYXJjaGljYWxfZmVhdHVyZXNfaHRtbCB8fCBcIlwiXHJcbiAgICApXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csIFwiXCIpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIGNvbnN0IGFsbFRleHQgPSBbXHJcbiAgICAgIG1hcmtldF9mZWF0dXJlcyxcclxuICAgICAgaW1hZ2VfdGl0bGVzLFxyXG4gICAgICBpbWFnZV9kZXNjcmlwdGlvbixcclxuICAgICAgc2hvcnQsXHJcbiAgICAgIG1lZGl1bSxcclxuICAgICAgcGFyYWdyYXBoLFxyXG4gICAgICBoaWVyYXJjaGljYWwsXHJcbiAgICBdLmpvaW4oXCIgXCIpO1xyXG5cclxuICAgIGNvbnN0IGZlYXR1cmVzID0gW107XHJcblxyXG4gICAgY29uc3Qga2V5d29yZE1hcCA9IHtcclxuICAgICAgdHVybnRhYmxlOiAvXFxidHVybnRhYmxlcz9cXGIvLFxyXG4gICAgICBjbG9jazogL1xcYmNsb2NrXFxiLyxcclxuICAgICAgXCJpbmNsdWRlcyB0aW1lclwiOlxyXG4gICAgICAgIC9cXGIoaW5jbHVkZXM/fHdpdGh8Y29tZXMgd2l0aClcXGIuKlxcYnRpbWVyXFxifFxcYnRpbWVyXFxiLipcXGJpbmNsdWRlZFxcYi8sXHJcbiAgICAgIFwibGlnaHQgaW5jbHVkZWRcIjpcclxuICAgICAgICAvXFxibGlnaHQocyk/XFxiLipcXGIoaW5jbHVkZWR8aW5jbHVkZWQgd2l0aHx3aXRoIGxpZ2h0fGxpZ2h0aW5nIGluY2x1ZGVkKVxcYi8sXHJcbiAgICAgIFwidGl0bGUgMjAgY29tcGxpYW50XCI6IC9cXGJ0aXRsZVxccyoyMFxcYi4qXFxiY29tcGxpYW50XFxiLyxcclxuICAgICAgXCJlbmQgb2YgY3ljbGUgaW5kaWNhdG9yXCI6XHJcbiAgICAgICAgL1xcYihlbmR8Y29tcGxldGlvbilcXHMrb2ZcXHMrY3ljbGVcXGJ8XFxiY3ljbGVcXHMrKGNvbXBsZXRlfGRvbmV8ZmluaXNoZWR8aW5kaWNhdG9yKVxcYi8sXHJcbiAgICAgIFwic2Vuc29yIGNvb2tpbmdcIjogL1xcYnNlbnNvclxcYi4qXFxiY29vayhpbmcpP1xcYnxcXGJjb29rKGluZyk/XFxiLipcXGJzZW5zb3JcXGIvLFxyXG4gICAgICBcImF1dG8gc2h1dCBvZmZcIjpcclxuICAgICAgICAvXFxiYXV0byhtYXRpYyk/KGFsbHkpP1xcYi4qXFxic2h1dFxccypvZmZcXGJ8XFxic2h1dHM/XFxzKm9mZlxcYi4qXFxiYXV0b21hdGljYWxseVxcYi8sXHJcbiAgICAgIFwiYnVsYiBpbmNsdWRlZFwiOlxyXG4gICAgICAgIC9cXGJidWxicz9cXGIuKlxcYihpbmNsdWRlZHxpbmNsdWRlZCB3aXRoKVxcYnxcXGJpbmNsdWRlcz9cXHMrYnVsYnM/XFxiLyxcclxuICAgICAgY29udmVjdGlvbjogL1xcYmNvbnZlY3Rpb25cXGIvLFxyXG4gICAgICBcIndhcm0gZnVuY3Rpb25cIjpcclxuICAgICAgICAvXFxid2FybShpbmcpP1xcYi4qXFxiZnVuY3Rpb25cXGJ8XFxia2VlcChzKT9cXHMrKHdhcm18Zm9vZCB3YXJtKVxcYi8sXHJcbiAgICAgIFwiY29udmVydGlibGUgdG8gZHVjdGxlc3MgLyByZWNpcmN1bGF0aW5nXCI6XHJcbiAgICAgICAgL1xcYmNvbnZlcnRpYmxlXFxiLiooZHVjdGxlc3N8cmVjaXJjdWxhdGluZylcXGJ8XFxicmVjaXJjdWxhdGluZ1xccytvcHRpb25cXGIvLFxyXG4gICAgICBkdWN0bGVzczogL1xcYmR1Y3RsZXNzXFxiLyxcclxuICAgICAgXCJmcm9udCBsb2FkaW5nXCI6IC9cXGJmcm9udFstXFxzXSpsb2FkKGluZyk/XFxiLyxcclxuICAgICAgXCJyZWJhdGUgb2ZmZXJlZFwiOlxyXG4gICAgICAgIC9cXGJyZWJhdGUocyk/XFxiLiooYXZhaWxhYmxlfG9mZmVyZWR8aW5jbHVkZWQpXFxifFxcYnF1YWxpZmllcz9cXHMrZm9yXFxzK3JlYmF0ZVxcYi8sXHJcbiAgICAgIFwiZmluZ2VycHJpbnQgcmVzaXN0YW50XCI6IC9cXGJmaW5nZXJwcmludFstXFxzXSoocmVzaXN0YW50fHByb29mKVxcYi8sXHJcbiAgICAgIGFkYTogL1xcYkFEQVxcYnxcXGJhY2Nlc3NpYmxlXFxiLyxcclxuICAgICAgXCJiYWtpbmcgZWxlbWVudFwiOiAvXFxiYmFraW5nXFxiLipcXGJlbGVtZW50XFxifFxcYmJha2VcXGIuKlxcYmVsZW1lbnRcXGIvLFxyXG4gICAgICBcIm9wdGlvbmFsIHRyaW0ga2l0XCI6XHJcbiAgICAgICAgL1xcYnRyaW1cXHMqa2l0XFxiLioob3B0aW9uYWx8YXZhaWxhYmxlKVxcYnxcXGIob3B0aW9uYWwpP1xccyp0cmltXFxzKmtpdFxcYi8sXHJcbiAgICAgIFwic21hcnQgaG9tZVwiOlxyXG4gICAgICAgIC9cXGJzbWFydFxccysoaG9tZXxkZXZpY2V8dGVjaG5vbG9neSlcXGJ8XFxid2lbLVxcc10/ZmlcXGJ8XFxiY29ubmVjdChlZHxpdml0eSlcXGJ8XFxiYXBwXFxzKmNvbnRyb2xcXGIvLFxyXG4gICAgICBcImJyb2lsIGVsZW1lbnRcIjogL1xcYmJyb2lsKGluZyk/XFxiLipcXGJlbGVtZW50XFxiLyxcclxuICAgICAgXCJhaXIgZnJ5XCI6IC9cXGJhaXJbLVxcc10/ZnJ5KGluZyk/XFxiLyxcclxuICAgICAgXCJtYWRlIGluIGFtZXJpY2FcIjogL1xcYm1hZGUgaW4gKHRoZSApP3VzYVxcYnxcXGJtYWRlIGluIGFtZXJpY2FcXGIvaSxcclxuICAgICAgXCJzYWJiYXRoIG1vZGVcIjogL1xcYnNhYmJhdGhcXHMqbW9kZVxcYi8sXHJcbiAgICAgIFwiY29udGFpbnMgcGZhcyBjaGVtaWNhbHNcIjpcclxuICAgICAgICAvXFxiY29udGFpbnNcXGIuKlxcYnBmYXNcXGJ8XFxicGZhc1xccyooY2hlbWljYWxzPyk/XFxiLyxcclxuICAgICAgXCJjb3VudGVyIGRlcHRoXCI6IC9cXGJjb3VudGVyWy1cXHNdP2RlcHRoXFxiLyxcclxuICAgICAgXCJpbmNsdWRlcyB0aGVybW9zdGF0XCI6XHJcbiAgICAgICAgL1xcYihpbmNsdWRlcz98d2l0aHxjb21lcyB3aXRoKVxcYi4qXFxidGhlcm1vc3RhdFxcYnxcXGJ0aGVybW9zdGF0XFxiLiooaW5jbHVkZWR8YXZhaWxhYmxlKVxcYi8sXHJcbiAgICAgIFwic3RlYW0gY29va2luZ1wiOiAvXFxic3RlYW1cXGIuKlxcYmNvb2soaW5nKT9cXGIvLFxyXG4gICAgICBcImVuZXJneSBzdGFyXCI6IC9cXGJlbmVyZ3lbLVxcc10/c3RhclxcYi4qKGNvbXBsaWFudHxyYXRlZHxxdWFsaWZpZWQpP1xcYi8sXHJcbiAgICAgIFwicGFuZWwgcmVhZHlcIjogL1xcYnBhbmVsXFxzKnJlYWR5XFxiLyxcclxuICAgICAgXCJpbmNsdWRlcyBmcmVlemVyXCI6XHJcbiAgICAgICAgL1xcYmluY2x1ZGVzP1xcYi4qXFxiZnJlZXplclxcYnxcXGJmcmVlemVyXFxiLiooaW5jbHVkZWR8d2l0aClcXGIvLFxyXG4gICAgICBcImF1dG9tYXRpYyBkZWZyb3N0XCI6IC9cXGJhdXRvKG1hdGljKT9cXHMqZGVmcm9zdFxcYi8sXHJcbiAgICAgIFwiaW50ZXJpb3IgbGlnaHRcIjogL1xcYmludGVyaW9yXFxiLipcXGJsaWdodChzKT9cXGIvLFxyXG4gICAgICBcImFkanVzdGFibGUgc2hlbHZlc1wiOlxyXG4gICAgICAgIC9cXGJhZGp1c3RhYmxlXFxiLipcXGJzaGVsdmVzXFxifFxcYnNoZWx2ZXNcXGIuKlxcYmFkanVzdGFibGVcXGIvLFxyXG4gICAgICBcImFwcHJvdmVkIGZvciBjb21tZXJjaWFsIHVzZVwiOlxyXG4gICAgICAgIC9cXGJjb21tZXJjaWFsXFxzK3VzZVxcYnxcXGJuc2ZbLVxcc10/Y2VydGlmaWVkXFxiLyxcclxuICAgICAgXCJsZXZlbGluZyBsZWdzXCI6IC9cXGJsZXZlbChpbmcpP1xccytsZWdzXFxiLyxcclxuICAgICAgXCJuaWdodCBsaWdodFwiOiAvXFxibmlnaHRbLVxcc10qbGlnaHRcXGIvLFxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtsYWJlbCwgcmVnZXhdIG9mIE9iamVjdC5lbnRyaWVzKGtleXdvcmRNYXApKSB7XHJcbiAgICAgIGlmIChyZWdleC50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID4gMCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBNaWNyb1Byb2R1Y3RUeXBlOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgY29kZSA9IHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2NvZGU/LnRvVXBwZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQocHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8uaGVpZ2h0KTtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yRGVzID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuXHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtzaG9ydCwgbWVkaXVtLCBwYXJhZ3JhcGhdLmpvaW4oJycpO1xyXG5cclxuICAgIGlmIChjb2RlID09PSBcIkhBTE9HTlwiKSByZXR1cm4gXCJoYWxvZ2VuIGxpZ2h0XCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJNSUNCSVwiKSByZXR1cm4gXCJidWlsdCBpbiBtaWNyb3dhdmVcIjtcclxuICAgIGlmIChjb2RlID09PSBcIk1JQ09SXCIpIHJldHVybiBcIm92ZXIgdGhlIHJhbmdlIG1pY29yd2F2ZVwiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiTUlDQ09cIikgcmV0dXJuIFwiY291bnRlcnRvcFwiO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIE1pY3Jvd2F2ZVdpZHRoOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmF3ID0gZXh0cmFjdFdpZHRoSW5JbmNoZXMocHJvZHVjdCk7XHJcbiAgICBpZiAocmF3ID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGDwn5OPIEZpbmFsIHJhdyB3aWR0aCBmb3IgTUlDUk9XQVZFIHByb2R1Y3Q6ICR7cmF3fVwiYCk7XHJcblxyXG4gICAgaWYgKHJhdyA8IDE5KSByZXR1cm4gJzIwXCIgb3IgTGVzcyc7XHJcbiAgICBpZiAocmF3ID49IDIwICYmIHJhdyA8PSAyMikgcmV0dXJuICcyMVwiJztcclxuICAgIGlmIChyYXcgPj0gMjMgJiYgcmF3IDw9IDI1KSByZXR1cm4gJzI0XCInO1xyXG4gICAgaWYgKHJhdyA+PSAyNiAmJiByYXcgPD0gMjgpIHJldHVybiAnMjdcIic7XHJcbiAgICBpZiAocmF3ID49IDI5ICYmIHJhdyA8PSAzMSkgcmV0dXJuICczMFwiJztcclxuXHJcbiAgICByZXR1cm4gbnVsbDsgLy8gZmFsbGJhY2tcclxuICB9LFxyXG5cclxuICBPdmVuRmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBtYXJrZXRfZmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5mZWF0dXJlcz8uZmVhdHVyZT8uam9pbignICcpLnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBpbWFnZV9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmltYWdlX2ZlYXR1cmVzPy5pbWFnZV9mZWF0dXJlIHx8IFtdO1xyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8udGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgJycpLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IGltYWdlX2Rlc2NyaXB0aW9uID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8uZmVhdHVyZV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJykuam9pbignICcpO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IChwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5oaWVyYXJjaGljYWxfZmVhdHVyZXNfaHRtbCB8fCAnJylcclxuICAgICAgLnJlcGxhY2UoLzxbXj5dKj4vZywgJycpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIGNvbnN0IGFsbFRleHQgPSBbXHJcbiAgICAgIG1hcmtldF9mZWF0dXJlcyxcclxuICAgICAgaW1hZ2VfdGl0bGVzLFxyXG4gICAgICBpbWFnZV9kZXNjcmlwdGlvbixcclxuICAgICAgc2hvcnQsXHJcbiAgICAgIG1lZGl1bSxcclxuICAgICAgcGFyYWdyYXBoLFxyXG4gICAgICBoaWVyYXJjaGljYWxcclxuICAgIF0uam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IGZlYXR1cmVzID0gW107XHJcblxyXG4gICAgY29uc3Qga2V5d29yZE1hcCA9IHtcclxuICAgICAgXCJjb252ZWN0aW9uXCI6IC9cXGJjb252ZWN0aW9uXFxiLyxcclxuICAgICAgXCJicm9pbCBlbGVtZW50XCI6IC9cXGJicm9pbChpbmcpP1xcYi4qXFxiZWxlbWVudFxcYnxcXGJlbGVtZW50XFxiLipcXGJicm9pbChpbmcpP1xcYi8sXHJcbiAgICAgIFwiY2xvY2tcIjogL1xcYmNsb2NrXFxiLyxcclxuICAgICAgXCJiYWtpbmcgZWxlbWVudFwiOiAvXFxiYmFrKGV8aW5nKVxcYi4qXFxiZWxlbWVudFxcYnxcXGJiYWtlXFxiLipcXGJlbGVtZW50XFxiLyxcclxuICAgICAgXCJzZWxmIGNsZWFuaW5nXCI6IC9cXGJzZWxmWy1cXHNdP2NsZWFuKGluZyk/XFxifFxcYmF1dG9bLVxcc10/Y2xlYW5cXGJ8XFxiYXV0b21hdGljKGFsbHkpP1xccypjbGVhblxcYnxcXGJjbGVhbnMgaXRzZWxmXFxiLyxcclxuICAgICAgXCJzYWJiYXRoIG1vZGVcIjogL1xcYnNhYmJhdGhcXHMrbW9kZVxcYi9pLFxyXG4gICAgICBcImluY2x1ZGVzIHRpbWVyXCI6IC9cXGIoaW5jbHVkZXM/fHdpdGh8aGFzKVxcYi4qXFxidGltZXJcXGJ8XFxidGltZXJcXGIuKlxcYihpbmNsdWRlZHxwcm92aWRlZHxhdmFpbGFibGUpXFxiLyxcclxuICAgICAgXCJpbnRlcmlvciBsaWdodFwiOiAvXFxiaW50ZXJpb3JcXGIuKlxcYmxpZ2h0KHMpP1xcYnxcXGJsaWdodChzKT9cXGIuKlxcYmludGVyaW9yXFxiLyxcclxuICAgICAgXCJsaWdodCBpbmNsdWRlZFwiOiAvXFxibGlnaHQocyk/XFxiLipcXGIoaW5jbHVkZWR8cHJvdmlkZWR8YnVpbHQtaW58aW5jbHVkZWQgd2l0aClcXGIvLFxyXG4gICAgICBcInNtYXJ0IGhvbWVcIjogL1xcYnNtYXJ0XFxiLipcXGIoaG9tZXxkZXZpY2V8Y29ubmVjdGVkfHRlY2h8dGVjaG5vbG9neSlcXGJ8XFxid2lbLVxcc10/ZmlcXGJ8XFxiYXBwXFxzKmVuYWJsZWRcXGIvLFxyXG4gICAgICBcImFpciBmcnlcIjogL1xcYmFpclxccypmcnkoaW5nKT9cXGIvaSxcclxuICAgICAgXCJ3YXJtIGZ1bmN0aW9uXCI6IC9cXGJ3YXJtXFxiLipcXGJmdW5jdGlvblxcYnxcXGJrZWVwIHdhcm1cXGJ8XFxid2FybWluZ1xcYi8sXHJcbiAgICAgIFwibWVhdCB0aGVybW9tZXRlclwiOiAvXFxibWVhdFxcYi4qXFxidGhlcm1vbWV0ZXJcXGJ8XFxiaW50ZXJuYWxcXHMrcHJvYmVcXGIvLFxyXG4gICAgICBcInJlYmF0ZSBvZmZlcmVkXCI6IC9cXGJyZWJhdGVcXGIuKihvZmZlcmVkfGF2YWlsYWJsZXxlbGlnaWJsZXxxdWFsaWYoeXxpZXN8aWNhdGlvbikpXFxiLyxcclxuICAgICAgXCJhdXRvIHNodXQgb2ZmXCI6IC9cXGJhdXRvKG1hdGljKT8oYWxseSk/XFxiLipcXGJzaHV0XFxzKm9mZlxcYnxcXGJzaHV0cyBvZmYgYXV0b21hdGljYWxseVxcYi8sXHJcbiAgICAgIFwic2Vuc29yIGNvb2tpbmdcIjogL1xcYnNlbnNvclxcYi4qXFxiY29vayhpbmcpP1xcYnxcXGJjb29rKGluZyk/XFxiLipcXGJzZW5zb3JcXGIvLFxyXG4gICAgICBcImFkYVwiOiAvXFxiQURBXFxiLyxcclxuICAgICAgXCJtYWRlIGluIGFtZXJpY2FcIjogL1xcYm1hZGVcXHMraW5cXHMrKHVzYXxhbWVyaWNhfHVuaXRlZCBzdGF0ZXMpXFxiL2ksXHJcbiAgICAgIFwiY29tYmluYXRpb24gb3ZlblwiOiAvXFxiKGNvbWJpbmF0aW9ufGNvbWJvfG11bHRpWy1cXHNdP2Z1bmN0aW9uKVxcYi4qXFxib3ZlblxcYi8sXHJcbiAgICAgIFwidGl0bGUgMjAgY29tcGxpYW50XCI6IC9cXGJ0aXRsZVxccyoyMFxcYi4qKGNvbXBsaWFudHxjZXJ0aWZpZWR8YXBwcm92ZWQpP1xcYi8sXHJcbiAgICAgIFwic3RlYW0gY29va2luZ1wiOiAvXFxic3RlYW1cXGIuKlxcYmNvb2soaW5nKT9cXGIvLFxyXG4gICAgICBcImZpbmdlcnByaW50IHJlc2lzdGFudFwiOiAvXFxiZmluZ2VycHJpbnRcXGIuKlxcYnJlc2lzdGFudFxcYi8sXHJcbiAgICAgIFwiaHVtaWRpdHkgY29udHJvbFwiOiAvXFxiaHVtaWRpdHlcXGIuKlxcYmNvbnRyb2xcXGIvLFxyXG4gICAgICBcImZyb250IGxvYWRpbmdcIjogL1xcYmZyb250Wy1cXHNdKmxvYWRpbmdcXGIvLFxyXG4gICAgICBcImFwcHJvdmVkIGZvciBjb21tZXJjaWFsIHVzZVwiOiAvXFxiY29tbWVyY2lhbFxccyoodXNlfGFwcHJvdmVkfGNlcnRpZmllZClcXGJ8XFxibnNmWy1cXHNdP2NlcnRpZmllZFxcYi8sXHJcbiAgICAgIFwiY29udGFpbnMgcGZhcyBjaGVtaWNhbHNcIjogL1xcYnBmYXNcXGJ8XFxiY29udGFpbnNcXGIuKlxcYnBmYXNcXGIvaSxcclxuICAgICAgXCJscCBjb252ZXJzaW9uXCI6IC9cXGJscFxccyooY29udmVyc2lvbnxraXQpP1xcYnxcXGJjb252ZXJ0KGVkKT9cXHMqKHRvfGZvcik/XFxzKmxwXFxiL2ksXHJcbiAgICAgIFwidHVybnRhYmxlXCI6IC9cXGJ0dXJudGFibGVzP1xcYi8sXHJcbiAgICAgIFwic3RlYW0gdGVjaG5vbG9neVwiOiAvXFxic3RlYW1cXGIuKlxcYnRlY2hub2xvZ3lcXGIvLFxyXG4gICAgICBcImJ1bGIgaW5jbHVkZWRcIjogL1xcYmJ1bGIocyk/XFxiLipcXGJpbmNsdWRlZFxcYi8sXHJcbiAgICAgIFwiZG9vciB2aWV3ZXJcIjogL1xcYmRvb3JcXGIuKlxcYnZpZXdlclxcYi8sXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmb3IgKGNvbnN0IFtsYWJlbCwgcmVnZXhdIG9mIE9iamVjdC5lbnRyaWVzKGtleXdvcmRNYXApKSB7XHJcbiAgICAgIGlmIChyZWdleC50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID4gMCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBPdmVuV2lkdGg6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCByYXcgPSBleHRyYWN0V2lkdGhJbkluY2hlcyhwcm9kdWN0KTtcclxuICAgIGlmIChyYXcgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coYPCfk48gRmluYWwgcmF3IHdpZHRoIGZvciBPVkVOIHByb2R1Y3Q6ICR7cmF3fVwiYCk7XHJcblxyXG4gICAgaWYgKHJhdyA8PSAyMikgcmV0dXJuICcyM1wiIGFuZCBMZXNzJztcclxuICAgIGlmIChyYXcgPj0gMjMgJiYgcmF3IDwgMjcpIHJldHVybiAnMjRcIic7XHJcbiAgICBpZiAocmF3ID49IDI3ICYmIHJhdyA8IDMzKSByZXR1cm4gJzMwXCInO1xyXG4gICAgaWYgKHJhdyA+PSAzMyAmJiByYXcgPCAzOCkgcmV0dXJuICczNlwiJztcclxuICAgIGlmIChyYXcgPj0gMzkpIHJldHVybiAnMzdcIiBhbmQgYWJvdmUnO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIENvb2t0b3BXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhg8J+TjyBGaW5hbCByYXcgd2lkdGggZm9yIENPT0tUT1AgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3IDw9IDIyKSByZXR1cm4gJzIzXCIgYW5kIExlc3MnO1xyXG4gICAgaWYgKHJhdyA+PSAyMyAmJiByYXcgPCAyNykgcmV0dXJuICcyNFwiJztcclxuICAgIGlmIChyYXcgPj0gMjcgJiYgcmF3IDwgMzMpIHJldHVybiAnMzBcIic7XHJcbiAgICBpZiAocmF3ID49IDMzICYmIHJhdyA8IDM5KSByZXR1cm4gJzM2XCInO1xyXG4gICAgaWYgKHJhdyA+PSAzOSAmJiByYXcgPCA0NSkgcmV0dXJuICc0MlwiJztcclxuICAgIGlmIChyYXcgPj0gNDUgJiYgcmF3IDwgNTQpIHJldHVybiAnNDhcIic7XHJcbiAgICBpZiAocmF3ID49IDU0ICYmIHJhdyA8IDYxKSByZXR1cm4gJzYwXCInO1xyXG4gICAgaWYgKHJhdyA+PSA2MSkgcmV0dXJuICc2MVwiIGFuZCBhYm92ZSc7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgT3ZlblByb2R1Y3RUeXBlOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZT8uKCkgfHwgJyc7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yRGVzID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW3Nob3J0LCBtZWRpdW0sIHBhcmFncmFwaCwgbWlub3JEZXNdLmpvaW4oJyAnKTtcclxuXHJcbiAgICBpZiAoL1xcYmRvdWJsZVxcYi8udGVzdChhbGxUZXh0KSkgcmV0dXJuICdkb3VibGUnO1xyXG4gICAgaWYgKC9cXGJzaW5nbGVcXGIvLnRlc3QoYWxsVGV4dCkpIHJldHVybiAnc2luZ2xlJztcclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG5cclxuICBDb29rdG9wRnVlbFR5cGU6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBjb2RlID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfY29kZT8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5oZWlnaHQpO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yRGVzID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBjb2xvcl9jb2RlID0gKHByb2R1Y3QuY2xhc3NpZmljYXRpb24/LmNvbG9yX2NvZGVfZGVzY3JpcHRpb24gfHwgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW3Nob3J0LCBtZWRpdW0sIHBhcmFncmFwaCwgbWlub3JEZXNdLmpvaW4oJyAnKTtcclxuXHJcbiAgICBjb25zdCB0eXBlcyA9IFtdO1xyXG5cclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKCdpbmR1Y3Rpb24nKSkgdHlwZXMucHVzaCgnaW5kdWN0aW9uJyk7XHJcbiAgICBpZiAoY29kZS5pbmNsdWRlcygnRVJTVVJGJykpIHR5cGVzLnB1c2goJ2VsZWN0cmljJyk7XHJcbiAgICBpZiAoY29kZS5pbmNsdWRlcygnR1JTVVJGJykpIHR5cGVzLnB1c2goJ2dhcycpO1xyXG5cclxuICAgIHJldHVybiB0eXBlcy5sZW5ndGggPyB0eXBlcyA6IG51bGw7XHJcblxyXG4gIH0sXHJcblxyXG4gIENvb2t0b3BQcm9kdWN0VHlwZTogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWlub3JEZXMgPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5taW5vcl9jbGFzc19kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG5cclxuICAgIGNvbnN0IGFsbFRleHQgPSBbc2hvcnQsIG1lZGl1bSwgcGFyYWdyYXBoLCBtaW5vckRlc10uam9pbignICcpO1xyXG5cclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKCdyYW5nZXRvcCcpIHx8IGFsbFRleHQuaW5jbHVkZXMoJ3JhbmdlIHRvcCcpIHx8IGFsbFRleHQuaW5jbHVkZXMoJ3JhbmdlLXRvcCcpKSByZXR1cm4gJ3JhbmdldG9wJztcclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKCdjb29rdG9wJykgfHwgYWxsVGV4dC5pbmNsdWRlcygnY29vayB0b3AnKSB8fCBhbGxUZXh0LmluY2x1ZGVzKCdjb29rLXRvcCcpKSByZXR1cm4gJ2Nvb2t0b3AnO1xyXG5cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG5cclxuICBDb29rdG9wRmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBtYXJrZXRpbmdDb3B5ID0gSlNPTi5zdHJpbmdpZnkocHJvZHVjdC5tYXJrZXRpbmdfY29weSB8fCB7fSkudG9Mb3dlckNhc2UoKTtcclxuICAgIGNvbnN0IGNsYXNzaWZpY2F0aW9ucyA9IEpTT04uc3RyaW5naWZ5KHByb2R1Y3QuY2xhc3NpZmljYXRpb24gfHwge30pLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dFJhdyA9IFttYXJrZXRpbmdDb3B5LCBjbGFzc2lmaWNhdGlvbnNdLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRUZXh0ID0gYWxsVGV4dFJhdy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJyAnKTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xyXG5cclxuICAgIGNvbnN0IG1hdGNoRmVhdHVyZSA9IChyZWdleCwgbGFiZWwpID0+IHtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3Qobm9ybWFsaXplZFRleHQpKSBmZWF0dXJlcy5wdXNoKGxhYmVsKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8g8J+UpSBCdXJuZXIgY291bnQgKHRleHQtYmFzZWQpXHJcbiAgICBtYXRjaEZlYXR1cmUoL1xcKDRcXClbXlxcZF0/LywgJzQgYnVybmVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL1xcKDVcXClbXlxcZF0/LywgJzUgYnVybmVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL1xcKDZcXClbXlxcZF0/LywgJzYgYnVybmVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL1xcKDhcXClbXlxcZF0/LywgJzggYnVybmVyJyk7XHJcblxyXG4gICAgbWF0Y2hGZWF0dXJlKC80W1xccy1dPyhidXJuZXJzP3xidHUpLywgJzQgYnVybmVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoLzVbXFxzLV0/KGJ1cm5lcnM/fGJ0dSkvLCAnNSBidXJuZXInKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvNltcXHMtXT8oYnVybmVycz98YnR1KS8sICc2IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC84W1xccy1dPyhidXJuZXJzP3xidHUpLywgJzggYnVybmVyJyk7XHJcblxyXG4gICAgbWF0Y2hGZWF0dXJlKC80W1xccy1dP2J1cm5lci8sICc0IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC81W1xccy1dP2J1cm5lci8sICc1IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC82W1xccy1dP2J1cm5lci8sICc2IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC84W1xccy1dP2J1cm5lci8sICc4IGJ1cm5lcicpO1xyXG5cclxuICAgIC8vIPCflI0gQnVybmVyIGNvdW50IGZyb20gc3BlYyB0YWJsZSBrZXktdmFsdWUgcGFpcnNcclxuICAgIGNvbnN0IHNwZWNUYWJsZSA9XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzIHx8XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnNwZWNfdGFibGVfaHRtbD8uc3BlY190YWJsZV9hc19rZXlfdmFsdWVfcGFpcnMgfHxcclxuICAgICAgW107XHJcblxyXG4gICAgc3BlY1RhYmxlLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuICAgICAgKHNlY3Rpb24/LmtleV92YWx1ZV9wYWlycyB8fCBbXSkuZm9yRWFjaCgocGFpcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5Py50b0xvd2VyQ2FzZT8uKCkgfHwgJyc7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyLnZhbHVlPy50b0xvd2VyQ2FzZT8uKCkgfHwgJyc7XHJcbiAgICAgICAgaWYgKGtleS5pbmNsdWRlcygnYnVybmVyJykpIHtcclxuICAgICAgICAgIGNvbnN0IG1hdGNoID0gdmFsdWUubWF0Y2goL1xcKChcXGQrKVxcKS8pO1xyXG4gICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgIGZlYXR1cmVzLnB1c2goYCR7bWF0Y2hbMV19IGJ1cm5lcmApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDwn5SBIENvb2t0b3Atc3BlY2lmaWMgLyBzaGFyZWQgcmFuZ2UgZmVhdHVyZXNcclxuICAgIG1hdGNoRmVhdHVyZSgvZ3JpZGRsZS8sICdncmlkZGxlJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2NoYXJicm9pbGVyLywgJ2NoYXJicm9pbGVyIG9wdGlvbnMnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvZnJlbmNoW1xccy1dP3RvcC8sICdmcmVuY2ggdG9wJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3dpZml8d2lbXFxzLV0/Zml8c21hcnR0aGluZ3MvLCAnV2lmaSBDYXBhYmxlJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3NlbGZbXFxzLV0/Y2xlYW4oaW5nKT8vLCAnU2VsZiBDbGVhbmluZycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9zYWJiYXRoLywgJ1NhYmJhdGggTW9kZScpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9scCBjb252ZXJzaW9uLywgJ0xQIENvbnZlcnNpb24nKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvbGV2ZWxpbmcgbGVncz8vLCAnTGV2ZWxpbmcgTGVncycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9ob3Qgc3VyZmFjZS8sICdIb3QgU3VyZmFjZSBJbmRpY2F0b3IgTGlnaHRzJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3RpdGxlIDIwLywgJ1RpdGxlIDIwIENvbXBsaWFudCcpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9zbWFydCBob21lLywgJ1NtYXJ0IEhvbWUnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvZmluZ2VycHJpbnQgcmVzaXN0YW50LywgJ0ZpbmdlcnByaW50IFJlc2lzdGFudCcpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9wZmFzLywgJ0NvbnRhaW5zIFBGQVMgQ2hlbWljYWxzJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2VuZXJneSBzdGFyLywgJ0VuZXJneSBTdGFyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2NvbW1lcmNpYWwgdXNlLywgJ0FwcHJvdmVkIGZvciBDb21tZXJjaWFsIFVzZScpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9kb3duZHJhZnQvLCAnRG93bmRyYWZ0IFZlbnRpbGF0ZWQnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvYWRqdXN0YWJsZSBsZWdzLywgJ0FkanVzdGFibGUgTGVncycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9mcm9udCBsb2FkaW5nLywgJ0Zyb250IExvYWRpbmcnKTtcclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID4gMCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBCYnFGZWF0dXJlczogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IG1hcmtldF9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmZlYXR1cmVzPy5mZWF0dXJlPy5qb2luKCcgJykudG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IGltYWdlX2ZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaW1hZ2VfZmVhdHVyZXM/LmltYWdlX2ZlYXR1cmUgfHwgW107XHJcbiAgICBjb25zdCBpbWFnZV90aXRsZXMgPSBpbWFnZV9mZWF0dXJlcy5tYXAoZiA9PiBmPy50aXRsZT8udG9Mb3dlckNhc2UoKSB8fCAnJykuam9pbignICcpO1xyXG4gICAgY29uc3QgaW1hZ2VfZGVzY3JpcHRpb24gPSBpbWFnZV9mZWF0dXJlcy5tYXAoZiA9PiBmPy5mZWF0dXJlX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnKS5qb2luKCcgJyk7XHJcbiAgICBjb25zdCBzaG9ydCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnNob3J0X2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgcGFyYWdyYXBoID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ucGFyYWdyYXBoX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsID0gKHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmhpZXJhcmNoaWNhbF9mZWF0dXJlc19odG1sIHx8ICcnKVxyXG4gICAgICAucmVwbGFjZSgvPFtePl0qPi9nLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtcclxuICAgICAgbWFya2V0X2ZlYXR1cmVzLFxyXG4gICAgICBpbWFnZV90aXRsZXMsXHJcbiAgICAgIGltYWdlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBzaG9ydCxcclxuICAgICAgbWVkaXVtLFxyXG4gICAgICBwYXJhZ3JhcGgsXHJcbiAgICAgIGhpZXJhcmNoaWNhbFxyXG4gICAgXS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBrZXl3b3JkTWFwID0ge1xyXG4gICAgICBcIm91dGRvb3IgYXBwcm92ZWRcIjogL1xcYm91dGRvb3JcXGIuKlxcYmFwcHJvdmVkXFxifFxcYmFwcHJvdmVkXFxzKmZvclxccypvdXRkb29yXFxiL2ksXHJcbiAgICAgIFwibGlnaHQgaW5jbHVkZWRcIjogL1xcYmxpZ2h0KHMpP1xcYi4qXFxiKGluY2x1ZGVkfHByb3ZpZGVkfGJ1aWx0LWlufHdpdGggbGlnaHQpXFxiL2ksXHJcbiAgICAgIFwicm90aXNzZXJpZVwiOiAvXFxicm90aXNzZXIoaWV8eSlcXGIvaSxcclxuICAgICAgXCJtYWRlIGluIGFtZXJpY2FcIjogL1xcYm1hZGVcXHMraW5cXHMrKHVzYXxhbWVyaWNhfHVuaXRlZCBzdGF0ZXMpXFxiL2ksXHJcbiAgICAgIFwiaW5jbHVkZXMgdGhlcm1vc3RhdFwiOiAvXFxiKGluY2x1ZGVzP3x3aXRoKVxcYi4qXFxidGhlcm1vc3RhdFxcYnxcXGJ0aGVybW9zdGF0XFxiLipcXGIoaW5jbHVkZWR8cHJvdmlkZWR8YnVpbHQtaW4pP1xcYi9pLFxyXG4gICAgICBcInJ1c3QgcmVzaXN0YW50XCI6IC9cXGJydXN0XFxiLipcXGJyZXNpc3QoYW50fGFuY2UpXFxiL2ksXHJcbiAgICAgIFwid2l0aCBjYXN0ZXJzXCI6IC9cXGJjYXN0ZXJzP1xcYnxcXGJ3aXRoXFxzK2Nhc3RlcnNcXGIvaSxcclxuICAgICAgXCJhc3NlbWJseSByZXF1aXJlZFwiOiAvXFxiYXNzZW1ibHlcXHMrKHJlcXVpcmVkfG5lZWRlZHxuZWNlc3NhcnkpXFxiL2ksXHJcbiAgICAgIFwibHAgY29udmVyc2lvblwiOiAvXFxibHBcXHMqKGNvbnZlcnNpb258a2l0KT9cXGJ8XFxiY29udmVydChlZCk/XFxzKih0b3xmb3IpP1xccypscFxcYi9pLFxyXG4gICAgICBcInJlYmF0ZSBvZmZlcmVkXCI6IC9cXGJyZWJhdGVcXGIuKihvZmZlcmVkfGF2YWlsYWJsZXxlbGlnaWJsZXxxdWFsaWYoeXxpZXN8aWNhdGlvbikpXFxiL2ksXHJcbiAgICAgIFwib3ZlcmhlYXQgcHJvdGVjdGlvblwiOiAvXFxib3ZlcmhlYXRcXGIuKlxcYnByb3RlY3Rpb25cXGJ8XFxicHJvdGVjdGlvblxcYi4qXFxib3ZlcmhlYXRcXGIvaSxcclxuICAgICAgXCJhZGFcIjogL1xcYkFEQVxcYi9pLFxyXG4gICAgICBcImFwcHJvdmVkIGZvciBjb21tZXJjaWFsIHVzZVwiOiAvXFxiY29tbWVyY2lhbFxccyoodXNlfGFwcHJvdmVkfGNlcnRpZmllZClcXGJ8XFxibnNmWy1cXHNdP2NlcnRpZmllZFxcYi9pLFxyXG4gICAgICBcImVuZXJneSBzdGFyXCI6IC9cXGJlbmVyZ3lcXHMqc3RhclxcYnxcXGJFTkVSR1lcXHMqU1RBUlxccypxdWFsaWZpZWRcXGIvaSxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChjb25zdCBbbGFiZWwsIHJlZ2V4XSBvZiBPYmplY3QuZW50cmllcyhrZXl3b3JkTWFwKSkge1xyXG4gICAgICBpZiAocmVnZXgudGVzdChhbGxUZXh0KSkge1xyXG4gICAgICAgIGZlYXR1cmVzLnB1c2gobGFiZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZlYXR1cmVzLmxlbmd0aCA+IDAgPyBmZWF0dXJlcyA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgQkJRUHJvZHVjdFR5cGU6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBtaW5vcl9jb2RlID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfY29kZT8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgYnJhbmRDb2RlID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8uYnJhbmRfY29kZT8udG9VcHBlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IGFsbFRleHQgPSBbc2hvcnQsIG1lZGl1bSwgcGFyYWdyYXBoXS5qb2luKCcnKTtcclxuXHJcbiAgICBjb25zdCB0eXBlcyA9IFtdO1xyXG4gICAgaWYgKG1pbm9yX2NvZGUuaW5jbHVkZXMoJ0JCUVBSTycpKSB0eXBlcy5wdXNoKCdwcm8gc3R5bGUnKTtcclxuICAgIGlmIChtaW5vcl9jb2RlLmluY2x1ZGVzKCdCQlFQTCcpKSB0eXBlcy5wdXNoKCdwZWxsZXQgYmJxJyk7XHJcbiAgICBpZiAobWlub3JfY29kZS5pbmNsdWRlcygnQkJRQ0gnKSkgdHlwZXMucHVzaCgnY2hhcmNvYWwgYmJxJyk7XHJcblxyXG4gICAgY29uc3Qgc2lkZUJ1cm5lclJlZ2V4ID0gL1xcYnNpZGVbLVxcc10/YnVybmVyKHMpP1xcYi9pO1xyXG4gICAgY29uc3QgZXhjbHVzaW9uUmVnZXggPSAvXFxiKG9wdGlvbmFsfGluY2x1ZGVzP3x3aXRofGZlYXR1cmluZylcXGIuezAsMzB9c2lkZVstXFxzXT9idXJuZXIocyk/XFxiL2k7XHJcblxyXG4gICAgaWYgKHNpZGVCdXJuZXJSZWdleC50ZXN0KGFsbFRleHQpICYmXHJcbiAgICAgICFleGNsdXNpb25SZWdleC50ZXN0KGFsbFRleHQpICYmXHJcbiAgICAgIGJyYW5kQ29kZSAhPT0gJ0JST0lMS0lORycpIHtcclxuICAgICAgdHlwZXMucHVzaCgnc2lkZSBidXJuZXJzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHR5cGVzLmxlbmd0aCA/IHR5cGVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBCYnFXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhg8J+TjyBGaW5hbCByYXcgd2lkdGggZm9yIEJCUSBwcm9kdWN0OiAke3Jhd31cImApO1xyXG5cclxuICAgIGlmIChyYXcgPD0gMjIpIHJldHVybiAnMjNcIiBhbmQgTGVzcyc7XHJcbiAgICBpZiAocmF3ID49IDIzICYmIHJhdyA8IDI3KSByZXR1cm4gJzI0XCInO1xyXG4gICAgaWYgKHJhdyA+PSAyNyAmJiByYXcgPCAzMykgcmV0dXJuICczMFwiJztcclxuICAgIGlmIChyYXcgPj0gMzMgJiYgcmF3IDwgMzkpIHJldHVybiAnMzZcIic7XHJcbiAgICBpZiAocmF3ID49IDM5ICYmIHJhdyA8IDQ1KSByZXR1cm4gJzQyXCInO1xyXG4gICAgaWYgKHJhdyA+PSA0NSAmJiByYXcgPCA1MCkgcmV0dXJuICc0OFwiJztcclxuICAgIGlmIChyYXcgPj0gNTEgJiYgcmF3IDwgNTMpIHJldHVybiAnNTJcIic7XHJcbiAgICBpZiAocmF3ID49IDU0ICYmIHJhdyA8IDU4KSByZXR1cm4gJzU2XCInO1xyXG4gICAgaWYgKHJhdyA+PSA1OSAmJiByYXcgPCA2MSkgcmV0dXJuICc2MFwiJztcclxuICAgIGlmIChyYXcgPj0gNjEpIHJldHVybiAnNjFcIiBhbmQgYWJvdmUnO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIENvZmZlZUZlYXR1cmVzOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgbWFya2V0X2ZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uZmVhdHVyZXM/LmZlYXR1cmU/LmpvaW4oJyAnKS50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgaW1hZ2VfZmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5pbWFnZV9mZWF0dXJlcz8uaW1hZ2VfZmVhdHVyZSB8fCBbXTtcclxuICAgIGNvbnN0IGltYWdlX3RpdGxlcyA9IGltYWdlX2ZlYXR1cmVzLm1hcChmID0+IGY/LnRpdGxlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKS5qb2luKCcgJyk7XHJcbiAgICBjb25zdCBpbWFnZV9kZXNjcmlwdGlvbiA9IGltYWdlX2ZlYXR1cmVzLm1hcChmID0+IGY/LmZlYXR1cmVfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJycpLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBtZWRpdW0gPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5tZWRpdW1fZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBoaWVyYXJjaGljYWwgPSAocHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgJycpXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW1xyXG4gICAgICBtYXJrZXRfZmVhdHVyZXMsXHJcbiAgICAgIGltYWdlX3RpdGxlcyxcclxuICAgICAgaW1hZ2VfZGVzY3JpcHRpb24sXHJcbiAgICAgIHNob3J0LFxyXG4gICAgICBtZWRpdW0sXHJcbiAgICAgIHBhcmFncmFwaCxcclxuICAgICAgaGllcmFyY2hpY2FsXHJcbiAgICBdLmpvaW4oJyAnKTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGtleXdvcmRNYXAgPSB7XHJcbiAgICAgIFwicHJvZ3JhbW1hYmxlXCI6IC9cXGJwcm9ncmFtbWFibGVcXGJ8XFxicHJvZ3JhbVxccysoc2V0dGluZ3N8Y29udHJvbHxvcHRpb25zKVxcYi9pLFxyXG4gICAgICBcImluY2x1ZGVzIGdyaW5kZXJcIjogL1xcYihpbmNsdWRlcz98d2l0aHxoYXMpXFxiLipcXGJncmluZGVyXFxifFxcYmdyaW5kZXJcXGIuKlxcYihpbmNsdWRlZHxidWlsdFstXFxzXT9pbnxwcm92aWRlZClcXGIvaSxcclxuICAgICAgXCJhdXRvIHNodXQgb2ZmXCI6IC9cXGJhdXRvKG1hdGljKT8oYWxseSk/XFxiLipcXGJzaHV0XFxzKm9mZlxcYnxcXGJzaHV0cyBvZmYgYXV0b21hdGljYWxseVxcYi9pLFxyXG4gICAgICBcInJlYmF0ZSBvZmZlcmVkXCI6IC9cXGJyZWJhdGVcXGIuKihvZmZlcmVkfGF2YWlsYWJsZXxlbGlnaWJsZXxxdWFsaWYoeXxpZXN8aWNhdGlvbikpXFxiL2ksXHJcbiAgICAgIFwid2F0ZXIgZmlsdHJhdGlvblwiOiAvXFxid2F0ZXJcXGIuKlxcYmZpbHRyYXRpb25cXGJ8XFxiZmlsdHJhdGlvblxcYi4qXFxid2F0ZXJcXGIvaSxcclxuICAgICAgXCJhZGFcIjogL1xcYkFEQVxcYi9pLFxyXG4gICAgICBcImFwcHJvdmVkIGZvciBjb21tZXJjaWFsIHVzZVwiOiAvXFxiY29tbWVyY2lhbFxccyoodXNlfGFwcHJvdmVkfGNlcnRpZmllZClcXGJ8XFxibnNmWy1cXHNdP2NlcnRpZmllZFxcYi9pLFxyXG4gICAgICBcInN0YW5kYnkgdGltZXJcIjogL1xcYnN0YW5kYnlcXGIuKlxcYnRpbWVyXFxifFxcYnRpbWVyXFxiLipcXGJzdGFuZGJ5XFxiL2ksXHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAoY29uc3QgW2xhYmVsLCByZWdleF0gb2YgT2JqZWN0LmVudHJpZXMoa2V5d29yZE1hcCkpIHtcclxuICAgICAgaWYgKHJlZ2V4LnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKGxhYmVsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmZWF0dXJlcy5sZW5ndGggPiAwID8gZmVhdHVyZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIENvZmZlZVByb2R1Y3RUeXBlOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5taW5vcl9jbGFzc19kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZT8uKCkgfHwgJyc7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtzaG9ydCwgbWVkaXVtLCBwYXJhZ3JhcGhdLmpvaW4oJyAnKTtcclxuXHJcbiAgICBjb25zdCBidWlsdEluUmVnZXggPSAvXFxiYnVpbHRbLVxcc10/aW5cXGJ8YnVpbHRpblxcYi87XHJcbiAgICBjb25zdCBjb3VudGVyVG9wUmVnZXggPSAvXFxiY291bnRlcltcXHMtXT90b3BcXGIvO1xyXG5cclxuICAgIGlmIChidWlsdEluUmVnZXgudGVzdChkZXNjcmlwdGlvbikgfHwgYnVpbHRJblJlZ2V4LnRlc3QoYWxsVGV4dCkpIHJldHVybiBcImJ1aWx0IGluXCI7XHJcbiAgICBpZiAoY291bnRlclRvcFJlZ2V4LnRlc3QoZGVzY3JpcHRpb24pIHx8IGNvdW50ZXJUb3BSZWdleC50ZXN0KGFsbFRleHQpKSByZXR1cm4gXCJjb3VudGVyIHRvcFwiO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIENvZmZlZVdpZHRoOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmF3ID0gZXh0cmFjdFdpZHRoSW5JbmNoZXMocHJvZHVjdCk7XHJcbiAgICBpZiAocmF3ID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGDwn5OPIEZpbmFsIHJhdyB3aWR0aCBmb3IgQ09GRkVFIHByb2R1Y3Q6ICR7cmF3fVwiYCk7XHJcblxyXG4gICAgaWYgKHJhdyA+PSAyMyAmJiByYXcgPCAyNSkgcmV0dXJuICcyNFwiJztcclxuICAgIGlmIChyYXcgPj0gMjkgJiYgcmF3IDwgMzEpIHJldHVybiAnMzBcIic7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgQ29mZmVlQ29uZmlndXJhdGlvbjogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IG1hcmtldF9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmZlYXR1cmVzPy5mZWF0dXJlPy5qb2luKCcgJykudG9Mb3dlckNhc2UoKSB8fCAnJztcclxuXHJcbiAgICBjb25zdCBpbWFnZV9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmltYWdlX2ZlYXR1cmVzPy5pbWFnZV9mZWF0dXJlIHx8IFtdO1xyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8udGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgJycpLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IGltYWdlX2Rlc2NyaXB0aW9uID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8uZmVhdHVyZV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJykuam9pbignICcpO1xyXG5cclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBtZWRpdW0gPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5tZWRpdW1fZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcblxyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsID0gKHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmhpZXJhcmNoaWNhbF9mZWF0dXJlc19odG1sIHx8ICcnKVxyXG4gICAgICAucmVwbGFjZSgvPFtePl0qPi9nLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtcclxuICAgICAgbWFya2V0X2ZlYXR1cmVzLFxyXG4gICAgICBpbWFnZV90aXRsZXMsXHJcbiAgICAgIGltYWdlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBzaG9ydCxcclxuICAgICAgbWVkaXVtLFxyXG4gICAgICBwYXJhZ3JhcGgsXHJcbiAgICAgIGhpZXJhcmNoaWNhbFxyXG4gICAgXS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgcGx1bWJlZEluUmVnZXggPSAvXFxicGx1bWJlZCg/OlstXFxzXT9pbik/XFxiLztcclxuXHJcbiAgICBpZiAocGx1bWJlZEluUmVnZXgudGVzdChhbGxUZXh0KSkgcmV0dXJuICdQbHVtYmVkJztcclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG5cclxuICBMYXVuZHJ5RmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBtYXJrZXRfZmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5mZWF0dXJlcz8uZmVhdHVyZT8uam9pbignICcpLnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBpbWFnZV9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmltYWdlX2ZlYXR1cmVzPy5pbWFnZV9mZWF0dXJlIHx8IFtdO1xyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8udGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgJycpLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IGltYWdlX2Rlc2NyaXB0aW9uID0gaW1hZ2VfZmVhdHVyZXMubWFwKGYgPT4gZj8uZmVhdHVyZV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJykuam9pbignICcpO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IChwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5oaWVyYXJjaGljYWxfZmVhdHVyZXNfaHRtbCB8fCAnJykucmVwbGFjZSgvPFtePl0qPi9nLCAnJykudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW1xyXG4gICAgICBtYXJrZXRfZmVhdHVyZXMsXHJcbiAgICAgIGltYWdlX3RpdGxlcyxcclxuICAgICAgaW1hZ2VfZGVzY3JpcHRpb24sXHJcbiAgICAgIHNob3J0LFxyXG4gICAgICBtZWRpdW0sXHJcbiAgICAgIHBhcmFncmFwaCxcclxuICAgICAgaGllcmFyY2hpY2FsLFxyXG4gICAgXS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlUmVnZXhNYXAgPSB7XHJcbiAgICAgIFwidG9wIGxvYWRpbmdcIjogWy9cXGJ0b3BbLVxcc10/bG9hZGluZ1xcYi9dLFxyXG4gICAgICBcImVuZXJneSBzdGFyXCI6IFsvXFxiZW5lcmd5XFxzKnN0YXJcXGIvXSxcclxuICAgICAgXCJ0aXRsZSAyMCBjb21wbGlhbnRcIjogWy9cXGJ0aXRsZVxccyoyMFxccypjb21wbGlhbnRcXGIvXSxcclxuICAgICAgXCJmcm9udCBsb2FkaW5nXCI6IFsvXFxiZnJvbnRbLVxcc10/bG9hZGluZ1xcYi9dLFxyXG4gICAgICBcInN0YWNrYWJsZVwiOiBbL1xcYnN0YWNrYWJsZVxcYi9dLFxyXG4gICAgICBcInNtYXJ0IGhvbWVcIjogWy9cXGJzbWFydFxccypob21lXFxiLywgL1xcYnNtYXJ0XFxzKmVuYWJsZWRcXGIvXSxcclxuICAgICAgXCJtYWRlIGluIGFtZXJpY2FcIjogWy9cXGJtYWRlXFxzKmluXFxzKmFtZXJpY2FcXGIvLCAvXFxiYW1lcmljYW5bLVxcc10/bWFkZVxcYi9dLFxyXG4gICAgICBcInNhbml0YXJ5IHJpbnNlXCI6IFtcclxuICAgICAgICAvXFxic2FuaSh0YXJ5KT9bLVxcc10/cmluc2VcXGIvLFxyXG4gICAgICAgIC9cXGJzYW5pdGl6ZVstXFxzXT9yaW5zZVxcYi8sXHJcbiAgICAgICAgL1xcYnNhbml0YXJ5XFxzKmN5Y2xlXFxiLyxcclxuICAgICAgICAvXFxicmluc2VcXGIuKlxcYnNhbml0aXplXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImFnaXRhdG9yXCI6IFsvXFxiYWdpdGF0b3JcXGIvXSxcclxuICAgICAgXCJzdGVhbSB0ZWNobm9sb2d5XCI6IFtcclxuICAgICAgICAvXFxic3RlYW1cXHMqdGVjaG5vbG9neVxcYi8sXHJcbiAgICAgICAgL1xcYnN0ZWFtWy1cXHNdP2Fzc2lzdFxcYi8sXHJcbiAgICAgICAgL1xcYnN0ZWFtXFxzKmNsZWFuKGluZyk/XFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImltcGVsbGVyXCI6IFsvXFxiaW1wZWxsZXJcXGIvXSxcclxuICAgICAgXCJhZGFcIjogWy9cXGJBREFcXGIvLCAvXFxiQURBXFxzKihjb21wbGlhbnR8Y2VydGlmaWVkKT9cXGIvXSxcclxuICAgICAgXCJpbnRlcmlvciBsaWdodFwiOiBbL1xcYmludGVyaW9yXFxzKmxpZ2h0XFxiLywgL1xcYmxpZ2h0XFxzKihpbmNsdWRlZCk/XFxiL10sXHJcbiAgICAgIFwiYXBwcm92ZWQgZm9yIGNvbW1lcmNpYWwgdXNlXCI6IFtcclxuICAgICAgICAvXFxiYXBwcm92ZWRcXHMqZm9yXFxzKmNvbW1lcmNpYWxcXHMqdXNlXFxiLyxcclxuICAgICAgICAvXFxiY29tbWVyY2lhbFstXFxzXSpncmFkZVxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJwZWRlc3RhbCBpbmNsdWRlZFwiOiBbL1xcYnBlZGVzdGFsXFxzKmluY2x1ZGVkXFxiL10sXHJcbiAgICAgIFwicGV0IGZyaWVuZGx5XCI6IFsvXFxicGV0XFxzKmZyaWVuZGx5XFxiL10sXHJcbiAgICAgIFwiZWNvIGZyaWVuZGx5XCI6IFsvXFxiZWNvWy1cXHNdKmZyaWVuZGx5XFxiL10sXHJcbiAgICAgIFwiZmluZ2VycHJpbnQgcmVzaXN0YW50XCI6IFsvXFxiZmluZ2VycHJpbnRcXHMqcmVzaXN0YW50XFxiL10sXHJcbiAgICAgIFwiaHVtaWRpdHkgc2Vuc2luZ1wiOiBbL1xcYmh1bWlkaXR5XFxzKnNlbnNpbmdcXGIvLCAvXFxibW9pc3R1cmVcXHMqKHNlbnNpbmd8c2Vuc29yKVxcYi9dLFxyXG4gICAgICBcInJlYmF0ZSBvZmZlcmVkXCI6IFsvXFxicmViYXRlXFxzKihhdmFpbGFibGV8b2ZmZXJlZCk/XFxiL10sXHJcbiAgICAgIFwiZW5kIG9mIGN5Y2xlIGluZGljYXRvclwiOiBbXHJcbiAgICAgICAgL1xcYmVuZFxccypvZlxccypjeWNsZVxccyppbmRpY2F0b3JcXGIvLFxyXG4gICAgICAgIC9cXGJjeWNsZVxccyplbmRcXHMqKGFsZXJ0fGNoaW1lfHNpZ25hbClcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwic2Vuc29yIGRyeVwiOiBbL1xcYnNlbnNvclxccypkcnlcXGIvLCAvXFxiYXV0b1xccypkcnlcXGIvXSxcclxuICAgICAgXCJscCBjb252ZXJzaW9uXCI6IFsvXFxiTFBcXHMqY29udmVyc2lvblxcYi8sIC9cXGJjb252ZXJ0aWJsZVxccyp0b1xccypMUFxcYi9dLFxyXG4gICAgICBcInZlbnQgZnJlZVwiOiBbL1xcYnZlbnRbLVxcc10/ZnJlZVxcYi9dLFxyXG4gICAgICBcInF1aWNrIHNoaXBcIjogWy9cXGJxdWlja1xccypzaGlwKHBpbmcpP1xcYi9dLFxyXG4gICAgICBcImxpZ2h0IGluY2x1ZGVkXCI6IFsvXFxibGlnaHRcXHMqaW5jbHVkZWRcXGIvXSxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChjb25zdCBbbGFiZWwsIHJlZ2V4ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGZlYXR1cmVSZWdleE1hcCkpIHtcclxuICAgICAgaWYgKHJlZ2V4ZXMuc29tZSgocmVnZXgpID0+IHJlZ2V4LnRlc3QoYWxsVGV4dCkpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID8gZmVhdHVyZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIExhdW5kcnlXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhg8J+TjyBGaW5hbCByYXcgd2lkdGggZm9yIExBVU5EUlkgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3IDw9IDE5KSByZXR1cm4gJzIwXCIgYW5kIExlc3MnO1xyXG4gICAgaWYgKHJhdyA+PSAyMCAmJiByYXcgPCAyMikgcmV0dXJuICcyMVwiJztcclxuICAgIGlmIChyYXcgPj0gMjMgJiYgcmF3IDwgMjUpIHJldHVybiAnMjRcIic7XHJcbiAgICBpZiAocmF3ID49IDI2ICYmIHJhdyA8IDI4KSByZXR1cm4gJzI3XCInO1xyXG4gICAgaWYgKHJhdyA+PSAyOSAmJiByYXcgPCAzMSkgcmV0dXJuICczMFwiJztcclxuICAgIGlmIChyYXcgPj0gMzIpIHJldHVybiAnMzFcIiBhbmQgYWJvdmUnO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIExhdW5kcnlDb25maWd1cmF0aW9uOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgbWlub3JfY29kZSA9IHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2NvZGU/LnRvVXBwZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IHR5cGVzID0gW107XHJcblxyXG4gICAgaWYgKFtcIkRSWUVcIiwgXCJEUllUTUVcIiwgXCJEUllUTUdcIiwgXCJXQVNIVFwiLCBcIldBU0hIRVwiLCBcIkRSWUdcIl0uaW5jbHVkZXMobWlub3JfY29kZSkpIHR5cGVzLnB1c2goJ1RvcCBMb2FkJyk7XHJcbiAgICBpZiAoW1wiRFJZRUZcIiwgXCJEUllHRlwiLCBcIldBU0hGXCJdLmluY2x1ZGVzKG1pbm9yX2NvZGUpKSB0eXBlcy5wdXNoKCdGcm9udCBMb2FkJyk7XHJcbiAgICBpZiAoW1wiQ09NTVdcIiwgXCJDT01NQ1wiLCBcIkNPTU1EXCIsXS5pbmNsdWRlcyhtaW5vcl9jb2RlKSkgdHlwZXMucHVzaCgnQ29tbWVyY2lhbCcpO1xyXG5cclxuICAgIHJldHVybiB0eXBlcy5sZW5ndGggPyB0eXBlcyA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgTGF1bmRyeVByb2R1Y3RUeXBlOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgbWlub3JfY29kZSA9IHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2NvZGU/LnRvVXBwZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IHR5cGVzID0gW107XHJcblxyXG4gICAgaWYgKG1pbm9yX2NvZGUuaW5jbHVkZXMoJ1BEU1RMJykpIHR5cGVzLnB1c2goJ0xhdW5kcnkgQWNjZXNzb3JpZXMnKTtcclxuICAgIGlmIChbXCJEUllFXCIsIFwiQ09NTURcIiwgXCJEUllUTUVcIiwgXCJEUllUTUdcIiwgXCJEUllFRlwiLCBcIkRSWUdGXCIsIFwiRFJZR1wiLCBcIkRSWVBcIl0uaW5jbHVkZXMobWlub3JfY29kZSkpIHR5cGVzLnB1c2goJ0RyeWVycycpO1xyXG4gICAgaWYgKFtcIldBU0hGXCIsIFwiV0FTSFRcIiwgXCJXQVNISEVcIiwgXCJXQVNIUFwiLCBcIkNPTU1XXCJdLmluY2x1ZGVzKG1pbm9yX2NvZGUpKSB0eXBlcy5wdXNoKCdXYXNoZXJzJyk7XHJcbiAgICBpZiAoW1wiV0FTSENFXCIsIFwiV0FTSENHXCJdLmluY2x1ZGVzKG1pbm9yX2NvZGUpKSB0eXBlcy5wdXNoKCdXYXNoZXIgRHJ5ZXIgQ29tYm9zJylcclxuICAgIGlmIChbXCJTVEVBTVwiXS5pbmNsdWRlcyhtaW5vcl9jb2RlKSkgdHlwZXMucHVzaCgnR2FybWVudCBTdGVhbWVycycpXHJcbiAgICBpZiAoW1wiQ09NTUNcIiwgXCJXQVNIQ1wiXS5pbmNsdWRlcyhtaW5vcl9jb2RlKSkgdHlwZXMucHVzaCgnV2FzaFRvd2VycycpXHJcblxyXG4gICAgcmV0dXJuIHR5cGVzLmxlbmd0aCA/IHR5cGVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBIb29kRmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICAvLyBtYXJrZXRpbmdfY29weS5mZWF0dXJlcy5mZWF0dXJlIGNhbiBiZSBzdHJpbmcgb3Igc3RyaW5nW11cclxuICAgIGNvbnN0IHJhd01hcmtldEZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uZmVhdHVyZXM/LmZlYXR1cmU7XHJcbiAgICBjb25zdCBtYXJrZXRfZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KHJhd01hcmtldEZlYXR1cmVzKVxyXG4gICAgICA/IHJhd01hcmtldEZlYXR1cmVzLmpvaW4oXCIgXCIpLnRvTG93ZXJDYXNlKClcclxuICAgICAgOiAocmF3TWFya2V0RmVhdHVyZXM/LnRvTG93ZXJDYXNlPy4oKSB8fCBcIlwiKTtcclxuXHJcbiAgICAvLyBtYXJrZXRpbmdfY29weS5pbWFnZV9mZWF0dXJlcy5pbWFnZV9mZWF0dXJlIGNhbiBiZSBvYmplY3Qgb3IgYXJyYXkgb3IgdW5kZWZpbmVkXHJcbiAgICBjb25zdCByYXdJbWFnZUZlYXR1cmVzID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaW1hZ2VfZmVhdHVyZXM/LmltYWdlX2ZlYXR1cmU7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KHJhd0ltYWdlRmVhdHVyZXMpXHJcbiAgICAgID8gcmF3SW1hZ2VGZWF0dXJlc1xyXG4gICAgICA6IHJhd0ltYWdlRmVhdHVyZXNcclxuICAgICAgICA/IFtyYXdJbWFnZUZlYXR1cmVzXVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VfZmVhdHVyZXNcclxuICAgICAgLm1hcCgoZikgPT4gZj8udGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIilcclxuICAgICAgLmpvaW4oXCIgXCIpO1xyXG5cclxuICAgIGNvbnN0IGltYWdlX2Rlc2NyaXB0aW9uID0gaW1hZ2VfZmVhdHVyZXNcclxuICAgICAgLm1hcCgoZikgPT4gZj8uZmVhdHVyZV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiKVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3Qgc2hvcnQgPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgbWVkaXVtID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IChcclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgXCJcIlxyXG4gICAgKVxyXG4gICAgICAucmVwbGFjZSgvPFtePl0qPi9nLCBcIlwiKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW1xyXG4gICAgICBtYXJrZXRfZmVhdHVyZXMsXHJcbiAgICAgIGltYWdlX3RpdGxlcyxcclxuICAgICAgaW1hZ2VfZGVzY3JpcHRpb24sXHJcbiAgICAgIHNob3J0LFxyXG4gICAgICBtZWRpdW0sXHJcbiAgICAgIHBhcmFncmFwaCxcclxuICAgICAgaGllcmFyY2hpY2FsLFxyXG4gICAgXS5qb2luKFwiIFwiKTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGZlYXR1cmVSZWdleE1hcCA9IHtcclxuICAgICAgXCJsaWdodCBpbmNsdWRlZFwiOiBbXHJcbiAgICAgICAgL1xcYmxpZ2h0XFxzKmluY2x1ZGVkXFxiLyxcclxuICAgICAgICAvXFxiaW5jbHVkZXNcXHMqbGlnaHRcXGIvLFxyXG4gICAgICAgIC9cXGJidWxiXFxzKmluY2x1ZGVkXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJjb252ZXJ0aWJsZSB0byBkdWN0bGVzcyAvIHJlY2lyY3VsYXRpbmdcIjogW1xyXG4gICAgICAgIC9cXGJjb252ZXJ0aWJsZVxcYi8sXHJcbiAgICAgICAgL1xcYmR1Y3RsZXNzXFxiLyxcclxuICAgICAgICAvXFxicmVjaXJjdWxhdGluZ1xcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIFwibWFkZSBpbiBhbWVyaWNhXCI6IFtcclxuICAgICAgICAvXFxibWFkZVxccyppblxccyphbWVyaWNhXFxiLyxcclxuICAgICAgICAvXFxiYW1lcmljYW5bLVxcc10/bWFkZVxcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIFwidGl0bGUgMjAgY29tcGxpYW50XCI6IFsvXFxidGl0bGVcXHMqMjBcXGIvXSxcclxuICAgICAgYWRhOiBbL1xcYmFkYVxcYi8sIC9cXGJhZGFcXHMqKGNvbXBsaWFudHxjZXJ0aWZpZWQpP1xcYi9dLFxyXG4gICAgICBcImF2YWlsYWJsZSB3aXRob3V0IGJsb3dlclwiOiBbXHJcbiAgICAgICAgL1xcYndpdGhvdXRcXHMqYmxvd2VyXFxiLyxcclxuICAgICAgICAvXFxibm9cXHMqYmxvd2VyXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJvdXRkb29yIGFwcHJvdmVkXCI6IFsvXFxib3V0ZG9vclxcYi8sIC9cXGJhcHByb3ZlZFxccypmb3JcXHMqb3V0ZG9vclxcYi9dLFxyXG4gICAgICBcInRpdGxlIDI0XCI6IFsvXFxidGl0bGVcXHMqMjRcXGIvXSxcclxuICAgICAgZHVjdGxlc3M6IFsvXFxiZHVjdGxlc3NcXGIvLCAvXFxicmVjaXJjdWxhdGluZ1xcYi9dLFxyXG4gICAgICBcImluY2x1ZGVzIHJlbW90ZVwiOiBbXHJcbiAgICAgICAgL1xcYmluY2x1ZGVzXFxzKnJlbW90ZVxcYi8sXHJcbiAgICAgICAgL1xcYnJlbW90ZVxccypjb250cm9sXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgbGVkOiBbL1xcYmxlZFxcYi9dLFxyXG4gICAgICBcInNtYXJ0IGhvbWVcIjogWy9cXGJzbWFydFxccypob21lXFxiLywgL1xcYnNtYXJ0XFxzKmVuYWJsZWRcXGIvXSxcclxuICAgICAgXCJyZWJhdGUgb2ZmZXJlZFwiOiBbL1xcYnJlYmF0ZVxcYi9dLFxyXG4gICAgICBcImZpbmdlcnByaW50IHJlc2lzdGFudFwiOiBbL1xcYmZpbmdlcnByaW50XFxzKnJlc2lzdGFudFxcYi9dLFxyXG4gICAgICBcImVuZXJneSBzdGFyXCI6IFsvXFxiZW5lcmd5XFxzKnN0YXJcXGIvXSxcclxuICAgICAgXCJuaWdodCBsaWdodFwiOiBbL1xcYm5pZ2h0XFxzKmxpZ2h0XFxiL10sXHJcbiAgICAgIFwicXVpY2sgc2hpcFwiOiBbL1xcYnF1aWNrXFxzKnNoaXBcXGIvLCAvXFxicXVpY2tcXHMqc2hpcHBpbmdcXGIvXSxcclxuICAgICAgXCJwYW5lbCByZWFkeVwiOiBbL1xcYnBhbmVsXFxzKnJlYWR5XFxiL10sXHJcbiAgICAgIFwiaG9vZCBmYW5cIjogWy9cXGJob29kXFxzKmZhblxcYi8sIC9cXGJmYW5cXHMqaW5jbHVkZWRcXGIvXSxcclxuICAgICAgXCJpbmNsdWRlcyB0aW1lclwiOiBbL1xcYmluY2x1ZGVzXFxzKnRpbWVyXFxiLywgL1xcYnRpbWVyXFxiL10sXHJcbiAgICAgIFwiYXBwcm92ZWQgZm9yIGNvbW1lcmNpYWwgdXNlXCI6IFtcclxuICAgICAgICAvXFxiYXBwcm92ZWRcXHMqZm9yXFxzKmNvbW1lcmNpYWxcXHMqdXNlXFxiLyxcclxuICAgICAgICAvXFxiY29tbWVyY2lhbFstXFxzXSpncmFkZVxcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiZWNvIGZyaWVuZGx5XCI6IFtcclxuICAgICAgICAvXFxiZWNvWy1cXHNdKmZyaWVuZGx5XFxiLyxcclxuICAgICAgICAvXFxiZW52aXJvbm1lbnRhbGx5XFxzKmZyaWVuZGx5XFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJzdGFpbmxlc3Mgc3RlZWwgaW50ZXJpb3JcIjogWy9cXGJzdGFpbmxlc3NcXHMqc3RlZWxcXHMqaW50ZXJpb3JcXGIvXSxcclxuICAgICAgYmxvd2VyOiBbL1xcYmJsb3dlclxcYi9dLFxyXG4gICAgICBcImhlYXQgc2Vuc2luZ1wiOiBbL1xcYmhlYXRcXHMqc2Vuc2luZ1xcYi8sIC9cXGJoZWF0XFxzKnNlbnNvclxcYi9dLFxyXG4gICAgICBcInJlcGxhY2VhYmxlIGxlZCBtb2R1bGVcIjogW1xyXG4gICAgICAgIC9cXGJyZXBsYWNlYWJsZVxccypsZWRcXGIvLFxyXG4gICAgICAgIC9cXGJsZWRcXHMqbW9kdWxlXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJhZGp1c3RhYmxlIGRlcHRoXCI6IFsvXFxiYWRqdXN0YWJsZVxccypkZXB0aFxcYi9dLFxyXG4gICAgICBcImh1bWlkaXR5IHNlbnNpbmdcIjogW1xyXG4gICAgICAgIC9cXGJodW1pZGl0eVxccypzZW5zaW5nXFxiLyxcclxuICAgICAgICAvXFxibW9pc3R1cmVcXHMqc2Vuc29yXFxiLyxcclxuICAgICAgXSxcclxuICAgIH07XHJcblxyXG4gICAgZm9yIChjb25zdCBbbGFiZWwsIHJlZ2V4ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGZlYXR1cmVSZWdleE1hcCkpIHtcclxuICAgICAgaWYgKHJlZ2V4ZXMuc29tZSgocmVnZXgpID0+IHJlZ2V4LnRlc3QoYWxsVGV4dCkpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID8gZmVhdHVyZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIEhvb2RXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhg8J+TjyBGaW5hbCByYXcgd2lkdGggZm9yIEhPT0QgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3IDwgMTgpIHJldHVybiAnMTdcIiBvciBMZXNzJztcclxuICAgIGlmIChyYXcgPj0gMTggJiYgcmF3IDw9IDIzKSByZXR1cm4gJzE4XCItMjNcIic7XHJcbiAgICBpZiAocmF3ID49IDI0ICYmIHJhdyA8PSAzNikgcmV0dXJuICcyNFwiLTM2XCInO1xyXG4gICAgaWYgKHJhdyA+PSAzNyAmJiByYXcgPD0gNDgpIHJldHVybiAnMzdcIi00OFwiJztcclxuICAgIGlmIChyYXcgPj0gNDkgJiYgcmF3IDw9IDY2KSByZXR1cm4gJzQ5XCItNjZcIic7XHJcbiAgICBpZiAocmF3ID4gNjYpIHJldHVybiAnNjdcIiBvciBtb3JlJztcclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9LFxyXG5cclxuICBIb29kUHJvZHVjdFR5cGU6IChwcm9kdWN0KSA9PiB7XHJcblxyXG4gICAgY29uc3QgY29kZSA9IHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2NvZGU/LnRvVXBwZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhlaWdodCA9IHBhcnNlRmxvYXQocHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8uaGVpZ2h0KTtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgIGNvbnN0IG1lZGl1bSA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IHBhcmFncmFwaCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnBhcmFncmFwaF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IG1pbm9yRGVzID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuXHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtzaG9ydCwgbWVkaXVtLCBwYXJhZ3JhcGhdLmpvaW4oJycpO1xyXG5cclxuICAgIGlmIChjb2RlID09PSBcIkRVQ1RFRFwiKSByZXR1cm4gXCJkdWN0ZWQgaG9vZFwiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiRENUTEVTXCIpIHJldHVybiBcImR1Y3RsZXNzIGhvb2RcIjtcclxuICAgIGlmIChjb2RlID09PSBcIlBST0hEXCIpIHJldHVybiBcInByb2Zlc3Npb25hbCBob29kXCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJDT05WSERcIikgcmV0dXJuIFwiY29udmVydGlibGUgaG9vZFwiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiSU5TRVJUXCIpIHJldHVybiBcImhvb2QgaW5zZXJ0c1wiO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIEljZUZlYXR1cmVzOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgbWFya2V0X2ZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uZmVhdHVyZXM/LmZlYXR1cmU/LmpvaW4oJyAnKS50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgaW1hZ2VfZmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5pbWFnZV9mZWF0dXJlcz8uaW1hZ2VfZmVhdHVyZSB8fCBbXTtcclxuICAgIGNvbnN0IGltYWdlX3RpdGxlcyA9IGltYWdlX2ZlYXR1cmVzLm1hcChmID0+IGY/LnRpdGxlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKS5qb2luKCcgJyk7XHJcbiAgICBjb25zdCBpbWFnZV9kZXNjcmlwdGlvbiA9IGltYWdlX2ZlYXR1cmVzLm1hcChmID0+IGY/LmZlYXR1cmVfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJycpLmpvaW4oJyAnKTtcclxuICAgIGNvbnN0IHNob3J0ID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBtZWRpdW0gPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5tZWRpdW1fZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgJyc7XHJcbiAgICBjb25zdCBoaWVyYXJjaGljYWwgPSAocHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgJycpXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcnKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW1xyXG4gICAgICBtYXJrZXRfZmVhdHVyZXMsXHJcbiAgICAgIGltYWdlX3RpdGxlcyxcclxuICAgICAgaW1hZ2VfZGVzY3JpcHRpb24sXHJcbiAgICAgIHNob3J0LFxyXG4gICAgICBtZWRpdW0sXHJcbiAgICAgIHBhcmFncmFwaCxcclxuICAgICAgaGllcmFyY2hpY2FsXHJcbiAgICBdLmpvaW4oJyAnKTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGZlYXR1cmVSZWdleE1hcCA9IHtcclxuICAgICAgXCJjb3VudGVyIGRlcHRoXCI6IFtcclxuICAgICAgICAvXFxiY291bnRlclstXFxzXT9kZXB0aFxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJjbGVhciBpY2VcIjogW1xyXG4gICAgICAgIC9cXGJjbGVhclstXFxzXT9pY2VcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiZHJhaW4gcmVxdWlyZWRcIjogW1xyXG4gICAgICAgIC9cXGJkcmFpblxccypyZXF1aXJlZFxcYi8sXHJcbiAgICAgICAgL1xcYnJlcXVpcmVzXFxzKmRyYWluXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcIm1hZGUgaW4gYW1lcmljYVwiOiBbXHJcbiAgICAgICAgL1xcYm1hZGVcXHMqaW5cXHMqYW1lcmljYVxcYi8sXHJcbiAgICAgICAgL1xcYmFtZXJpY2FuWy1cXHNdP21hZGVcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwib3V0ZG9vciBhcHByb3ZlZFwiOiBbXHJcbiAgICAgICAgL1xcYm91dGRvb3JcXGIvLFxyXG4gICAgICAgIC9cXGJhcHByb3ZlZFxccypmb3JcXHMqb3V0ZG9vclxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJwdW1wIGluY2x1ZGVkXCI6IFtcclxuICAgICAgICAvXFxicHVtcFxccyppbmNsdWRlZFxcYi8sXHJcbiAgICAgICAgL1xcYmluY2x1ZGVzXFxzKnB1bXBcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwibGlnaHQgaW5jbHVkZWRcIjogW1xyXG4gICAgICAgIC9cXGJsaWdodFxccyppbmNsdWRlZFxcYi8sXHJcbiAgICAgICAgL1xcYmluY2x1ZGVzXFxzKmxpZ2h0XFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcInBhbmVsIHJlYWR5XCI6IFtcclxuICAgICAgICAvXFxicGFuZWxcXHMqcmVhZHlcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiaWNlIGJpbiBpbmNsdWRlZFwiOiBbXHJcbiAgICAgICAgL1xcYmljZVxccypiaW5cXHMqaW5jbHVkZWRcXGIvLFxyXG4gICAgICAgIC9cXGJpbmNsdWRlc1xccyppY2VcXHMqYmluXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImluY2x1ZGVzIHNjb29wXCI6IFtcclxuICAgICAgICAvXFxiaW5jbHVkZXNcXHMqc2Nvb3BcXGIvLFxyXG4gICAgICAgIC9cXGJzY29vcFxccyppbmNsdWRlZFxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJsZXZlbGluZyBsZWdzXCI6IFtcclxuICAgICAgICAvXFxibGV2ZWxpbmdcXHMqbGVnc1xcYi8sXHJcbiAgICAgICAgL1xcYmFkanVzdGFibGVcXHMqbGVnc1xcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJhZGFcIjogW1xyXG4gICAgICAgIC9cXGJhZGFcXGIvLFxyXG4gICAgICAgIC9cXGJhZGFcXHMqKGNvbXBsaWFudHxjZXJ0aWZpZWQpP1xcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJlbmVyZ3kgc3RhclwiOiBbXHJcbiAgICAgICAgL1xcYmVuZXJneVxccypzdGFyXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImFwcHJvdmVkIGZvciBjb21tZXJjaWFsIHVzZVwiOiBbXHJcbiAgICAgICAgL1xcYmFwcHJvdmVkXFxzKmZvclxccypjb21tZXJjaWFsXFxzKnVzZVxcYi8sXHJcbiAgICAgICAgL1xcYmNvbW1lcmNpYWxbLVxcc10/Z3JhZGVcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwic2FiYmF0aCBtb2RlXCI6IFtcclxuICAgICAgICAvXFxic2FiYmF0aFxccyptb2RlXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImljZSBtYWtlclwiOiBbXHJcbiAgICAgICAgL1xcYmljZVxccyptYWtlclxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJpbnRlcmlvciBsaWdodFwiOiBbXHJcbiAgICAgICAgL1xcYmludGVyaW9yXFxzKmxpZ2h0XFxiLyxcclxuICAgICAgICAvXFxibGlnaHRcXHMqaW5zaWRlXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcInF1aWNrIHNoaXBcIjogW1xyXG4gICAgICAgIC9cXGJxdWlja1xccypzaGlwXFxiLyxcclxuICAgICAgICAvXFxicXVpY2tcXHMqc2hpcHBpbmdcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwicmViYXRlIG9mZmVyZWRcIjogW1xyXG4gICAgICAgIC9cXGJyZWJhdGVcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiY2UgbGlzdGVkXCI6IFtcclxuICAgICAgICAvXFxiY2VcXHMqbGlzdGVkXFxiLyxcclxuICAgICAgICAvXFxiY2VcXHMqY2VydGlmaWVkXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImZvcmNlZCBhaXIgc3lzdGVtXCI6IFtcclxuICAgICAgICAvXFxiZm9yY2VkXFxzKmFpclxccypzeXN0ZW1cXGIvLFxyXG4gICAgICAgIC9cXGJmb3JjZWRcXHMqYWlyXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcInNlbGYtY29udGFpbmVkXCI6IFtcclxuICAgICAgICAvXFxic2VsZlstXFxzXT9jb250YWluZWRcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiYW50aW1pY3JvYmlhbFwiOiBbXHJcbiAgICAgICAgL1xcYmFudGltaWNyb2JpYWxcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiYXV0b21hdGljIGRlZnJvc3RcIjogW1xyXG4gICAgICAgIC9cXGJhdXRvbWF0aWNcXHMqZGVmcm9zdFxcYi8sXHJcbiAgICAgICAgL1xcYmF1dG9cXHMqZGVmcm9zdFxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJ0b3dlciBpbmNsdWRlZFwiOiBbXHJcbiAgICAgICAgL1xcYnRvd2VyXFxzKmluY2x1ZGVkXFxiLyxcclxuICAgICAgICAvXFxiaW5jbHVkZXNcXHMqdG93ZXJcXGIvXHJcbiAgICAgIF1cclxuICAgIH07XHJcblxyXG4gICAgZm9yIChjb25zdCBbbGFiZWwsIHJlZ2V4ZXNdIG9mIE9iamVjdC5lbnRyaWVzKGZlYXR1cmVSZWdleE1hcCkpIHtcclxuICAgICAgaWYgKHJlZ2V4ZXMuc29tZSgocmVnZXgpID0+IHJlZ2V4LnRlc3QoYWxsVGV4dCkpKSB7XHJcbiAgICAgICAgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID8gZmVhdHVyZXMgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIEljZU1ha2VyV2lkdGg6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCByYXcgPSBleHRyYWN0V2lkdGhJbkluY2hlcyhwcm9kdWN0KTtcclxuICAgIGlmIChyYXcgPT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coYPCfk48gRmluYWwgcmF3IHdpZHRoIGZvciBJQ0UgTUFLRVIgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3IDw9IDEzKSByZXR1cm4gJzE0XCIgYW5kIExlc3MnO1xyXG4gICAgaWYgKHJhdyA+PSAxNCAmJiByYXcgPCAxNikgcmV0dXJuICcxNVwiJztcclxuICAgIGlmIChyYXcgPj0gMTcgJiYgcmF3IDwgMTkpIHJldHVybiAnMThcIic7XHJcbiAgICBpZiAocmF3ID49IDIwICYmIHJhdyA8IDIyKSByZXR1cm4gJzIxXCInO1xyXG4gICAgaWYgKHJhdyA+PSAyMyAmJiByYXcgPCAyNSkgcmV0dXJuICcyNFwiJztcclxuICAgIGlmIChyYXcgPj0gMjYpIHJldHVybiAnMjVcIiBhbmQgYWJvdmUnO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIFdhcm1pbmdEcmF3ZXJGZWF0dXJlczogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IG1hcmtldF9mZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmZlYXR1cmVzPy5mZWF0dXJlPy5qb2luKCcgJykudG9Mb3dlckNhc2UoKSB8fCAnJztcclxuICAgIGNvbnN0IGltYWdlX2ZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaW1hZ2VfZmVhdHVyZXM/LmltYWdlX2ZlYXR1cmUgfHwgW107XHJcbiAgICBjb25zdCBpbWFnZV90aXRsZXMgPSBpbWFnZV9mZWF0dXJlcy5tYXAoZiA9PiBmPy50aXRsZT8udG9Mb3dlckNhc2UoKSB8fCAnJykuam9pbignICcpO1xyXG4gICAgY29uc3QgaW1hZ2VfZGVzY3JpcHRpb24gPSBpbWFnZV9mZWF0dXJlcy5tYXAoZiA9PiBmPy5mZWF0dXJlX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnKS5qb2luKCcgJyk7XHJcbiAgICBjb25zdCBzaG9ydCA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LnNob3J0X2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgcGFyYWdyYXBoID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ucGFyYWdyYXBoX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsID0gKHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmhpZXJhcmNoaWNhbF9mZWF0dXJlc19odG1sIHx8ICcnKVxyXG4gICAgICAucmVwbGFjZSgvPFtePl0qPi9nLCAnJylcclxuICAgICAgLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtcclxuICAgICAgbWFya2V0X2ZlYXR1cmVzLFxyXG4gICAgICBpbWFnZV90aXRsZXMsXHJcbiAgICAgIGltYWdlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBzaG9ydCxcclxuICAgICAgbWVkaXVtLFxyXG4gICAgICBwYXJhZ3JhcGgsXHJcbiAgICAgIGhpZXJhcmNoaWNhbFxyXG4gICAgXS5qb2luKCcgJyk7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlUmVnZXhNYXAgPSB7XHJcbiAgICAgIFwiZXZlbiBoZWF0XCI6IFtcclxuICAgICAgICAvXFxiZGlzdHJpYnV0ZXNcXHMqaGVhdFxccypldmVubHlcXGIvLFxyXG4gICAgICAgIC9cXGJldmVuXFxzKmhlYXRcXGIvLFxyXG4gICAgICAgIC9cXGJ1bmlmb3JtXFxzKmhlYXRcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiY29ycm9zaW9uIHJlc2lzdGFudFwiOiBbXHJcbiAgICAgICAgL1xcYmNvcnJvc2lvblxccypyZXNpc3RhbnRcXGIvLFxyXG4gICAgICAgIC9cXGJyZXNpc3RzXFxzKmNvcnJvc2lvblxcYi8sXHJcbiAgICAgICAgL1xcYnN0YWlubGVzc1stXFxzXT9zdGVlbC4qKHBhbmVsfGNvbnN0cnVjdGlvbik/XFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImZvb2QgcHJlc2V0c1wiOiBbXHJcbiAgICAgICAgL1xcYmZvb2RcXHMqcHJlc2V0c1xcYi8sXHJcbiAgICAgICAgL1xcYnByZXNldC4qZm9vZFxcYi8sXHJcbiAgICAgICAgL1xcYmJyZWFkXFxiLyxcclxuICAgICAgICAvXFxicGl6emFcXGIvLFxyXG4gICAgICAgIC9cXGJjZXJlYWxcXGIvXHJcbiAgICAgIF0sXHJcbiAgICAgIFwidG93ZWwgd2FybWluZ1wiOiBbXHJcbiAgICAgICAgL1xcYndhcm1pbmdcXHMqdG93ZWxzXFxiLyxcclxuICAgICAgICAvXFxidG93ZWxcXHMqd2FybWluZ1xcYi8sXHJcbiAgICAgICAgL1xcYndhcm0uKnRvd2VsXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImxhcmdlIGNhcGFjaXR5XCI6IFtcclxuICAgICAgICAvXFxibGFyZ2VcXHMqY2FwYWNpdHlcXGIvLFxyXG4gICAgICAgIC9cXGJnZW5lcm91cy4qZHJhd2VyXFxiLyxcclxuICAgICAgICAvXFxiMzBbLVxcc10/aW5jaFxcYi9cclxuICAgICAgXSxcclxuICAgICAgXCJoaWRkZW4gY29udHJvbHNcIjogW1xyXG4gICAgICAgIC9cXGJoaWRkZW5cXHMqY29udHJvbHNcXGIvLFxyXG4gICAgICAgIC9cXGJjb25jZWFsZWRcXHMqY29udHJvbHNcXGIvLFxyXG4gICAgICAgIC9cXGJlbGVjdHJvbmljXFxzKmNvbnRyb2xzXFxiL1xyXG4gICAgICBdLFxyXG4gICAgICBcImF1dG8gc2h1dC1vZmZcIjogW1xyXG4gICAgICAgIC9cXGJhdXRvbWF0aWNcXHMqc2h1dFstXFxzXT9vZmZcXGIvLFxyXG4gICAgICAgIC9cXGJhdXRvXFxzKnNodXRbLVxcc10/b2ZmXFxiLyxcclxuICAgICAgICAvXFxic2h1dFstXFxzXT9vZmZcXHMqZmVhdHVyZVxcYi9cclxuICAgICAgXVxyXG4gICAgfTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtsYWJlbCwgcmVnZXhlc10gb2YgT2JqZWN0LmVudHJpZXMoZmVhdHVyZVJlZ2V4TWFwKSkge1xyXG4gICAgICBpZiAocmVnZXhlcy5zb21lKChyZWdleCkgPT4gcmVnZXgudGVzdChhbGxUZXh0KSkpIHtcclxuICAgICAgICBmZWF0dXJlcy5wdXNoKGxhYmVsKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmZWF0dXJlcy5sZW5ndGggPyBmZWF0dXJlcyA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgV2FybWluZ0RyYXdlcldpZHRoOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmF3ID0gZXh0cmFjdFdpZHRoSW5JbmNoZXMocHJvZHVjdCk7XHJcbiAgICBpZiAocmF3ID09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKGDwn5OPIEZpbmFsIHJhdyB3aWR0aCBmb3IgV0FSTUlORyBEUkFXRVIgcHJvZHVjdDogJHtyYXd9XCJgKTtcclxuXHJcbiAgICBpZiAocmF3IDw9IDE5KSByZXR1cm4gJzIwXCIgYW5kIExlc3MnO1xyXG4gICAgaWYgKHJhdyA+PSAxOS41ICYmIHJhdyA8IDIyKSByZXR1cm4gJzIxXCInO1xyXG4gICAgaWYgKHJhdyA+PSAyMyAmJiByYXcgPCAyNSkgcmV0dXJuICcyNFwiJztcclxuICAgIGlmIChyYXcgPj0gMjYgJiYgcmF3IDwgMjgpIHJldHVybiAnMjdcIic7XHJcbiAgICBpZiAocmF3ID49IDI5ICYmIHJhdyA8IDMxKSByZXR1cm4gJzMwXCInO1xyXG4gICAgaWYgKHJhdyA+PSAzMikgcmV0dXJuICczMVwiIGFuZCBhYm92ZSc7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgUmVmcmlnUHJvZHVjdFR5cGU6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBjb2RlID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfY29kZT8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5oZWlnaHQpO1xyXG5cclxuICAgIGlmIChbXCJGRlJFTkNIXCIsIFwiQkZSRU5DSFwiXS5pbmNsdWRlcyhjb2RlKSkgcmV0dXJuIFwiRnJlbmNoIERvb3JcIjtcclxuICAgIGlmIChbXCJGU1hTXCIsIFwiQlNYU1wiXS5pbmNsdWRlcyhjb2RlKSkgcmV0dXJuIFwiU2lkZSBieSBTaWRlXCI7XHJcbiAgICBpZiAoW1wiRlRPUEZcIiwgXCJCVE9QRlwiXS5pbmNsdWRlcyhjb2RlKSkgcmV0dXJuIFwiVG9wIEZyZWV6ZXJcIjtcclxuICAgIGlmIChbXCJGQk9URlwiLCBcIkJCT1RGXCJdLmluY2x1ZGVzKGNvZGUpKSByZXR1cm4gXCJCb3R0b20gRnJlZXplclwiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiQ09NUEFDVFwiKSByZXR1cm4gXCJDb21wYWN0XCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJSV0NcIikgcmV0dXJuIFwiV2luZSBTdG9yYWdlXCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJSU1BDTFwiICYmIGhlaWdodCA8IDM2KSByZXR1cm4gXCJVbmRlcmNvdW50ZXJcIjtcclxuICAgIGlmIChjb2RlID09PSBcIlJTUENMXCIpIHJldHVybiBcIlNwZWNpYWx0eSAvIE1JU0NcIjtcclxuICAgIGlmIChbXCJCUkVGQUxMXCIsIFwiRlJFRkFMTFwiXS5pbmNsdWRlcyhjb2RlKSkgcmV0dXJuIFwiQWxsIEZyaWRnZVwiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiRFJBV0VSXCIpIHJldHVybiBcIkRyYXdlclwiO1xyXG4gICAgaWYgKFtcIkZHTEFTU1wiLCBcIkJHTEFTU1wiXS5pbmNsdWRlcyhjb2RlKSkgcmV0dXJuIFwiR2xhc3MgRG9vclwiO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIFJlZnJpZ0NvbmZpZ3VyYXRpb246IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9XHJcbiAgICAgIHByb2R1Y3QuY2xhc3NpZmljYXRpb24/Lm1pbm9yX2NsYXNzX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuXHJcbiAgICAvLyBmZWF0dXJlcy5mZWF0dXJlIGNhbiBiZSBzdHJpbmcgT1IgYXJyYXkgT1IgdW5kZWZpbmVkXHJcbiAgICBjb25zdCByYXdGZWF0dXJlcyA9IHByb2R1Y3QubWFya2V0aW5nX2NvcHk/LmZlYXR1cmVzPy5mZWF0dXJlO1xyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KHJhd0ZlYXR1cmVzKVxyXG4gICAgICA/IHJhd0ZlYXR1cmVzLmpvaW4oXCIgXCIpLnRvTG93ZXJDYXNlKClcclxuICAgICAgOiAocmF3RmVhdHVyZXM/LnRvTG93ZXJDYXNlPy4oKSB8fCBcIlwiKTtcclxuXHJcbiAgICBjb25zdCBtaW5vcl9jb2RlID1cclxuICAgICAgcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfY29kZT8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG5cclxuICAgIGlmIChkZXNjcmlwdGlvbi5pbmNsdWRlcyhcImZyZWVzdGFuZGluZ1wiKSkgcmV0dXJuIFwiRnJlZXN0YW5kaW5nXCI7XHJcbiAgICBpZiAoXHJcbiAgICAgIGRlc2NyaXB0aW9uLmluY2x1ZGVzKFwiYnVpbHQgaW5cIikgfHxcclxuICAgICAgZGVzY3JpcHRpb24uaW5jbHVkZXMoXCJidWlsdC1pblwiKSB8fFxyXG4gICAgICBkZXNjcmlwdGlvbi5pbmNsdWRlcyhcImJ1aWx0aW5cIilcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gXCJCdWlsdCBJblwiO1xyXG4gICAgfVxyXG4gICAgaWYgKFxyXG4gICAgICBkZXNjcmlwdGlvbi5pbmNsdWRlcyhcIm91dGRvb3JcIikgfHxcclxuICAgICAgcGFyYWdyYXBoLmluY2x1ZGVzKFwib3V0ZG9vclwiKSB8fFxyXG4gICAgICBmZWF0dXJlcy5pbmNsdWRlcyhcIm91dGRvb3JcIilcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gXCJPdXRkb29yXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgUmVmcmlnRmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICAvLyBmZWF0dXJlcy5mZWF0dXJlIGNhbiBiZSBzdHJpbmcgb3Igc3RyaW5nW11cclxuICAgIGNvbnN0IHJhd01hcmtldEZlYXR1cmVzID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uZmVhdHVyZXM/LmZlYXR1cmU7XHJcbiAgICBjb25zdCBtYXJrZXRfZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KHJhd01hcmtldEZlYXR1cmVzKVxyXG4gICAgICA/IHJhd01hcmtldEZlYXR1cmVzLmpvaW4oXCIgXCIpLnRvTG93ZXJDYXNlKClcclxuICAgICAgOiAocmF3TWFya2V0RmVhdHVyZXM/LnRvTG93ZXJDYXNlPy4oKSB8fCBcIlwiKTtcclxuXHJcbiAgICAvLyBpbWFnZV9mZWF0dXJlcy5pbWFnZV9mZWF0dXJlIGNhbiBiZSBvYmplY3Qgb3IgYXJyYXkgb3IgdW5kZWZpbmVkXHJcbiAgICBjb25zdCByYXdJbWFnZUZlYXR1cmVzID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaW1hZ2VfZmVhdHVyZXM/LmltYWdlX2ZlYXR1cmU7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfZmVhdHVyZXMgPSBBcnJheS5pc0FycmF5KHJhd0ltYWdlRmVhdHVyZXMpXHJcbiAgICAgID8gcmF3SW1hZ2VGZWF0dXJlc1xyXG4gICAgICA6IHJhd0ltYWdlRmVhdHVyZXNcclxuICAgICAgICA/IFtyYXdJbWFnZUZlYXR1cmVzXVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VfZmVhdHVyZXNcclxuICAgICAgLm1hcCgoZikgPT4gZj8udGl0bGU/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIilcclxuICAgICAgLmpvaW4oXCIgXCIpO1xyXG5cclxuICAgIGNvbnN0IGltYWdlX2Rlc2NyaXB0aW9uID0gaW1hZ2VfZmVhdHVyZXNcclxuICAgICAgLm1hcCgoZikgPT4gZj8uZmVhdHVyZV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiKVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3Qgc2hvcnQgPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgbWVkaXVtID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcbiAgICBjb25zdCBwYXJhZ3JhcGggPVxyXG4gICAgICBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5wYXJhZ3JhcGhfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IChcclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgXCJcIlxyXG4gICAgKVxyXG4gICAgICAucmVwbGFjZSgvPFtePl0qPi9nLCBcIlwiKVxyXG4gICAgICAudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW1xyXG4gICAgICBtYXJrZXRfZmVhdHVyZXMsXHJcbiAgICAgIGltYWdlX3RpdGxlcyxcclxuICAgICAgaW1hZ2VfZGVzY3JpcHRpb24sXHJcbiAgICAgIHNob3J0LFxyXG4gICAgICBtZWRpdW0sXHJcbiAgICAgIHBhcmFncmFwaCxcclxuICAgICAgaGllcmFyY2hpY2FsLFxyXG4gICAgXS5qb2luKFwiIFwiKTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlcyA9IFtdO1xyXG5cclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKFwiZXh0ZXJuYWwgZGlzcGVuc2VyXCIpIHx8IC9leHRlcm5hbC4qZGlzcGVuc2VyLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJFeHRlcm5hbCBXYXRlci9JY2UgRGlzcGVuc2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKFwiaW50ZXJuYWwgZGlzcGVuc2VyXCIpIHx8IC9pbnRlcm5hbC4qZGlzcGVuc2VyLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJJbnRlcm5hbCBXYXRlciBEaXNwZW5zZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFsbFRleHQuaW5jbHVkZXMoXCJpbnRlcm5hbCBpY2UgYW5kIHdhdGVyIGRpc3BlbnNlclwiKSB8fCAvaW50ZXJuYWwuKmljZS4qZGlzcGVuc2VyLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJJbnRlcm5hbCBXYXRlci9JY2UgRGlzcGVuc2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChhbGxUZXh0LmluY2x1ZGVzKFwiaW50ZXJuYWwgaWNlIG1ha2VyXCIpIHx8IC9pbnRlcm5hbC4qaWNlLiptYWtlci8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiSW50ZXJuYWwgSWNlIE1ha2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgYWxsVGV4dC5pbmNsdWRlcyhcIndpZmlcIikgfHxcclxuICAgICAgYWxsVGV4dC5pbmNsdWRlcyhcIndpLWZpXCIpIHx8XHJcbiAgICAgIGFsbFRleHQuaW5jbHVkZXMoXCJzbWFydHRoaW5nc1wiKSB8fFxyXG4gICAgICAvd2lbLV0/ZmkvLnRlc3QoYWxsVGV4dClcclxuICAgICkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiV2lmaSBDYXBhYmxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIOKchSBGdXp6eSBtYXRjaGluZyBmb3IgYWRkaXRpb25hbCBmZWF0dXJlc1xyXG4gICAgaWYgKC9jcmlzcGVyW3NdPy8udGVzdChhbGxUZXh0KSB8fCAvY3Jpc3Blci4qYmluW3NdPy8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiQ3Jpc3BlciBCaW5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9hZGp1c3RhYmxlLipzaGVsZnxzaGVsdmVzLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJBZGp1c3RhYmxlIFNoZWx2ZXNcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9nYWxsb24uKmRvb3IuKnN0b3JhZ2UvLnRlc3QoYWxsVGV4dCkpIHtcclxuICAgICAgZmVhdHVyZXMucHVzaChcIkdhbGxvbiBEb29yIFN0b3JhZ2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9pY2UuKmJpbi8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiSWNlIEJpblwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoL3dpbmUuKnJhY2tbc10/Ly50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJXaW5lIFJhY2tcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICAvc25hY2suKmRyYXdlci8udGVzdChhbGxUZXh0KSB8fFxyXG4gICAgICAvZGVsaS4qZHJhd2VyLy50ZXN0KGFsbFRleHQpIHx8XHJcbiAgICAgIC9zbmFja1xcL2RlbGkvLnRlc3QoYWxsVGV4dClcclxuICAgICkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiU25hY2svRGVsaSBEcmF3ZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKC9kb29yWy0gXT9pblstIF0/ZG9vci8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiRG9vciBpbiBEb29yXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvZmxleFstIF0/em9uZS8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiRmxleCBab25lXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvaWNlLipzY29vcC8udGVzdChhbGxUZXh0KSkge1xyXG4gICAgICBmZWF0dXJlcy5wdXNoKFwiSWNlIFNjb29wXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgvcmVtb3ZhYmxlLipzaGVsZnxzaGVsdmVzLy50ZXN0KGFsbFRleHQpKSB7XHJcbiAgICAgIGZlYXR1cmVzLnB1c2goXCJSZW1vdmFibGUgU2hlbHZlc1wiKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmVhdHVyZXMubGVuZ3RoID4gMCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBGcmVlemVyUHJvZHVjdFR5cGU6IChwcm9kdWN0KSA9PiB7XHJcbiAgICBjb25zdCBjb2RlID0gcHJvZHVjdC5jbGFzc2lmaWNhdGlvbj8ubWlub3JfY2xhc3NfY29kZT8udG9VcHBlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgaGVpZ2h0ID0gcGFyc2VGbG9hdChwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5oZWlnaHQpO1xyXG4gICAgY29uc3Qgc2hvcnQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zaG9ydF9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG4gICAgY29uc3QgbWVkaXVtID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ubWVkaXVtX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgcGFyYWdyYXBoID0gcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ucGFyYWdyYXBoX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8ICcnO1xyXG4gICAgY29uc3QgbWlub3JEZXMgPSBwcm9kdWN0LmNsYXNzaWZpY2F0aW9uPy5taW5vcl9jbGFzc19kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2U/LigpIHx8ICcnO1xyXG5cclxuXHJcbiAgICBjb25zdCBhbGxUZXh0ID0gW3Nob3J0LCBtZWRpdW0sIHBhcmFncmFwaF0uam9pbignJyk7XHJcblxyXG4gICAgaWYgKGNvZGUgPT09IFwiRFJBV0VSXCIpIHJldHVybiBcImZyZWV6ZXIgZHJhd2Vyc1wiO1xyXG4gICAgaWYgKGNvZGUgPT09IFwiQ0hGUlpFXCIgfHwgYWxsVGV4dC5pbmNsdWRlcyhcImNoZXN0XCIpKSByZXR1cm4gXCJjaGVzdCBmcmVlemVyXCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJVUEZSWkVcIiAmJiBoZWlnaHQgPCAzNikgcmV0dXJuIFwidW5kZXJjb3VudGVyXCI7XHJcbiAgICBpZiAoY29kZSA9PT0gXCJVUEZSWkVcIikgcmV0dXJuIFwidXByaWdodCBmcmVlemVyXCI7XHJcblxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfSxcclxuXHJcbiAgLy8g8J+UuSBGcmlkZ2Ugd2lkdGhcclxuICBSZWZyaWdXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgcmV0dXJuIGdldEZyaWRnZUZyZWV6ZXJXaWR0aExhYmVsKHJhdyk7XHJcbiAgfSxcclxuXHJcbiAgLy8g8J+UuSBGcmVlemVyIHdpZHRoXHJcbiAgRnJlZXplcldpZHRoOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgcmF3ID0gZXh0cmFjdFdpZHRoSW5JbmNoZXMocHJvZHVjdCk7XHJcbiAgICByZXR1cm4gZ2V0RnJpZGdlRnJlZXplcldpZHRoTGFiZWwocmF3KTtcclxuICB9LFxyXG5cclxuICAvLyDwn5S5IEZyZWV6ZXIgZmVhdHVyZXNcclxuICBGcmVlemVyRmVhdHVyZXM6IChwcm9kdWN0KSA9PiB7XHJcbiAgICAvLyDwn5SQIE5vcm1hbGl6ZSBtYXJrZXRpbmdfY29weS5mZWF0dXJlcy5mZWF0dXJlIOKGkiBhcnJheSBvZiBzdHJpbmdzXHJcbiAgICBjb25zdCByYXdGZWF0dXJlRmllbGQgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5mZWF0dXJlcz8uZmVhdHVyZTtcclxuICAgIGNvbnN0IGZlYXR1cmVMaXN0ID0gQXJyYXkuaXNBcnJheShyYXdGZWF0dXJlRmllbGQpXHJcbiAgICAgID8gcmF3RmVhdHVyZUZpZWxkXHJcbiAgICAgIDogcmF3RmVhdHVyZUZpZWxkXHJcbiAgICAgICAgPyBbcmF3RmVhdHVyZUZpZWxkXVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgY29uc3QgbWFya2V0X2ZlYXR1cmVzID0gZmVhdHVyZUxpc3RcclxuICAgICAgLm1hcCgoZikgPT4gKHR5cGVvZiBmID09PSBcInN0cmluZ1wiID8gZiA6IFN0cmluZyhmIHx8IFwiXCIpKSlcclxuICAgICAgLmpvaW4oXCIgXCIpXHJcbiAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIC8vIPCflJAgTm9ybWFsaXplIG1hcmtldGluZ19jb3B5LmltYWdlX2ZlYXR1cmVzLmltYWdlX2ZlYXR1cmUg4oaSIGFycmF5IG9mIG9iamVjdHNcclxuICAgIGNvbnN0IHJhd0ltYWdlRmVhdHVyZXMgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5pbWFnZV9mZWF0dXJlcz8uaW1hZ2VfZmVhdHVyZTtcclxuICAgIGNvbnN0IGltYWdlRmVhdHVyZUxpc3QgPSBBcnJheS5pc0FycmF5KHJhd0ltYWdlRmVhdHVyZXMpXHJcbiAgICAgID8gcmF3SW1hZ2VGZWF0dXJlc1xyXG4gICAgICA6IHJhd0ltYWdlRmVhdHVyZXNcclxuICAgICAgICA/IFtyYXdJbWFnZUZlYXR1cmVzXVxyXG4gICAgICAgIDogW107XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfdGl0bGVzID0gaW1hZ2VGZWF0dXJlTGlzdFxyXG4gICAgICAubWFwKChmKSA9PiBmPy50aXRsZT8udG9Mb3dlckNhc2UoKSB8fCBcIlwiKVxyXG4gICAgICAuam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3QgaW1hZ2VfZGVzY3JpcHRpb24gPSBpbWFnZUZlYXR1cmVMaXN0XHJcbiAgICAgIC5tYXAoKGYpID0+IGY/LmZlYXR1cmVfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIilcclxuICAgICAgLmpvaW4oXCIgXCIpO1xyXG5cclxuICAgIGNvbnN0IHNob3J0ID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uc2hvcnRfZGVzY3JpcHRpb24/LnRvTG93ZXJDYXNlKCkgfHwgXCJcIjtcclxuICAgIGNvbnN0IG1lZGl1bSA9XHJcbiAgICAgIHByb2R1Y3QubWFya2V0aW5nX2NvcHk/Lm1lZGl1bV9kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKSB8fCBcIlwiO1xyXG4gICAgY29uc3QgcGFyYWdyYXBoID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8ucGFyYWdyYXBoX2Rlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpIHx8IFwiXCI7XHJcblxyXG4gICAgY29uc3QgaGllcmFyY2hpY2FsUmF3ID1cclxuICAgICAgcHJvZHVjdC5tYXJrZXRpbmdfY29weT8uaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwgfHwgXCJcIjtcclxuICAgIGNvbnN0IGhpZXJhcmNoaWNhbCA9IGhpZXJhcmNoaWNhbFJhdy5yZXBsYWNlKC88W14+XSo+L2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgY29uc3QgYWxsVGV4dCA9IFtcclxuICAgICAgbWFya2V0X2ZlYXR1cmVzLFxyXG4gICAgICBpbWFnZV90aXRsZXMsXHJcbiAgICAgIGltYWdlX2Rlc2NyaXB0aW9uLFxyXG4gICAgICBzaG9ydCxcclxuICAgICAgbWVkaXVtLFxyXG4gICAgICBwYXJhZ3JhcGgsXHJcbiAgICAgIGhpZXJhcmNoaWNhbCxcclxuICAgIF0uam9pbihcIiBcIik7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBmZWF0dXJlUmVnZXhNYXAgPSB7XHJcbiAgICAgIFwiTGlnaHQgSW5jbHVkZWRcIjogW1xyXG4gICAgICAgIC9cXGJsaWdodCBpbmNsdWRlZFxcYi8sXHJcbiAgICAgICAgL1xcYmludGVyaW9yIGxpZ2h0XFxiLyxcclxuICAgICAgICAvXFxiaW50ZXJpb3IgbGlnaHRpbmdcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIkljZSBNYWtlclwiOiBbXHJcbiAgICAgICAgL1xcYmljZSBtYWtlclxcYi8sXHJcbiAgICAgICAgL1xcYmljZS1tYWtlclxcYi8sXHJcbiAgICAgICAgL1xcYmF1dG9tYXRpYyBpY2VcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIkNvdW50ZXIgRGVwdGhcIjogWy9cXGJjb3VudGVyWy1cXHNdP2RlcHRoXFxiL10sXHJcbiAgICAgIFwiUGFuZWwgUmVhZHlcIjogWy9cXGJwYW5lbFstXFxzXT9yZWFkeVxcYi9dLFxyXG4gICAgICBcIlNhYmJhdGggTW9kZVwiOiBbL1xcYnNhYmJhdGhcXGIvXSxcclxuICAgICAgXCJMZXZlbGluZyBMZWdzXCI6IFtcclxuICAgICAgICAvXFxibGV2ZWxpbmcgbGVncz9cXGIvLFxyXG4gICAgICAgIC9cXGJsZXZlbGluZyBmZWV0XFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJJbnRlcmlvciBMaWdodFwiOiBbXHJcbiAgICAgICAgL1xcYmludGVyaW9yIGxpZ2h0XFxiLyxcclxuICAgICAgICAvXFxiaW50ZXJpb3IgbGlnaHRpbmdcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIkVuZXJneSBTdGFyXCI6IFsvXFxiZW5lcmd5XFxzKnN0YXJcXGIvXSxcclxuICAgICAgXCJJbnRlcm5hbCBJY2UgTWFrZXJcIjogW1xyXG4gICAgICAgIC9cXGJpbnRlcm5hbCBpY2UgbWFrZXJcXGIvLFxyXG4gICAgICAgIC9cXGJpbnRlcm5hbCBpY2VcXGIvLFxyXG4gICAgICAgIC9cXGJpY2UgbWFrZXIgaW5zaWRlXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJJbmNsdWRlcyBUaGVybW9zdGF0XCI6IFtcclxuICAgICAgICAvXFxidGhlcm1vc3RhdCBpbmNsdWRlZFxcYi8sXHJcbiAgICAgICAgL1xcYmluY2x1ZGVzIHRoZXJtb3N0YXRcXGIvLFxyXG4gICAgICAgIC9cXGJ0aGVybW9zdGF0IGNvbnRyb2xcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIlRpdGxlIDIwIENvbXBsaWFudFwiOiBbL1xcYnRpdGxlXFxzKjIwXFxiL10sXHJcbiAgICAgIEFEQTogWy9cXGJhZGFcXGIvLCAvXFxiYWRhIGNvbXBsaWFudFxcYi9dLFxyXG4gICAgICBcIkljZSBCaW4gSW5jbHVkZWRcIjogW1xyXG4gICAgICAgIC9cXGJpY2UgYmluIGluY2x1ZGVkXFxiLyxcclxuICAgICAgICAvXFxicmVtb3ZhYmxlIGljZSBiaW5cXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIk1hZGUgaW4gQW1lcmljYVwiOiBbXHJcbiAgICAgICAgL1xcYm1hZGUgaW4gKHVzYXxhbWVyaWNhKVxcYi8sXHJcbiAgICAgICAgL1xcYmFtZXJpY2FuWy1cXHNdP21hZGVcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIlJlYmF0ZSBPZmZlcmVkXCI6IFsvXFxicmViYXRlXFxiLywgL1xcYnJlYmF0ZXMgYXZhaWxhYmxlXFxiL10sXHJcbiAgICAgIFwiSHVtaWRpdHkgQ29udHJvbFwiOiBbXHJcbiAgICAgICAgL1xcYmh1bWlkaXR5IGNvbnRyb2xcXGIvLFxyXG4gICAgICAgIC9cXGJtb2lzdHVyZSBjb250cm9sXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJTbWFydCBIb21lXCI6IFtcclxuICAgICAgICAvXFxic21hcnQgaG9tZVxcYi8sXHJcbiAgICAgICAgL1xcYnNtYXJ0XFxzKihjb25uZWN0fGNvbnRyb2wpXFxiLyxcclxuICAgICAgICAvXFxid2lbLVxcc10/ZmlcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIkFwcHJvdmVkIGZvciBDb21tZXJjaWFsIFVzZVwiOiBbXHJcbiAgICAgICAgL1xcYmNvbW1lcmNpYWwgdXNlXFxiLyxcclxuICAgICAgICAvXFxiYXBwcm92ZWQgZm9yIGNvbW1lcmNpYWxcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIk91dGRvb3IgQXBwcm92ZWRcIjogW1xyXG4gICAgICAgIC9cXGJvdXRkb29yXFxiLioocmF0ZWR8YXBwcm92ZWR8dXNlKS8sXHJcbiAgICAgICAgL1xcYmFwcHJvdmVkIGZvciBvdXRkb29yIHVzZVxcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiQXV0b21hdGljIERvb3IgQ2xvc2VyXCI6IFtcclxuICAgICAgICAvXFxiYXV0b21hdGljIGRvb3IgY2xvc2VyXFxiLyxcclxuICAgICAgICAvXFxiYXV0b1stXFxzXT9jbG9zZSBkb29yXFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJGcm9udCBMb2FkaW5nXCI6IFtcclxuICAgICAgICAvXFxiZnJvbnQgbG9hZGluZ1xcYi8sXHJcbiAgICAgICAgL1xcYmZyb250Wy1cXHNdP2xvYWRcXGIvLFxyXG4gICAgICBdLFxyXG4gICAgICBcIldpdGggQ2FzdGVyc1wiOiBbL1xcYmNhc3RlcnM/XFxiLywgL1xcYnJvbGxpbmdcXGIvXSxcclxuICAgICAgXCJBZGp1c3RhYmxlIFNoZWx2ZXNcIjogW1xyXG4gICAgICAgIC9cXGJhZGp1c3RhYmxlIHNoZWx2ZXM/XFxiLyxcclxuICAgICAgICAvXFxiYWRqdXN0YWJsZSBzaGVsdmluZ1xcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIFwiQXV0b21hdGljIERlZnJvc3RcIjogW1xyXG4gICAgICAgIC9cXGJhdXRvbWF0aWMgZGVmcm9zdFxcYi8sXHJcbiAgICAgICAgL1xcYmF1dG9bLVxcc10/ZGVmcm9zdFxcYi8sXHJcbiAgICAgICAgL1xcYm5vWy1cXHNdP2Zyb3N0XFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJGaW5nZXJwcmludCBSZXNpc3RhbnRcIjogW1xyXG4gICAgICAgIC9cXGJmaW5nZXJwcmludCByZXNpc3RhbnRcXGIvLFxyXG4gICAgICAgIC9cXGJyZXNpc3RzIGZpbmdlcnByaW50c1xcYi8sXHJcbiAgICAgIF0sXHJcbiAgICAgIExvY2thYmxlOiBbL1xcYmxvY2thYmxlXFxiLywgL1xcYmRvb3IgbG9ja1xcYi8sIC9cXGJsb2NrIHdpdGgga2V5XFxiL10sXHJcbiAgICAgIFwiSW5jbHVkZXMgRnJlZXplclwiOiBbXHJcbiAgICAgICAgL1xcYmluY2x1ZGVzIGZyZWV6ZXJcXGIvLFxyXG4gICAgICAgIC9cXGJmcmVlemVyIGNvbXBhcnRtZW50XFxiLyxcclxuICAgICAgXSxcclxuICAgICAgXCJRdWljayBTaGlwXCI6IFsvXFxicXVpY2sgc2hpcFxcYi8sIC9cXGJmYXN0IHNoaXBcXGIvXSxcclxuICAgICAgXCJUb3dlciBJbmNsdWRlZFwiOiBbXHJcbiAgICAgICAgL1xcYnRvd2VyIGluY2x1ZGVkXFxiLyxcclxuICAgICAgICAvXFxiZnJlZXplciB0b3dlclxcYi8sXHJcbiAgICAgIF0sXHJcbiAgICB9O1xyXG5cclxuICAgIGZvciAoY29uc3QgW2xhYmVsLCByZWdleGVzXSBvZiBPYmplY3QuZW50cmllcyhmZWF0dXJlUmVnZXhNYXApKSB7XHJcbiAgICAgIGlmIChyZWdleGVzLnNvbWUoKHJlZ2V4KSA9PiByZWdleC50ZXN0KGFsbFRleHQpKSkge1xyXG4gICAgICAgIGZlYXR1cmVzLnB1c2gobGFiZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZlYXR1cmVzLmxlbmd0aCA/IGZlYXR1cmVzIDogbnVsbDtcclxuICB9LFxyXG5cclxuICBSYW5nZUZlYXR1cmVzOiAocHJvZHVjdCkgPT4ge1xyXG4gICAgY29uc3QgbWFya2V0aW5nQ29weSA9IEpTT04uc3RyaW5naWZ5KHByb2R1Y3QubWFya2V0aW5nX2NvcHkgfHwge30pLnRvTG93ZXJDYXNlKCk7XHJcbiAgICBjb25zdCBjbGFzc2lmaWNhdGlvbnMgPSBKU09OLnN0cmluZ2lmeShwcm9kdWN0LmNsYXNzaWZpY2F0aW9uIHx8IHt9KS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuICAgIGNvbnN0IGFsbFRleHRSYXcgPSBbbWFya2V0aW5nQ29weSwgY2xhc3NpZmljYXRpb25zXS5qb2luKCcgJyk7XHJcbiAgICBjb25zdCBub3JtYWxpemVkVGV4dCA9IGFsbFRleHRSYXcudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XHJcblxyXG4gICAgY29uc3QgZmVhdHVyZXMgPSBbXTtcclxuXHJcbiAgICBjb25zdCBtYXRjaEZlYXR1cmUgPSAocmVnZXgsIGxhYmVsKSA9PiB7XHJcbiAgICAgIGlmIChyZWdleC50ZXN0KG5vcm1hbGl6ZWRUZXh0KSkgZmVhdHVyZXMucHVzaChsYWJlbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIPCflKUgQnVybmVyIGNvdW50ICh0ZXh0LWJhc2VkKVxyXG4gICAgbWF0Y2hGZWF0dXJlKC9cXCg0XFwpW15cXGRdPy8sICc0IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9cXCg1XFwpW15cXGRdPy8sICc1IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9cXCg2XFwpW15cXGRdPy8sICc2IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9cXCg4XFwpW15cXGRdPy8sICc4IGJ1cm5lcicpO1xyXG5cclxuICAgIG1hdGNoRmVhdHVyZSgvNFtcXHMtXT8oYnVybmVycz98YnR1KS8sICc0IGJ1cm5lcicpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC81W1xccy1dPyhidXJuZXJzP3xidHUpLywgJzUgYnVybmVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoLzZbXFxzLV0/KGJ1cm5lcnM/fGJ0dSkvLCAnNiBidXJuZXInKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvOFtcXHMtXT8oYnVybmVycz98YnR1KS8sICc4IGJ1cm5lcicpO1xyXG5cclxuICAgIG1hdGNoRmVhdHVyZSgvNFtcXHMtXT9idXJuZXIvLCAnNCBidXJuZXInKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvNVtcXHMtXT9idXJuZXIvLCAnNSBidXJuZXInKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvNltcXHMtXT9idXJuZXIvLCAnNiBidXJuZXInKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvOFtcXHMtXT9idXJuZXIvLCAnOCBidXJuZXInKTtcclxuXHJcbiAgICAvLyDwn5SNIEJ1cm5lciBjb3VudCBmcm9tIHNwZWMgdGFibGUga2V5LXZhbHVlIHBhaXJzXHJcbiAgICBjb25zdCBzcGVjVGFibGUgPSBwcm9kdWN0Lm1hcmtldGluZ19jb3B5Py5zcGVjX3RhYmxlX2h0bWw/LnNwZWNfdGFibGVfYXNfa2V5X3ZhbHVlX3BhaXJzIHx8IFtdO1xyXG4gICAgc3BlY1RhYmxlLmZvckVhY2goc2VjdGlvbiA9PiB7XHJcbiAgICAgIChzZWN0aW9uPy5rZXlfdmFsdWVfcGFpcnMgfHwgW10pLmZvckVhY2gocGFpciA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gcGFpci5rZXk/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhaXIudmFsdWU/LnRvTG93ZXJDYXNlPy4oKSB8fCAnJztcclxuICAgICAgICBpZiAoa2V5LmluY2x1ZGVzKCdidXJuZXInKSkge1xyXG4gICAgICAgICAgY29uc3QgbWF0Y2ggPSB2YWx1ZS5tYXRjaCgvXFwoKFxcZCspXFwpLyk7XHJcbiAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgZmVhdHVyZXMucHVzaChgJHttYXRjaFsxXX0gYnVybmVyYCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIPCflIEgUmFuZ2Utc3BlY2lmaWMgZmVhdHVyZXNcclxuICAgIG1hdGNoRmVhdHVyZSgvZ3JpZGRsZS8sICdncmlkZGxlJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2NoYXJicm9pbGVyLywgJ2NoYXJicm9pbGVyIG9wdGlvbnMnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvZnJlbmNoW1xccy1dP3RvcC8sICdmcmVuY2ggdG9wJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3dpZml8d2lbXFxzLV0/Zml8c21hcnR0aGluZ3MvLCAnV2lmaSBDYXBhYmxlJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3NlbGZbXFxzLV0/Y2xlYW4oaW5nKT8vLCAnU2VsZiBDbGVhbmluZycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9zYWJiYXRoLywgJ1NhYmJhdGggTW9kZScpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9scCBjb252ZXJzaW9uLywgJ0xQIENvbnZlcnNpb24nKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvbGV2ZWxpbmcgbGVncz8vLCAnTGV2ZWxpbmcgTGVncycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9pbnRlcmlvciAob3ZlbiApP2xpZ2h0LywgJ0ludGVyaW9yIExpZ2h0Jyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2Jyb2lsLywgJ0Jyb2lsIEVsZW1lbnQnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvb3Zlbi8sICdPdmVuJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2Nsb2NrLywgJ0Nsb2NrJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3RpbWVyLywgJ0luY2x1ZGVzIFRpbWVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2hvdCBzdXJmYWNlLywgJ0hvdCBTdXJmYWNlIEluZGljYXRvciBMaWdodHMnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvd2FybSBmdW5jdGlvbi8sICdXYXJtIEZ1bmN0aW9uJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3RpdGxlIDIwLywgJ1RpdGxlIDIwIENvbXBsaWFudCcpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9zbWFydCBob21lLywgJ1NtYXJ0IEhvbWUnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvZmluZ2VycHJpbnQgcmVzaXN0YW50LywgJ0ZpbmdlcnByaW50IFJlc2lzdGFudCcpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9haXIgZnJ5LywgJ0FpciBGcnknKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvXFxiYWRhXFxiLywgJ0FEQScpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9hdXRvIHNodXRbXFxzLV0/b2ZmLywgJ0F1dG8gU2h1dCBPZmYnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvbWVhdCB0aGVybW9tZXRlci8sICdNZWF0IFRoZXJtb21ldGVyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL1xcYmdyaWxsXFxiLywgJ0dyaWxsJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL3N0ZWFtIGNvb2svLCAnU3RlYW0gQ29va2luZycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9wZmFzLywgJ0NvbnRhaW5zIFBGQVMgQ2hlbWljYWxzJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2VuZXJneSBzdGFyLywgJ0VuZXJneSBTdGFyJyk7XHJcbiAgICBtYXRjaEZlYXR1cmUoL2NvbW1lcmNpYWwgdXNlLywgJ0FwcHJvdmVkIGZvciBDb21tZXJjaWFsIFVzZScpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9kb3duZHJhZnQvLCAnRG93bmRyYWZ0IFZlbnRpbGF0ZWQnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvYWRqdXN0YWJsZSBsZWdzLywgJ0FkanVzdGFibGUgTGVncycpO1xyXG4gICAgbWF0Y2hGZWF0dXJlKC9mcm9udCBsb2FkaW5nLywgJ0Zyb250IExvYWRpbmcnKTtcclxuICAgIG1hdGNoRmVhdHVyZSgvY291bnRlciBkZXB0aC8sICdDb3VudGVyIERlcHRoJyk7XHJcblxyXG4gICAgcmV0dXJuIGZlYXR1cmVzLmxlbmd0aCA+IDAgPyBmZWF0dXJlcyA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgUmFuZ2VXaWR0aDogKHByb2R1Y3QpID0+IHtcclxuICAgIGNvbnN0IHJhdyA9IGV4dHJhY3RXaWR0aEluSW5jaGVzKHByb2R1Y3QpO1xyXG4gICAgaWYgKHJhdyA9PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZyhg8J+TjyBGaW5hbCByYXcgd2lkdGggZm9yIFJBTkdFIHByb2R1Y3Q6ICR7cmF3fVwiYCk7XHJcblxyXG4gICAgaWYgKHJhdyA8PSAyMikgcmV0dXJuICcyM1wiIGFuZCBMZXNzJztcclxuICAgIGlmIChyYXcgPj0gMjMgJiYgcmF3IDwgMjcpIHJldHVybiAnMjRcIic7XHJcbiAgICBpZiAocmF3ID49IDI3ICYmIHJhdyA8IDMzKSByZXR1cm4gJzMwXCInO1xyXG4gICAgaWYgKHJhdyA+PSAzMyAmJiByYXcgPCAzOSkgcmV0dXJuICczNlwiJztcclxuICAgIGlmIChyYXcgPj0gMzkgJiYgcmF3IDwgNDUpIHJldHVybiAnNDJcIic7XHJcbiAgICBpZiAocmF3ID49IDQ1ICYmIHJhdyA8IDU0KSByZXR1cm4gJzQ4XCInO1xyXG4gICAgaWYgKHJhdyA+PSA1NCAmJiByYXcgPCA2MSkgcmV0dXJuICc2MFwiJztcclxuICAgIGlmIChyYXcgPj0gNjEpIHJldHVybiAnNjFcIiBhbmQgYWJvdmUnO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIEJyYW5kOiAocHJvZHVjdCkgPT4gcHJvZHVjdC5icmFuZCB8fCBudWxsLFxyXG4gIEhlaWdodDogKHByb2R1Y3QpID0+IHByb2R1Y3QuaGVpZ2h0ID8gYCR7TWF0aC5yb3VuZChwYXJzZUZsb2F0KHByb2R1Y3QuaGVpZ2h0KSl9XCJgIDogbnVsbCxcclxuICBEZXB0aDogKHByb2R1Y3QpID0+IHByb2R1Y3QuZGVwdGggPyBgJHtNYXRoLnJvdW5kKHBhcnNlRmxvYXQocHJvZHVjdC5kZXB0aCkpfVwiYCA6IG51bGwsXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJ0eXBlRmVhdHVyZVZhbHVlcyIsImV4dHJhY3RXaWR0aEluSW5jaGVzIiwicHJvZHVjdCIsInJhdyIsIm1pbm9yIiwibWF0Y2hNaW5vciIsIm1hdGNoIiwicGFyc2VJbnQiLCJ3aWR0aFNvdXJjZSIsImNsYXNzaWZpY2F0aW9uIiwibm9taW5hbF93aWR0aF9pbl9pbmNoZXNfc3RyaW5nIiwid2lkdGhfc3RyaW5nIiwid2lkdGgiLCJyYXdTdHJpbmciLCJTdHJpbmciLCJ3aG9sZSIsImZyYWN0aW9uIiwibnVtIiwiZGVuIiwic3BsaXQiLCJuIiwicGFyc2VGbG9hdCIsImQiLCJudW1lcmljIiwidXBwZXIiLCJ0b1VwcGVyQ2FzZSIsImluY2x1ZGVzIiwiTWF0aCIsInJvdW5kIiwiY2xlYW5lZCIsInJlcGxhY2UiLCJOdW1iZXIiLCJpc05hTiIsImdldEZyaWRnZUZyZWV6ZXJXaWR0aExhYmVsIiwiZmlsdGVyVmFsdWVFeHRyYWN0b3JzIiwiRnVlbFR5cGUiLCJkZXNjcmlwdGlvbiIsIm1hcmtldGluZ19jb3B5Iiwic2hvcnRfZGVzY3JpcHRpb24iLCJ0b0xvd2VyQ2FzZSIsIm1pbm9yX2NvZGUiLCJtaW5vcl9jbGFzc19jb2RlIiwibWFqb3IiLCJtYWpvcl9jbGFzc19kZXNjcmlwdGlvbiIsIm1pbm9yX2NsYXNzX2Rlc2NyaXB0aW9uIiwidHlwZXMiLCJwdXNoIiwibGVuZ3RoIiwiRGlzaHdhc2hlclByb2R1Y3RUeXBlIiwiY29uc29sZSIsImxvZyIsImNvZGUiLCJoZWlnaHQiLCJzaG9ydCIsIm1lZGl1bSIsIm1lZGl1bV9kZXNjcmlwdGlvbiIsInBhcmFncmFwaCIsInBhcmFncmFwaF9kZXNjcmlwdGlvbiIsIm1pbm9yRGVzIiwiY29sb3JfY29kZSIsImNvbG9yX2NvZGVfZGVzY3JpcHRpb24iLCJhbGxUZXh0Iiwiam9pbiIsInRlc3QiLCJEaXNoV2FzaGVyRmVhdHVyZXMiLCJyYXdGZWF0dXJlRmllbGQiLCJmZWF0dXJlcyIsImZlYXR1cmUiLCJmZWF0dXJlTGlzdCIsIkFycmF5IiwiaXNBcnJheSIsIm1hcmtldF9mZWF0dXJlcyIsIm1hcCIsImYiLCJyYXdJbWFnZUZlYXR1cmVzIiwiaW1hZ2VfZmVhdHVyZXMiLCJpbWFnZV9mZWF0dXJlIiwiaW1hZ2VGZWF0dXJlTGlzdCIsImltYWdlX3RpdGxlcyIsInRpdGxlIiwiaW1hZ2VfZGVzY3JpcHRpb24iLCJmZWF0dXJlX2Rlc2NyaXB0aW9uIiwiaGllcmFyY2hpY2FsUmF3IiwiaGllcmFyY2hpY2FsX2ZlYXR1cmVzX2h0bWwiLCJoaWVyYXJjaGljYWwiLCJ0aGlyZFJhY2tSZWdleGVzIiwicmVnZXgiLCJzZWxmQ2xlYW5pbmdSZWdleGVzIiwiZW5lcmd5U3RhclJlZ2V4ZXMiLCJkcnlpbmdLZXl3b3JkcyIsInNhbml0YXJ5Umluc2VSZWdleGVzIiwiY3V0bGVyeVRyYXlSZWdleGVzIiwiRGlzaHdhc2hlcldpZHRoIiwiTWljcm93YXZlRmVhdHVyZXMiLCJyYXdNYXJrZXRGZWF0dXJlcyIsImtleXdvcmRNYXAiLCJ0dXJudGFibGUiLCJjbG9jayIsImNvbnZlY3Rpb24iLCJkdWN0bGVzcyIsImFkYSIsImxhYmVsIiwiT2JqZWN0IiwiZW50cmllcyIsIk1pY3JvUHJvZHVjdFR5cGUiLCJNaWNyb3dhdmVXaWR0aCIsIk92ZW5GZWF0dXJlcyIsIk92ZW5XaWR0aCIsIkNvb2t0b3BXaWR0aCIsIk92ZW5Qcm9kdWN0VHlwZSIsIkNvb2t0b3BGdWVsVHlwZSIsIkNvb2t0b3BQcm9kdWN0VHlwZSIsIkNvb2t0b3BGZWF0dXJlcyIsIm1hcmtldGluZ0NvcHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2xhc3NpZmljYXRpb25zIiwiYWxsVGV4dFJhdyIsIm5vcm1hbGl6ZWRUZXh0IiwibWF0Y2hGZWF0dXJlIiwic3BlY1RhYmxlIiwic3BlY190YWJsZV9hc19rZXlfdmFsdWVfcGFpcnMiLCJzcGVjX3RhYmxlX2h0bWwiLCJmb3JFYWNoIiwic2VjdGlvbiIsImtleV92YWx1ZV9wYWlycyIsInBhaXIiLCJrZXkiLCJ2YWx1ZSIsIkJicUZlYXR1cmVzIiwiQkJRUHJvZHVjdFR5cGUiLCJicmFuZENvZGUiLCJicmFuZF9jb2RlIiwic2lkZUJ1cm5lclJlZ2V4IiwiZXhjbHVzaW9uUmVnZXgiLCJCYnFXaWR0aCIsIkNvZmZlZUZlYXR1cmVzIiwiQ29mZmVlUHJvZHVjdFR5cGUiLCJidWlsdEluUmVnZXgiLCJjb3VudGVyVG9wUmVnZXgiLCJDb2ZmZWVXaWR0aCIsIkNvZmZlZUNvbmZpZ3VyYXRpb24iLCJwbHVtYmVkSW5SZWdleCIsIkxhdW5kcnlGZWF0dXJlcyIsImZlYXR1cmVSZWdleE1hcCIsInJlZ2V4ZXMiLCJzb21lIiwiTGF1bmRyeVdpZHRoIiwiTGF1bmRyeUNvbmZpZ3VyYXRpb24iLCJMYXVuZHJ5UHJvZHVjdFR5cGUiLCJIb29kRmVhdHVyZXMiLCJsZWQiLCJibG93ZXIiLCJIb29kV2lkdGgiLCJIb29kUHJvZHVjdFR5cGUiLCJJY2VGZWF0dXJlcyIsIkljZU1ha2VyV2lkdGgiLCJXYXJtaW5nRHJhd2VyRmVhdHVyZXMiLCJXYXJtaW5nRHJhd2VyV2lkdGgiLCJSZWZyaWdQcm9kdWN0VHlwZSIsIlJlZnJpZ0NvbmZpZ3VyYXRpb24iLCJyYXdGZWF0dXJlcyIsIlJlZnJpZ0ZlYXR1cmVzIiwiRnJlZXplclByb2R1Y3RUeXBlIiwiUmVmcmlnV2lkdGgiLCJGcmVlemVyV2lkdGgiLCJGcmVlemVyRmVhdHVyZXMiLCJBREEiLCJMb2NrYWJsZSIsIlJhbmdlRmVhdHVyZXMiLCJSYW5nZVdpZHRoIiwiQnJhbmQiLCJicmFuZCIsIkhlaWdodCIsIkRlcHRoIiwiZGVwdGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/filterMapper.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/productTypes.js":
/*!***********************************!*\
  !*** ./src/utils/productTypes.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   predefinedTypes: () => (/* binding */ predefinedTypes)\n/* harmony export */ });\n// src/catalogue/config/productTypes.js\nconst predefinedTypes = [\n    \"OUTDOOR GRILLS\",\n    \"RANGES\",\n    \"COOKTOPS AND RANGETOPS\",\n    \"BUILT IN OVENS\",\n    \"WARMING DRAWERS\",\n    \"VENTILATION\",\n    \"MICROWAVE\",\n    \"FREEZERS\",\n    \"REFRIGERATORS\",\n    \"COFFEE SYSTEMS\",\n    \"ICE MAKERS\",\n    \"DISHWASHERS\",\n    \"LAUNDRY\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvcHJvZHVjdFR5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSx1Q0FBdUM7QUFFaEMsTUFBTUEsa0JBQWtCO0lBQzNCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBRUgsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy91dGlscy9wcm9kdWN0VHlwZXMuanM/NWUxYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY2F0YWxvZ3VlL2NvbmZpZy9wcm9kdWN0VHlwZXMuanNcclxuXHJcbmV4cG9ydCBjb25zdCBwcmVkZWZpbmVkVHlwZXMgPSBbXHJcbiAgICAnT1VURE9PUiBHUklMTFMnLCAvL0RPTkVcclxuICAgICdSQU5HRVMnLCAvL0RPTkVcclxuICAgICdDT09LVE9QUyBBTkQgUkFOR0VUT1BTJywgLy9ET05FXHJcbiAgICAnQlVJTFQgSU4gT1ZFTlMnLCAvLyBET05FXHJcbiAgICAnV0FSTUlORyBEUkFXRVJTJywgLy8gRE9ORSBcclxuICAgICdWRU5USUxBVElPTicsIC8vIERPTkUgXHJcbiAgICAnTUlDUk9XQVZFJywgLy8gRE9ORSBcclxuICAgICdGUkVFWkVSUycsIC8vIERPTkVcclxuICAgICdSRUZSSUdFUkFUT1JTJywgLy8gRE9ORVxyXG4gICAgJ0NPRkZFRSBTWVNURU1TJywgLy8gRE9ORVxyXG4gICAgJ0lDRSBNQUtFUlMnLCAvL0RPTkVcclxuICAgICdESVNIV0FTSEVSUycsIC8vIERPTkVcclxuICAgICdMQVVORFJZJywgLy9ET05FIFxyXG4gICAgXHJcbl07XHJcbiJdLCJuYW1lcyI6WyJwcmVkZWZpbmVkVHlwZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/productTypes.js\n");

/***/ }),

/***/ "(rsc)/./src/utils/typeFeatureValues.js":
/*!****************************************!*\
  !*** ./src/utils/typeFeatureValues.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// src/catalogue/config/typeFeatureValues.js\nconst typeFeatureValues = {\n    RANGES: [\n        \"4 burner\",\n        \"5 burner\",\n        \"6 burner\",\n        \"8 burner\",\n        \"Wifi Capable\",\n        \"griddle\",\n        \"charbroiler options\",\n        \"french top\",\n        \"Baking Element\",\n        \"Interior Light\",\n        \"Broil Element\",\n        \"Convection\",\n        \"Light Included\",\n        \"Leveling Legs\",\n        \"LP Conversion\",\n        \"Continuous Grates\",\n        \"Self Cleaning\",\n        \"Clock\",\n        \"Sabbath Mode\",\n        \"Power Burner\",\n        \"Includes Timer\",\n        \"Hot Surface Indicator Lights\",\n        \"Warm Function\",\n        \"Title 20 Compliant\",\n        \"Smart Home\",\n        \"Fingerprint Resistant\",\n        \"Air Fry\",\n        \"ADA\",\n        \"Auto Shut Off\",\n        \"Meat Thermometer\",\n        \"Grill\",\n        \"Steam Cooking\",\n        \"Contains PFAS Chemicals\",\n        \"Oven\",\n        \"Energy Star\",\n        \"Approved for Commercial Use\",\n        \"Downdraft Ventilated\",\n        \"Adjustable Legs\",\n        \"Front Loading\",\n        \"Counter Depth\"\n    ],\n    \"COOKTOPS AND RANGETOPS\": [\n        \"2 burner\",\n        \"3 burner\",\n        \"4 burner\",\n        \"5 burner\",\n        \"6 burner\",\n        \"griddle\",\n        \"wok ring\"\n    ],\n    \"BUILT IN OVENS\": [\n        \"Wifi Capable\",\n        \"touch screen\",\n        \"handleless\",\n        \"air fry\"\n    ],\n    \"WARMING DRAWERS\": [\n        \"Panel Ready\",\n        \"ADA\",\n        \"Humidity Control\",\n        \"Outdoor\"\n    ],\n    REFRIGERATORS: [\n        \"Wifi Capable\",\n        \"Internal Ice Maker\",\n        \"Internal Water Dispenser\",\n        \"External Water/Ice Dispenser\",\n        \"Internal Water/Ice Dispenser\"\n    ]\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (typeFeatureValues);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdXRpbHMvdHlwZUZlYXR1cmVWYWx1ZXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDRDQUE0QztBQUU1QyxNQUFNQSxvQkFBb0I7SUFDdEJDLFFBQVE7UUFDSjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsMEJBQTBCO1FBQ3RCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0g7SUFDRCxrQkFBa0I7UUFDZDtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0QsbUJBQW1CO1FBQ2Y7UUFDQTtRQUNBO1FBQ0E7S0FDSDtJQUNEQyxlQUFlO1FBQ1g7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNIO0FBRUw7QUFFQSxpRUFBZUYsaUJBQWlCQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL3R5cGVGZWF0dXJlVmFsdWVzLmpzP2Y3N2MiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NhdGFsb2d1ZS9jb25maWcvdHlwZUZlYXR1cmVWYWx1ZXMuanNcclxuXHJcbmNvbnN0IHR5cGVGZWF0dXJlVmFsdWVzID0ge1xyXG4gICAgUkFOR0VTOiBbXHJcbiAgICAgICAgJzQgYnVybmVyJyxcclxuICAgICAgICAnNSBidXJuZXInLFxyXG4gICAgICAgICc2IGJ1cm5lcicsXHJcbiAgICAgICAgJzggYnVybmVyJyxcclxuICAgICAgICAnV2lmaSBDYXBhYmxlJyxcclxuICAgICAgICAnZ3JpZGRsZScsXHJcbiAgICAgICAgJ2NoYXJicm9pbGVyIG9wdGlvbnMnLFxyXG4gICAgICAgICdmcmVuY2ggdG9wJyxcclxuICAgICAgICAnQmFraW5nIEVsZW1lbnQnLFxyXG4gICAgICAgICdJbnRlcmlvciBMaWdodCcsXHJcbiAgICAgICAgJ0Jyb2lsIEVsZW1lbnQnLFxyXG4gICAgICAgICdDb252ZWN0aW9uJyxcclxuICAgICAgICAnTGlnaHQgSW5jbHVkZWQnLFxyXG4gICAgICAgICdMZXZlbGluZyBMZWdzJyxcclxuICAgICAgICAnTFAgQ29udmVyc2lvbicsXHJcbiAgICAgICAgJ0NvbnRpbnVvdXMgR3JhdGVzJyxcclxuICAgICAgICAnU2VsZiBDbGVhbmluZycsXHJcbiAgICAgICAgJ0Nsb2NrJyxcclxuICAgICAgICAnU2FiYmF0aCBNb2RlJyxcclxuICAgICAgICAnUG93ZXIgQnVybmVyJyxcclxuICAgICAgICAnSW5jbHVkZXMgVGltZXInLFxyXG4gICAgICAgICdIb3QgU3VyZmFjZSBJbmRpY2F0b3IgTGlnaHRzJyxcclxuICAgICAgICAnV2FybSBGdW5jdGlvbicsXHJcbiAgICAgICAgJ1RpdGxlIDIwIENvbXBsaWFudCcsXHJcbiAgICAgICAgJ1NtYXJ0IEhvbWUnLFxyXG4gICAgICAgICdGaW5nZXJwcmludCBSZXNpc3RhbnQnLFxyXG4gICAgICAgICdBaXIgRnJ5JyxcclxuICAgICAgICAnQURBJyxcclxuICAgICAgICAnQXV0byBTaHV0IE9mZicsXHJcbiAgICAgICAgJ01lYXQgVGhlcm1vbWV0ZXInLFxyXG4gICAgICAgICdHcmlsbCcsXHJcbiAgICAgICAgJ1N0ZWFtIENvb2tpbmcnLFxyXG4gICAgICAgICdDb250YWlucyBQRkFTIENoZW1pY2FscycsXHJcbiAgICAgICAgJ092ZW4nLFxyXG4gICAgICAgICdFbmVyZ3kgU3RhcicsXHJcbiAgICAgICAgJ0FwcHJvdmVkIGZvciBDb21tZXJjaWFsIFVzZScsXHJcbiAgICAgICAgJ0Rvd25kcmFmdCBWZW50aWxhdGVkJyxcclxuICAgICAgICAnQWRqdXN0YWJsZSBMZWdzJyxcclxuICAgICAgICAnRnJvbnQgTG9hZGluZycsXHJcbiAgICAgICAgJ0NvdW50ZXIgRGVwdGgnXHJcbiAgICBdLFxyXG4gICAgJ0NPT0tUT1BTIEFORCBSQU5HRVRPUFMnOiBbXHJcbiAgICAgICAgJzIgYnVybmVyJyxcclxuICAgICAgICAnMyBidXJuZXInLFxyXG4gICAgICAgICc0IGJ1cm5lcicsXHJcbiAgICAgICAgJzUgYnVybmVyJyxcclxuICAgICAgICAnNiBidXJuZXInLFxyXG4gICAgICAgICdncmlkZGxlJyxcclxuICAgICAgICAnd29rIHJpbmcnXHJcbiAgICBdLFxyXG4gICAgJ0JVSUxUIElOIE9WRU5TJzogW1xyXG4gICAgICAgICdXaWZpIENhcGFibGUnLFxyXG4gICAgICAgICd0b3VjaCBzY3JlZW4nLFxyXG4gICAgICAgICdoYW5kbGVsZXNzJyxcclxuICAgICAgICAnYWlyIGZyeSdcclxuICAgIF0sXHJcbiAgICAnV0FSTUlORyBEUkFXRVJTJzogW1xyXG4gICAgICAgICdQYW5lbCBSZWFkeScsXHJcbiAgICAgICAgJ0FEQScsXHJcbiAgICAgICAgJ0h1bWlkaXR5IENvbnRyb2wnLFxyXG4gICAgICAgICdPdXRkb29yJ1xyXG4gICAgXSxcclxuICAgIFJFRlJJR0VSQVRPUlM6IFtcclxuICAgICAgICAnV2lmaSBDYXBhYmxlJyxcclxuICAgICAgICAnSW50ZXJuYWwgSWNlIE1ha2VyJyxcclxuICAgICAgICAnSW50ZXJuYWwgV2F0ZXIgRGlzcGVuc2VyJyxcclxuICAgICAgICAnRXh0ZXJuYWwgV2F0ZXIvSWNlIERpc3BlbnNlcicsXHJcbiAgICAgICAgJ0ludGVybmFsIFdhdGVyL0ljZSBEaXNwZW5zZXInLFxyXG4gICAgXSxcclxuXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB0eXBlRmVhdHVyZVZhbHVlczsiXSwibmFtZXMiOlsidHlwZUZlYXR1cmVWYWx1ZXMiLCJSQU5HRVMiLCJSRUZSSUdFUkFUT1JTIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/utils/typeFeatureValues.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/jszip","vendor-chunks/next","vendor-chunks/pako","vendor-chunks/fast-xml-parser","vendor-chunks/readable-stream","vendor-chunks/inherits","vendor-chunks/strnum","vendor-chunks/util-deprecate","vendor-chunks/string_decoder","vendor-chunks/safe-buffer","vendor-chunks/process-nextick-args","vendor-chunks/lie","vendor-chunks/isarray","vendor-chunks/immediate","vendor-chunks/core-util-is"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ffetch-specs%2Froute&page=%2Fapi%2Ffetch-specs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ffetch-specs%2Froute.js&appDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cjames%5CDocuments%5CMLDwebsite%5Cmld-catalog-backend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();